import { createHotContext as __vite__createHotContext } from "/@vite/client";import.meta.hot = __vite__createHotContext("/src/components/clients/ClientList.tsx");import __vite__cjsImport0_react_jsxDevRuntime from "/node_modules/.vite/deps/react_jsx-dev-runtime.js?v=2c4c02a3"; const jsxDEV = __vite__cjsImport0_react_jsxDevRuntime["jsxDEV"];
import * as RefreshRuntime from "/@react-refresh";
const inWebWorker = typeof WorkerGlobalScope !== "undefined" && self instanceof WorkerGlobalScope;
let prevRefreshReg;
let prevRefreshSig;
if (import.meta.hot && !inWebWorker) {
  if (!window.$RefreshReg$) {
    throw new Error(
      "@vitejs/plugin-react can't detect preamble. Something is wrong."
    );
  }
  prevRefreshReg = window.$RefreshReg$;
  prevRefreshSig = window.$RefreshSig$;
  window.$RefreshReg$ = RefreshRuntime.getRefreshReg("C:/Users/Bill.S/safety-intelligence-engine/src/components/clients/ClientList.tsx");
  window.$RefreshSig$ = RefreshRuntime.createSignatureFunctionForTransform;
}
var _s = $RefreshSig$();
import __vite__cjsImport3_react from "/node_modules/.vite/deps/react.js?v=2c4c02a3"; const useState = __vite__cjsImport3_react["useState"]; const useEffect = __vite__cjsImport3_react["useEffect"]; const useMemo = __vite__cjsImport3_react["useMemo"];
import { Building2, Plus, Search, Trash2, FileSpreadsheet } from "/node_modules/.vite/deps/lucide-react.js?v=2c4c02a3";
import { ClientSetupWizard } from "/src/components/clients/ClientSetupWizard.tsx";
import { ClientDetail } from "/src/components/clients/ClientDetail.tsx";
import { TrainingImporter } from "/src/components/training/TrainingImporter.tsx";
export function ClientList() {
  _s();
  const [clients, setClients] = useState([]);
  const [loading, setLoading] = useState(true);
  const [searchTerm, setSearchTerm] = useState("");
  const [showSetupWizard, setShowSetupWizard] = useState(false);
  const [showTrainingImporter, setShowTrainingImporter] = useState(false);
  const [selectedClientId, setSelectedClientId] = useState(null);
  const [viewingClientId, setViewingClientId] = useState(null);
  const loadClients = async () => {
    setLoading(true);
    try {
      const data = await window.api.listClients();
      setClients(data || []);
    } catch (error) {
      console.error("Failed to load clients:", error);
    } finally {
      setLoading(false);
    }
  };
  useEffect(() => {
    loadClients();
  }, []);
  const filteredClients = useMemo(() => {
    const search = (searchTerm || "").toLowerCase().trim();
    if (!search) return clients;
    return clients.filter((c) => {
      const name = (c.name || "").toLowerCase();
      return name.includes(search);
    });
  }, [clients, searchTerm]);
  const handleDelete = async (clientId, clientName) => {
    if (!confirm(`Are you sure you want to delete client "${clientName}"? This will remove all associated data.`)) {
      return;
    }
    try {
      await window.api.deleteClient(clientId);
      await loadClients();
    } catch (error) {
      console.error("Failed to delete client:", error);
      alert("Failed to delete client. It may have associated workers or sites.");
    }
  };
  const handleWizardComplete = () => {
    setShowSetupWizard(false);
    loadClients();
  };
  const handleImportTraining = (clientId) => {
    setSelectedClientId(clientId);
    setShowTrainingImporter(true);
  };
  const handleImportComplete = () => {
    setShowTrainingImporter(false);
    setSelectedClientId(null);
    loadClients();
  };
  if (viewingClientId) {
    return /* @__PURE__ */ jsxDEV(
      ClientDetail,
      {
        clientId: viewingClientId,
        onBack: () => {
          setViewingClientId(null);
          loadClients();
        }
      },
      void 0,
      false,
      {
        fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/clients/ClientList.tsx",
        lineNumber: 104,
        columnNumber: 7
      },
      this
    );
  }
  return /* @__PURE__ */ jsxDEV("div", { className: "space-y-6", children: [
    /* @__PURE__ */ jsxDEV("div", { className: "flex items-center justify-between", children: [
      /* @__PURE__ */ jsxDEV("div", { children: [
        /* @__PURE__ */ jsxDEV("h1", { className: "text-2xl font-bold text-gray-900", children: "Clients" }, void 0, false, {
          fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/clients/ClientList.tsx",
          lineNumber: 119,
          columnNumber: 11
        }, this),
        /* @__PURE__ */ jsxDEV("p", { className: "text-gray-500 mt-1", children: "Manage client organizations and safety frameworks" }, void 0, false, {
          fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/clients/ClientList.tsx",
          lineNumber: 120,
          columnNumber: 11
        }, this)
      ] }, void 0, true, {
        fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/clients/ClientList.tsx",
        lineNumber: 118,
        columnNumber: 9
      }, this),
      /* @__PURE__ */ jsxDEV(
        "button",
        {
          className: "flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",
          onClick: () => setShowSetupWizard(true),
          children: [
            /* @__PURE__ */ jsxDEV(Plus, { size: 20 }, void 0, false, {
              fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/clients/ClientList.tsx",
              lineNumber: 126,
              columnNumber: 11
            }, this),
            /* @__PURE__ */ jsxDEV("span", { children: "New Client Setup" }, void 0, false, {
              fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/clients/ClientList.tsx",
              lineNumber: 127,
              columnNumber: 11
            }, this)
          ]
        },
        void 0,
        true,
        {
          fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/clients/ClientList.tsx",
          lineNumber: 122,
          columnNumber: 9
        },
        this
      )
    ] }, void 0, true, {
      fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/clients/ClientList.tsx",
      lineNumber: 117,
      columnNumber: 7
    }, this),
    /* @__PURE__ */ jsxDEV("div", { className: "bg-white rounded-lg shadow p-4", children: /* @__PURE__ */ jsxDEV("div", { className: "relative", children: [
      /* @__PURE__ */ jsxDEV(Search, { className: "absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400", size: 20 }, void 0, false, {
        fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/clients/ClientList.tsx",
        lineNumber: 134,
        columnNumber: 11
      }, this),
      /* @__PURE__ */ jsxDEV(
        "input",
        {
          type: "text",
          placeholder: "Search clients by name...",
          value: searchTerm,
          onChange: (e) => setSearchTerm(e.target.value),
          className: "w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
        },
        void 0,
        false,
        {
          fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/clients/ClientList.tsx",
          lineNumber: 135,
          columnNumber: 11
        },
        this
      )
    ] }, void 0, true, {
      fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/clients/ClientList.tsx",
      lineNumber: 133,
      columnNumber: 9
    }, this) }, void 0, false, {
      fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/clients/ClientList.tsx",
      lineNumber: 132,
      columnNumber: 7
    }, this),
    /* @__PURE__ */ jsxDEV("div", { className: "bg-white rounded-lg shadow overflow-hidden", children: loading ? /* @__PURE__ */ jsxDEV("div", { className: "p-8 text-center text-gray-500", children: "Loading clients..." }, void 0, false, {
      fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/clients/ClientList.tsx",
      lineNumber: 148,
      columnNumber: 9
    }, this) : filteredClients.length === 0 ? /* @__PURE__ */ jsxDEV("div", { className: "p-12 text-center", children: [
      /* @__PURE__ */ jsxDEV(Building2, { className: "mx-auto h-12 w-12 text-gray-400 mb-4" }, void 0, false, {
        fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/clients/ClientList.tsx",
        lineNumber: 151,
        columnNumber: 13
      }, this),
      /* @__PURE__ */ jsxDEV("h3", { className: "text-lg font-medium text-gray-900 mb-2", children: searchTerm ? "No clients found" : "No clients yet" }, void 0, false, {
        fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/clients/ClientList.tsx",
        lineNumber: 152,
        columnNumber: 13
      }, this),
      /* @__PURE__ */ jsxDEV("p", { className: "text-gray-500 mb-4", children: searchTerm ? "Try adjusting your search terms" : "Get started by creating your first client setup" }, void 0, false, {
        fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/clients/ClientList.tsx",
        lineNumber: 155,
        columnNumber: 13
      }, this),
      !searchTerm && /* @__PURE__ */ jsxDEV(
        "button",
        {
          onClick: () => setShowSetupWizard(true),
          className: "inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",
          children: [
            /* @__PURE__ */ jsxDEV(Plus, { size: 20, className: "mr-2" }, void 0, false, {
              fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/clients/ClientList.tsx",
              lineNumber: 165,
              columnNumber: 17
            }, this),
            "Create First Client"
          ]
        },
        void 0,
        true,
        {
          fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/clients/ClientList.tsx",
          lineNumber: 161,
          columnNumber: 11
        },
        this
      )
    ] }, void 0, true, {
      fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/clients/ClientList.tsx",
      lineNumber: 150,
      columnNumber: 9
    }, this) : /* @__PURE__ */ jsxDEV("div", { className: "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 p-6", children: filteredClients.map(
      (client) => /* @__PURE__ */ jsxDEV(
        "div",
        {
          className: "border border-gray-200 rounded-lg p-6 hover:shadow-lg transition-shadow",
          children: [
            /* @__PURE__ */ jsxDEV("div", { className: "flex items-start justify-between mb-4", children: /* @__PURE__ */ jsxDEV("div", { className: "flex items-center space-x-3", children: [
              /* @__PURE__ */ jsxDEV("div", { className: "bg-blue-100 p-3 rounded-lg", children: /* @__PURE__ */ jsxDEV(Building2, { className: "text-blue-600", size: 24 }, void 0, false, {
                fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/clients/ClientList.tsx",
                lineNumber: 180,
                columnNumber: 23
              }, this) }, void 0, false, {
                fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/clients/ClientList.tsx",
                lineNumber: 179,
                columnNumber: 21
              }, this),
              /* @__PURE__ */ jsxDEV("div", { children: [
                /* @__PURE__ */ jsxDEV("h3", { className: "text-lg font-semibold text-gray-900", children: client.name }, void 0, false, {
                  fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/clients/ClientList.tsx",
                  lineNumber: 183,
                  columnNumber: 23
                }, this),
                /* @__PURE__ */ jsxDEV("p", { className: "text-sm text-gray-500", children: new Date(client.createdAt).toLocaleDateString() }, void 0, false, {
                  fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/clients/ClientList.tsx",
                  lineNumber: 184,
                  columnNumber: 23
                }, this)
              ] }, void 0, true, {
                fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/clients/ClientList.tsx",
                lineNumber: 182,
                columnNumber: 21
              }, this)
            ] }, void 0, true, {
              fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/clients/ClientList.tsx",
              lineNumber: 178,
              columnNumber: 19
            }, this) }, void 0, false, {
              fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/clients/ClientList.tsx",
              lineNumber: 177,
              columnNumber: 17
            }, this),
            /* @__PURE__ */ jsxDEV("div", { className: "space-y-2 mb-4", children: [
              /* @__PURE__ */ jsxDEV("div", { className: "flex justify-between text-sm", children: [
                /* @__PURE__ */ jsxDEV("span", { className: "text-gray-600", children: "Sites:" }, void 0, false, {
                  fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/clients/ClientList.tsx",
                  lineNumber: 193,
                  columnNumber: 21
                }, this),
                /* @__PURE__ */ jsxDEV("span", { className: "font-medium", children: client._count?.sites || 0 }, void 0, false, {
                  fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/clients/ClientList.tsx",
                  lineNumber: 194,
                  columnNumber: 21
                }, this)
              ] }, void 0, true, {
                fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/clients/ClientList.tsx",
                lineNumber: 192,
                columnNumber: 19
              }, this),
              /* @__PURE__ */ jsxDEV("div", { className: "flex justify-between text-sm", children: [
                /* @__PURE__ */ jsxDEV("span", { className: "text-gray-600", children: "Workers:" }, void 0, false, {
                  fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/clients/ClientList.tsx",
                  lineNumber: 197,
                  columnNumber: 21
                }, this),
                /* @__PURE__ */ jsxDEV("span", { className: "font-medium", children: client._count?.workerRoles || 0 }, void 0, false, {
                  fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/clients/ClientList.tsx",
                  lineNumber: 198,
                  columnNumber: 21
                }, this)
              ] }, void 0, true, {
                fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/clients/ClientList.tsx",
                lineNumber: 196,
                columnNumber: 19
              }, this)
            ] }, void 0, true, {
              fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/clients/ClientList.tsx",
              lineNumber: 191,
              columnNumber: 17
            }, this),
            /* @__PURE__ */ jsxDEV("div", { className: "space-y-2 pt-4 border-t border-gray-200", children: [
              /* @__PURE__ */ jsxDEV(
                "button",
                {
                  onClick: () => handleImportTraining(client.id),
                  className: "w-full flex items-center justify-center space-x-2 px-3 py-2 text-sm bg-green-50 text-green-700 rounded hover:bg-green-100 transition-colors font-medium",
                  children: [
                    /* @__PURE__ */ jsxDEV(FileSpreadsheet, { size: 16 }, void 0, false, {
                      fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/clients/ClientList.tsx",
                      lineNumber: 208,
                      columnNumber: 21
                    }, this),
                    /* @__PURE__ */ jsxDEV("span", { children: "Import Training Records" }, void 0, false, {
                      fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/clients/ClientList.tsx",
                      lineNumber: 209,
                      columnNumber: 21
                    }, this)
                  ]
                },
                void 0,
                true,
                {
                  fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/clients/ClientList.tsx",
                  lineNumber: 204,
                  columnNumber: 19
                },
                this
              ),
              /* @__PURE__ */ jsxDEV("div", { className: "flex space-x-2", children: [
                /* @__PURE__ */ jsxDEV(
                  "button",
                  {
                    onClick: () => setViewingClientId(client.id),
                    className: "flex-1 px-3 py-2 text-sm bg-blue-50 text-blue-600 rounded hover:bg-blue-100 transition-colors",
                    children: "View Details"
                  },
                  void 0,
                  false,
                  {
                    fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/clients/ClientList.tsx",
                    lineNumber: 214,
                    columnNumber: 21
                  },
                  this
                ),
                /* @__PURE__ */ jsxDEV(
                  "button",
                  {
                    onClick: () => handleDelete(client.id, client.name),
                    className: "px-3 py-2 text-sm text-red-600 hover:bg-red-50 rounded transition-colors",
                    title: "Delete client",
                    children: /* @__PURE__ */ jsxDEV(Trash2, { size: 16 }, void 0, false, {
                      fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/clients/ClientList.tsx",
                      lineNumber: 225,
                      columnNumber: 23
                    }, this)
                  },
                  void 0,
                  false,
                  {
                    fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/clients/ClientList.tsx",
                    lineNumber: 220,
                    columnNumber: 21
                  },
                  this
                )
              ] }, void 0, true, {
                fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/clients/ClientList.tsx",
                lineNumber: 213,
                columnNumber: 19
              }, this)
            ] }, void 0, true, {
              fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/clients/ClientList.tsx",
              lineNumber: 202,
              columnNumber: 17
            }, this)
          ]
        },
        client.id,
        true,
        {
          fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/clients/ClientList.tsx",
          lineNumber: 173,
          columnNumber: 11
        },
        this
      )
    ) }, void 0, false, {
      fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/clients/ClientList.tsx",
      lineNumber: 171,
      columnNumber: 9
    }, this) }, void 0, false, {
      fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/clients/ClientList.tsx",
      lineNumber: 146,
      columnNumber: 7
    }, this),
    showSetupWizard && /* @__PURE__ */ jsxDEV(
      ClientSetupWizard,
      {
        onClose: () => setShowSetupWizard(false),
        onComplete: handleWizardComplete
      },
      void 0,
      false,
      {
        fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/clients/ClientList.tsx",
        lineNumber: 237,
        columnNumber: 7
      },
      this
    ),
    showTrainingImporter && selectedClientId && /* @__PURE__ */ jsxDEV(
      TrainingImporter,
      {
        clientId: selectedClientId,
        onClose: () => {
          setShowTrainingImporter(false);
          setSelectedClientId(null);
        },
        onComplete: handleImportComplete
      },
      void 0,
      false,
      {
        fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/clients/ClientList.tsx",
        lineNumber: 245,
        columnNumber: 7
      },
      this
    )
  ] }, void 0, true, {
    fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/clients/ClientList.tsx",
    lineNumber: 115,
    columnNumber: 5
  }, this);
}
_s(ClientList, "5hqOPQp0MWfpzPkQMcrOEHUIWX0=");
_c = ClientList;
var _c;
$RefreshReg$(_c, "ClientList");
if (import.meta.hot && !inWebWorker) {
  window.$RefreshReg$ = prevRefreshReg;
  window.$RefreshSig$ = prevRefreshSig;
}
if (import.meta.hot && !inWebWorker) {
  RefreshRuntime.__hmr_import(import.meta.url).then((currentExports) => {
    RefreshRuntime.registerExportsForReactRefresh("C:/Users/Bill.S/safety-intelligence-engine/src/components/clients/ClientList.tsx", currentExports);
    import.meta.hot.accept((nextExports) => {
      if (!nextExports) return;
      const invalidateMessage = RefreshRuntime.validateRefreshBoundaryAndEnqueueUpdate("C:/Users/Bill.S/safety-intelligence-engine/src/components/clients/ClientList.tsx", currentExports, nextExports);
      if (invalidateMessage) import.meta.hot.invalidate(invalidateMessage);
    });
  });
}

//# sourceMappingURL=data:application/json;base64,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LFFBQ3ZDLFlBQVk0QjtBQUFBQTtBQUFBQSxNQUZkO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxJQUVtQztBQUFBLElBS3BDM0Isd0JBQXdCRSxvQkFDdkI7QUFBQSxNQUFDO0FBQUE7QUFBQSxRQUNDLFVBQVVBO0FBQUFBLFFBQ1YsU0FBUyxNQUFNO0FBQ2JELGtDQUF3QixLQUFLO0FBQzdCRSw4QkFBb0IsSUFBSTtBQUFBLFFBQzFCO0FBQUEsUUFDQSxZQUFZMEI7QUFBQUE7QUFBQUEsTUFOZDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsSUFNbUM7QUFBQSxPQXhJdkM7QUFBQTtBQUFBO0FBQUE7QUFBQSxTQTJJQTtBQUVKO0FBQUN0QyxHQTVOZUQsWUFBVTtBQUFBcUQsS0FBVnJEO0FBQVUsSUFBQXFEO0FBQUFDLGFBQUFELElBQUEiLCJuYW1lcyI6WyJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsInVzZU1lbW8iLCJCdWlsZGluZzIiLCJQbHVzIiwiU2VhcmNoIiwiVHJhc2gyIiwiRmlsZVNwcmVhZHNoZWV0IiwiQ2xpZW50U2V0dXBXaXphcmQiLCJDbGllbnREZXRhaWwiLCJUcmFpbmluZ0ltcG9ydGVyIiwiQ2xpZW50TGlzdCIsIl9zIiwiY2xpZW50cyIsInNldENsaWVudHMiLCJsb2FkaW5nIiwic2V0TG9hZGluZyIsInNlYXJjaFRlcm0iLCJzZXRTZWFyY2hUZXJtIiwic2hvd1NldHVwV2l6YXJkIiwic2V0U2hvd1NldHVwV2l6YXJkIiwic2hvd1RyYWluaW5nSW1wb3J0ZXIiLCJzZXRTaG93VHJhaW5pbmdJbXBvcnRlciIsInNlbGVjdGVkQ2xpZW50SWQiLCJzZXRTZWxlY3RlZENsaWVudElkIiwidmlld2luZ0NsaWVudElkIiwic2V0Vmlld2luZ0NsaWVudElkIiwibG9hZENsaWVudHMiLCJkYXRhIiwid2luZG93IiwiYXBpIiwibGlzdENsaWVudHMiLCJlcnJvciIsImNvbnNvbGUiLCJmaWx0ZXJlZENsaWVudHMiLCJzZWFyY2giLCJ0b0xvd2VyQ2FzZSIsInRyaW0iLCJmaWx0ZXIiLCJjIiwibmFtZSIsImluY2x1ZGVzIiwiaGFuZGxlRGVsZXRlIiwiY2xpZW50SWQiLCJjbGllbnROYW1lIiwiY29uZmlybSIsImRlbGV0ZUNsaWVudCIsImFsZXJ0IiwiaGFuZGxlV2l6YXJkQ29tcGxldGUiLCJoYW5kbGVJbXBvcnRUcmFpbmluZyIsImhhbmRsZUltcG9ydENvbXBsZXRlIiwiZSIsInRhcmdldCIsInZhbHVlIiwibGVuZ3RoIiwibWFwIiwiY2xpZW50IiwiRGF0ZSIsImNyZWF0ZWRBdCIsInRvTG9jYWxlRGF0ZVN0cmluZyIsIl9jb3VudCIsInNpdGVzIiwid29ya2VyUm9sZXMiLCJpZCIsIl9jIiwiJFJlZnJlc2hSZWckIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VzIjpbIkNsaWVudExpc3QudHN4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VNZW1vIH0gZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgeyBCdWlsZGluZzIsIFBsdXMsIFNlYXJjaCwgVHJhc2gyLCBGaWxlU3ByZWFkc2hlZXQgfSBmcm9tICdsdWNpZGUtcmVhY3QnO1xyXG5pbXBvcnQgeyBDbGllbnRTZXR1cFdpemFyZCB9IGZyb20gJy4vQ2xpZW50U2V0dXBXaXphcmQnO1xyXG5pbXBvcnQgeyBDbGllbnREZXRhaWwgfSBmcm9tICcuL0NsaWVudERldGFpbCc7XHJcbmltcG9ydCB7IFRyYWluaW5nSW1wb3J0ZXIgfSBmcm9tICdAL2NvbXBvbmVudHMvdHJhaW5pbmcvVHJhaW5pbmdJbXBvcnRlcic7XHJcblxyXG5pbnRlcmZhY2UgQ2xpZW50RGF0YSB7XHJcbiAgaWQ6IHN0cmluZztcclxuICBuYW1lOiBzdHJpbmc7XHJcbiAgY3JlYXRlZEF0OiBEYXRlIHwgc3RyaW5nO1xyXG4gIF9jb3VudD86IHtcclxuICAgIHNpdGVzOiBudW1iZXI7XHJcbiAgICB3b3JrZXJSb2xlczogbnVtYmVyO1xyXG4gIH07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBDbGllbnRMaXN0KCkge1xyXG4gIGNvbnN0IFtjbGllbnRzLCBzZXRDbGllbnRzXSA9IHVzZVN0YXRlPENsaWVudERhdGFbXT4oW10pO1xyXG4gIGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlKHRydWUpO1xyXG4gIGNvbnN0IFtzZWFyY2hUZXJtLCBzZXRTZWFyY2hUZXJtXSA9IHVzZVN0YXRlKCcnKTtcclxuICBjb25zdCBbc2hvd1NldHVwV2l6YXJkLCBzZXRTaG93U2V0dXBXaXphcmRdID0gdXNlU3RhdGUoZmFsc2UpO1xyXG4gIGNvbnN0IFtzaG93VHJhaW5pbmdJbXBvcnRlciwgc2V0U2hvd1RyYWluaW5nSW1wb3J0ZXJdID0gdXNlU3RhdGUoZmFsc2UpO1xyXG4gIGNvbnN0IFtzZWxlY3RlZENsaWVudElkLCBzZXRTZWxlY3RlZENsaWVudElkXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xyXG4gIGNvbnN0IFt2aWV3aW5nQ2xpZW50SWQsIHNldFZpZXdpbmdDbGllbnRJZF0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcclxuXHJcbiAgY29uc3QgbG9hZENsaWVudHMgPSBhc3luYyAoKSA9PiB7XHJcbiAgICBzZXRMb2FkaW5nKHRydWUpO1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHdpbmRvdy5hcGkubGlzdENsaWVudHMoKTtcclxuICAgICAgc2V0Q2xpZW50cyhkYXRhIHx8IFtdKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBsb2FkIGNsaWVudHM6JywgZXJyb3IpO1xyXG4gICAgfSBmaW5hbGx5IHtcclxuICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGxvYWRDbGllbnRzKCk7XHJcbiAgfSwgW10pO1xyXG5cclxuICBjb25zdCBmaWx0ZXJlZENsaWVudHMgPSB1c2VNZW1vKCgpID0+IHtcclxuICAgIGNvbnN0IHNlYXJjaCA9IChzZWFyY2hUZXJtIHx8ICcnKS50b0xvd2VyQ2FzZSgpLnRyaW0oKTtcclxuICAgIGlmICghc2VhcmNoKSByZXR1cm4gY2xpZW50cztcclxuICAgIHJldHVybiBjbGllbnRzLmZpbHRlcigoYykgPT4ge1xyXG4gICAgICBjb25zdCBuYW1lID0gKGMubmFtZSB8fCAnJykudG9Mb3dlckNhc2UoKTtcclxuICAgICAgcmV0dXJuIG5hbWUuaW5jbHVkZXMoc2VhcmNoKTtcclxuICAgIH0pO1xyXG4gIH0sIFtjbGllbnRzLCBzZWFyY2hUZXJtXSk7XHJcblxyXG4gIGNvbnN0IGhhbmRsZURlbGV0ZSA9IGFzeW5jIChjbGllbnRJZDogc3RyaW5nLCBjbGllbnROYW1lOiBzdHJpbmcpID0+IHtcclxuICAgIGlmICghY29uZmlybShgQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRlbGV0ZSBjbGllbnQgXCIke2NsaWVudE5hbWV9XCI/IFRoaXMgd2lsbCByZW1vdmUgYWxsIGFzc29jaWF0ZWQgZGF0YS5gKSkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHRyeSB7XHJcbiAgICAgIGF3YWl0IHdpbmRvdy5hcGkuZGVsZXRlQ2xpZW50KGNsaWVudElkKTtcclxuICAgICAgYXdhaXQgbG9hZENsaWVudHMoKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBkZWxldGUgY2xpZW50OicsIGVycm9yKTtcclxuICAgICAgYWxlcnQoJ0ZhaWxlZCB0byBkZWxldGUgY2xpZW50LiBJdCBtYXkgaGF2ZSBhc3NvY2lhdGVkIHdvcmtlcnMgb3Igc2l0ZXMuJyk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgaGFuZGxlV2l6YXJkQ29tcGxldGUgPSAoKSA9PiB7XHJcbiAgICBzZXRTaG93U2V0dXBXaXphcmQoZmFsc2UpO1xyXG4gICAgbG9hZENsaWVudHMoKTtcclxuICB9O1xyXG5cclxuICBjb25zdCBoYW5kbGVJbXBvcnRUcmFpbmluZyA9IChjbGllbnRJZDogc3RyaW5nKSA9PiB7XHJcbiAgICBzZXRTZWxlY3RlZENsaWVudElkKGNsaWVudElkKTtcclxuICAgIHNldFNob3dUcmFpbmluZ0ltcG9ydGVyKHRydWUpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGhhbmRsZUltcG9ydENvbXBsZXRlID0gKCkgPT4ge1xyXG4gICAgc2V0U2hvd1RyYWluaW5nSW1wb3J0ZXIoZmFsc2UpO1xyXG4gICAgc2V0U2VsZWN0ZWRDbGllbnRJZChudWxsKTtcclxuICAgIC8vIE9wdGlvbmFsbHkgcmVsb2FkIGNsaWVudHMgdG8gdXBkYXRlIHdvcmtlciBjb3VudHNcclxuICAgIGxvYWRDbGllbnRzKCk7XHJcbiAgfTtcclxuXHJcbiAgLy8gSWYgdmlld2luZyBhIGNsaWVudCBkZXRhaWwsIHNob3cgdGhhdCBpbnN0ZWFkXHJcbiAgaWYgKHZpZXdpbmdDbGllbnRJZCkge1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgPENsaWVudERldGFpbFxyXG4gICAgICAgIGNsaWVudElkPXt2aWV3aW5nQ2xpZW50SWR9XHJcbiAgICAgICAgb25CYWNrPXsoKSA9PiB7XHJcbiAgICAgICAgICBzZXRWaWV3aW5nQ2xpZW50SWQobnVsbCk7XHJcbiAgICAgICAgICBsb2FkQ2xpZW50cygpOyAvLyBSZWxvYWQgdG8gZ2V0IHVwZGF0ZWQgY291bnRzXHJcbiAgICAgICAgfX1cclxuICAgICAgLz5cclxuICAgICk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTZcIj5cclxuICAgICAgey8qIEhlYWRlciAqL31cclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW5cIj5cclxuICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgPGgxIGNsYXNzTmFtZT1cInRleHQtMnhsIGZvbnQtYm9sZCB0ZXh0LWdyYXktOTAwXCI+Q2xpZW50czwvaDE+XHJcbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNTAwIG10LTFcIj5NYW5hZ2UgY2xpZW50IG9yZ2FuaXphdGlvbnMgYW5kIHNhZmV0eSBmcmFtZXdvcmtzPC9wPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDxidXR0b25cclxuICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtMiBweC00IHB5LTIgYmctYmx1ZS02MDAgdGV4dC13aGl0ZSByb3VuZGVkLWxnIGhvdmVyOmJnLWJsdWUtNzAwIHRyYW5zaXRpb24tY29sb3JzXCJcclxuICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFNob3dTZXR1cFdpemFyZCh0cnVlKX1cclxuICAgICAgICA+XHJcbiAgICAgICAgICA8UGx1cyBzaXplPXsyMH0gLz5cclxuICAgICAgICAgIDxzcGFuPk5ldyBDbGllbnQgU2V0dXA8L3NwYW4+XHJcbiAgICAgICAgPC9idXR0b24+XHJcbiAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgey8qIFNlYXJjaCAqL31cclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy13aGl0ZSByb3VuZGVkLWxnIHNoYWRvdyBwLTRcIj5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlXCI+XHJcbiAgICAgICAgICA8U2VhcmNoIGNsYXNzTmFtZT1cImFic29sdXRlIGxlZnQtMyB0b3AtMS8yIHRyYW5zZm9ybSAtdHJhbnNsYXRlLXktMS8yIHRleHQtZ3JheS00MDBcIiBzaXplPXsyMH0gLz5cclxuICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICB0eXBlPVwidGV4dFwiXHJcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiU2VhcmNoIGNsaWVudHMgYnkgbmFtZS4uLlwiXHJcbiAgICAgICAgICAgIHZhbHVlPXtzZWFyY2hUZXJtfVxyXG4gICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldFNlYXJjaFRlcm0oZS50YXJnZXQudmFsdWUpfVxyXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgcGwtMTAgcHItNCBweS0yIGJvcmRlciBib3JkZXItZ3JheS0zMDAgcm91bmRlZC1sZyBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1ibHVlLTUwMCBmb2N1czpib3JkZXItdHJhbnNwYXJlbnRcIlxyXG4gICAgICAgICAgLz5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9kaXY+XHJcblxyXG4gICAgICB7LyogQ2xpZW50IEdyaWQgKi99XHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctd2hpdGUgcm91bmRlZC1sZyBzaGFkb3cgb3ZlcmZsb3ctaGlkZGVuXCI+XHJcbiAgICAgICAge2xvYWRpbmcgPyAoXHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtOCB0ZXh0LWNlbnRlciB0ZXh0LWdyYXktNTAwXCI+TG9hZGluZyBjbGllbnRzLi4uPC9kaXY+XHJcbiAgICAgICAgKSA6IGZpbHRlcmVkQ2xpZW50cy5sZW5ndGggPT09IDAgPyAoXHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtMTIgdGV4dC1jZW50ZXJcIj5cclxuICAgICAgICAgICAgPEJ1aWxkaW5nMiBjbGFzc05hbWU9XCJteC1hdXRvIGgtMTIgdy0xMiB0ZXh0LWdyYXktNDAwIG1iLTRcIiAvPlxyXG4gICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwidGV4dC1sZyBmb250LW1lZGl1bSB0ZXh0LWdyYXktOTAwIG1iLTJcIj5cclxuICAgICAgICAgICAgICB7c2VhcmNoVGVybSA/ICdObyBjbGllbnRzIGZvdW5kJyA6ICdObyBjbGllbnRzIHlldCd9XHJcbiAgICAgICAgICAgIDwvaDM+XHJcbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtZ3JheS01MDAgbWItNFwiPlxyXG4gICAgICAgICAgICAgIHtzZWFyY2hUZXJtIFxyXG4gICAgICAgICAgICAgICAgPyAnVHJ5IGFkanVzdGluZyB5b3VyIHNlYXJjaCB0ZXJtcycgXHJcbiAgICAgICAgICAgICAgICA6ICdHZXQgc3RhcnRlZCBieSBjcmVhdGluZyB5b3VyIGZpcnN0IGNsaWVudCBzZXR1cCd9XHJcbiAgICAgICAgICAgIDwvcD5cclxuICAgICAgICAgICAgeyFzZWFyY2hUZXJtICYmIChcclxuICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRTaG93U2V0dXBXaXphcmQodHJ1ZSl9XHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIgcHgtNCBweS0yIGJnLWJsdWUtNjAwIHRleHQtd2hpdGUgcm91bmRlZC1sZyBob3ZlcjpiZy1ibHVlLTcwMFwiXHJcbiAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgPFBsdXMgc2l6ZT17MjB9IGNsYXNzTmFtZT1cIm1yLTJcIiAvPlxyXG4gICAgICAgICAgICAgICAgQ3JlYXRlIEZpcnN0IENsaWVudFxyXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICApfVxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgKSA6IChcclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtMSBtZDpncmlkLWNvbHMtMiBsZzpncmlkLWNvbHMtMyBnYXAtNiBwLTZcIj5cclxuICAgICAgICAgICAge2ZpbHRlcmVkQ2xpZW50cy5tYXAoKGNsaWVudCkgPT4gKFxyXG4gICAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICAgIGtleT17Y2xpZW50LmlkfVxyXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYm9yZGVyIGJvcmRlci1ncmF5LTIwMCByb3VuZGVkLWxnIHAtNiBob3ZlcjpzaGFkb3ctbGcgdHJhbnNpdGlvbi1zaGFkb3dcIlxyXG4gICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1zdGFydCBqdXN0aWZ5LWJldHdlZW4gbWItNFwiPlxyXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtM1wiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctYmx1ZS0xMDAgcC0zIHJvdW5kZWQtbGdcIj5cclxuICAgICAgICAgICAgICAgICAgICAgIDxCdWlsZGluZzIgY2xhc3NOYW1lPVwidGV4dC1ibHVlLTYwMFwiIHNpemU9ezI0fSAvPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwidGV4dC1sZyBmb250LXNlbWlib2xkIHRleHQtZ3JheS05MDBcIj57Y2xpZW50Lm5hbWV9PC9oMz5cclxuICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ncmF5LTUwMFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7bmV3IERhdGUoY2xpZW50LmNyZWF0ZWRBdCkudG9Mb2NhbGVEYXRlU3RyaW5nKCl9XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L3A+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTIgbWItNFwiPlxyXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1iZXR3ZWVuIHRleHQtc21cIj5cclxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNjAwXCI+U2l0ZXM6PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImZvbnQtbWVkaXVtXCI+e2NsaWVudC5fY291bnQ/LnNpdGVzIHx8IDB9PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktYmV0d2VlbiB0ZXh0LXNtXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1ncmF5LTYwMFwiPldvcmtlcnM6PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImZvbnQtbWVkaXVtXCI+e2NsaWVudC5fY291bnQ/LndvcmtlclJvbGVzIHx8IDB9PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0yIHB0LTQgYm9yZGVyLXQgYm9yZGVyLWdyYXktMjAwXCI+XHJcbiAgICAgICAgICAgICAgICAgIHsvKiBJbXBvcnQgVHJhaW5pbmcgQnV0dG9uIC0gTkVXICovfVxyXG4gICAgICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlSW1wb3J0VHJhaW5pbmcoY2xpZW50LmlkKX1cclxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgc3BhY2UteC0yIHB4LTMgcHktMiB0ZXh0LXNtIGJnLWdyZWVuLTUwIHRleHQtZ3JlZW4tNzAwIHJvdW5kZWQgaG92ZXI6YmctZ3JlZW4tMTAwIHRyYW5zaXRpb24tY29sb3JzIGZvbnQtbWVkaXVtXCJcclxuICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgIDxGaWxlU3ByZWFkc2hlZXQgc2l6ZT17MTZ9IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4+SW1wb3J0IFRyYWluaW5nIFJlY29yZHM8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG5cclxuICAgICAgICAgICAgICAgICAgey8qIEV4aXN0aW5nIEJ1dHRvbnMgKi99XHJcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBzcGFjZS14LTJcIj5cclxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRWaWV3aW5nQ2xpZW50SWQoY2xpZW50LmlkKX1cclxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXgtMSBweC0zIHB5LTIgdGV4dC1zbSBiZy1ibHVlLTUwIHRleHQtYmx1ZS02MDAgcm91bmRlZCBob3ZlcjpiZy1ibHVlLTEwMCB0cmFuc2l0aW9uLWNvbG9yc1wiXHJcbiAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgVmlldyBEZXRhaWxzXHJcbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlRGVsZXRlKGNsaWVudC5pZCwgY2xpZW50Lm5hbWUpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtMyBweS0yIHRleHQtc20gdGV4dC1yZWQtNjAwIGhvdmVyOmJnLXJlZC01MCByb3VuZGVkIHRyYW5zaXRpb24tY29sb3JzXCJcclxuICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPVwiRGVsZXRlIGNsaWVudFwiXHJcbiAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPFRyYXNoMiBzaXplPXsxNn0gLz5cclxuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgKSl9XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApfVxyXG4gICAgICA8L2Rpdj5cclxuXHJcbiAgICAgIHsvKiBDbGllbnQgU2V0dXAgV2l6YXJkIE1vZGFsICovfVxyXG4gICAgICB7c2hvd1NldHVwV2l6YXJkICYmIChcclxuICAgICAgICA8Q2xpZW50U2V0dXBXaXphcmRcclxuICAgICAgICAgIG9uQ2xvc2U9eygpID0+IHNldFNob3dTZXR1cFdpemFyZChmYWxzZSl9XHJcbiAgICAgICAgICBvbkNvbXBsZXRlPXtoYW5kbGVXaXphcmRDb21wbGV0ZX1cclxuICAgICAgICAvPlxyXG4gICAgICApfVxyXG5cclxuICAgICAgey8qIFRyYWluaW5nIEltcG9ydGVyIE1vZGFsIC0gTkVXICovfVxyXG4gICAgICB7c2hvd1RyYWluaW5nSW1wb3J0ZXIgJiYgc2VsZWN0ZWRDbGllbnRJZCAmJiAoXHJcbiAgICAgICAgPFRyYWluaW5nSW1wb3J0ZXJcclxuICAgICAgICAgIGNsaWVudElkPXtzZWxlY3RlZENsaWVudElkfVxyXG4gICAgICAgICAgb25DbG9zZT17KCkgPT4ge1xyXG4gICAgICAgICAgICBzZXRTaG93VHJhaW5pbmdJbXBvcnRlcihmYWxzZSk7XHJcbiAgICAgICAgICAgIHNldFNlbGVjdGVkQ2xpZW50SWQobnVsbCk7XHJcbiAgICAgICAgICB9fVxyXG4gICAgICAgICAgb25Db21wbGV0ZT17aGFuZGxlSW1wb3J0Q29tcGxldGV9XHJcbiAgICAgICAgLz5cclxuICAgICAgKX1cclxuICAgIDwvZGl2PlxyXG4gICk7XHJcbn0iXSwiZmlsZSI6IkM6L1VzZXJzL0JpbGwuUy9zYWZldHktaW50ZWxsaWdlbmNlLWVuZ2luZS9zcmMvY29tcG9uZW50cy9jbGllbnRzL0NsaWVudExpc3QudHN4In0=