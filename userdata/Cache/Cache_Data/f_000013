import { createHotContext as __vite__createHotContext } from "/@vite/client";import.meta.hot = __vite__createHotContext("/src/components/hazards/HazardLibrary.jsx");import __vite__cjsImport0_react_jsxDevRuntime from "/node_modules/.vite/deps/react_jsx-dev-runtime.js?v=2c4c02a3"; const jsxDEV = __vite__cjsImport0_react_jsxDevRuntime["jsxDEV"];
import * as RefreshRuntime from "/@react-refresh";
const inWebWorker = typeof WorkerGlobalScope !== "undefined" && self instanceof WorkerGlobalScope;
let prevRefreshReg;
let prevRefreshSig;
if (import.meta.hot && !inWebWorker) {
  if (!window.$RefreshReg$) {
    throw new Error(
      "@vitejs/plugin-react can't detect preamble. Something is wrong."
    );
  }
  prevRefreshReg = window.$RefreshReg$;
  prevRefreshSig = window.$RefreshSig$;
  window.$RefreshReg$ = RefreshRuntime.getRefreshReg("C:/Users/Bill.S/safety-intelligence-engine/src/components/hazards/HazardLibrary.jsx");
  window.$RefreshSig$ = RefreshRuntime.createSignatureFunctionForTransform;
}
var _s = $RefreshSig$(), _s2 = $RefreshSig$(), _s3 = $RefreshSig$();
import __vite__cjsImport3_react from "/node_modules/.vite/deps/react.js?v=2c4c02a3"; const React = __vite__cjsImport3_react.__esModule ? __vite__cjsImport3_react.default : __vite__cjsImport3_react; const useEffect = __vite__cjsImport3_react["useEffect"]; const useMemo = __vite__cjsImport3_react["useMemo"]; const useState = __vite__cjsImport3_react["useState"];
import { Plus, Import, Wrench, X, ArrowLeftRight, Minus, Flag } from "/node_modules/.vite/deps/lucide-react.js?v=2c4c02a3";
const riskStyles = {
  Critical: "border-l-4 border-red-500",
  High: "border-l-4 border-orange-500",
  Medium: "border-l-4 border-yellow-500",
  Low: "border-l-4 border-green-500"
};
const riskBadge = {
  Critical: "px-2 py-1 bg-red-100 text-red-800 text-xs rounded",
  High: "px-2 py-1 bg-orange-100 text-orange-800 text-xs rounded",
  Medium: "px-2 py-1 bg-yellow-100 text-yellow-800 text-xs rounded",
  Low: "px-2 py-1 bg-green-100 text-green-800 text-xs rounded"
};
export function HazardLibrary() {
  _s();
  const [hazards, setHazards] = useState([]);
  const [q, setQ] = useState("");
  const [showAdd, setShowAdd] = useState(false);
  const [showImport, setShowImport] = useState(false);
  const [mapperOpen, setMapperOpen] = useState(false);
  const [mapperHazard, setMapperHazard] = useState(null);
  useEffect(() => {
    window.api?.listHazards?.().then(setHazards).catch(() => setHazards([]));
  }, []);
  const filtered = useMemo(() => {
    if (!q) return hazards;
    const s = q.toLowerCase();
    return hazards.filter(
      (h) => (h.name || "").toLowerCase().includes(s) || (h.code || "").toLowerCase().includes(s) || (h.category || "").toLowerCase().includes(s)
    );
  }, [hazards, q]);
  function onAdded(h) {
    setHazards((prev) => [h, ...prev]);
    setShowAdd(false);
  }
  async function importPack(kind) {
    setShowImport(false);
    try {
      const res = await window.api?.importHazardPack?.({ kind });
      if (Array.isArray(res)) setHazards((prev) => [...res, ...prev]);
    } catch {
    }
  }
  function mapControls(hazard) {
    setMapperHazard(hazard);
    setMapperOpen(true);
  }
  return /* @__PURE__ */ jsxDEV("div", { className: "space-y-6", children: [
    /* @__PURE__ */ jsxDEV("div", { className: "flex items-center justify-between", children: [
      /* @__PURE__ */ jsxDEV("div", { className: "flex items-center gap-3", children: [
        /* @__PURE__ */ jsxDEV("h3", { className: "text-lg font-semibold", children: "Hazard Library" }, void 0, false, {
          fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/hazards/HazardLibrary.jsx",
          lineNumber: 82,
          columnNumber: 11
        }, this),
        /* @__PURE__ */ jsxDEV("div", { className: "relative", children: [
          /* @__PURE__ */ jsxDEV(
            "input",
            {
              value: q,
              onChange: (e) => setQ(e.target.value),
              placeholder: "Search name, code, categoryâ€¦",
              className: "h-9 w-72 rounded border px-3 text-sm focus:outline-none focus:ring"
            },
            void 0,
            false,
            {
              fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/hazards/HazardLibrary.jsx",
              lineNumber: 84,
              columnNumber: 13
            },
            this
          ),
          q && /* @__PURE__ */ jsxDEV("button", { className: "absolute right-2 top-1.5 text-gray-400 hover:text-gray-600", onClick: () => setQ(""), children: /* @__PURE__ */ jsxDEV(X, { size: 16 }, void 0, false, {
            fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/hazards/HazardLibrary.jsx",
            lineNumber: 92,
            columnNumber: 17
          }, this) }, void 0, false, {
            fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/hazards/HazardLibrary.jsx",
            lineNumber: 91,
            columnNumber: 13
          }, this)
        ] }, void 0, true, {
          fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/hazards/HazardLibrary.jsx",
          lineNumber: 83,
          columnNumber: 11
        }, this)
      ] }, void 0, true, {
        fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/hazards/HazardLibrary.jsx",
        lineNumber: 81,
        columnNumber: 9
      }, this),
      /* @__PURE__ */ jsxDEV("div", { className: "flex items-center gap-2", children: [
        /* @__PURE__ */ jsxDEV(
          "button",
          {
            onClick: () => setShowImport((v) => !v),
            className: "flex items-center gap-2 px-3 py-2 border rounded-lg hover:bg-gray-50",
            title: "Import starter packs",
            children: [
              /* @__PURE__ */ jsxDEV(Import, { size: 18 }, void 0, false, {
                fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/hazards/HazardLibrary.jsx",
                lineNumber: 103,
                columnNumber: 13
              }, this),
              " Import Pack"
            ]
          },
          void 0,
          true,
          {
            fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/hazards/HazardLibrary.jsx",
            lineNumber: 98,
            columnNumber: 11
          },
          this
        ),
        /* @__PURE__ */ jsxDEV(
          "button",
          {
            onClick: () => setShowAdd(true),
            className: "flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",
            children: [
              /* @__PURE__ */ jsxDEV(Plus, { size: 20 }, void 0, false, {
                fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/hazards/HazardLibrary.jsx",
                lineNumber: 109,
                columnNumber: 13
              }, this),
              " Add Hazard"
            ]
          },
          void 0,
          true,
          {
            fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/hazards/HazardLibrary.jsx",
            lineNumber: 105,
            columnNumber: 11
          },
          this
        )
      ] }, void 0, true, {
        fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/hazards/HazardLibrary.jsx",
        lineNumber: 97,
        columnNumber: 9
      }, this)
    ] }, void 0, true, {
      fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/hazards/HazardLibrary.jsx",
      lineNumber: 80,
      columnNumber: 7
    }, this),
    showImport && /* @__PURE__ */ jsxDEV("div", { className: "bg-white border rounded-lg p-4 flex flex-wrap gap-3", children: [
      /* @__PURE__ */ jsxDEV(PackButton, { label: "Industry", onClick: () => importPack("industry") }, void 0, false, {
        fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/hazards/HazardLibrary.jsx",
        lineNumber: 116,
        columnNumber: 11
      }, this),
      /* @__PURE__ */ jsxDEV(PackButton, { label: "Work Method", onClick: () => importPack("workMethod") }, void 0, false, {
        fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/hazards/HazardLibrary.jsx",
        lineNumber: 117,
        columnNumber: 11
      }, this),
      /* @__PURE__ */ jsxDEV(PackButton, { label: "Jurisdiction", onClick: () => importPack("jurisdiction") }, void 0, false, {
        fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/hazards/HazardLibrary.jsx",
        lineNumber: 118,
        columnNumber: 11
      }, this),
      /* @__PURE__ */ jsxDEV(PackButton, { label: "ISO 45001 Add-ons", onClick: () => importPack("iso45001") }, void 0, false, {
        fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/hazards/HazardLibrary.jsx",
        lineNumber: 119,
        columnNumber: 11
      }, this)
    ] }, void 0, true, {
      fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/hazards/HazardLibrary.jsx",
      lineNumber: 115,
      columnNumber: 7
    }, this),
    filtered.length === 0 ? /* @__PURE__ */ jsxDEV(EmptyState, { onAdd: () => setShowAdd(true), onImport: () => setShowImport(true) }, void 0, false, {
      fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/hazards/HazardLibrary.jsx",
      lineNumber: 124,
      columnNumber: 7
    }, this) : /* @__PURE__ */ jsxDEV("div", { className: "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6", children: filtered.map(
      (h) => /* @__PURE__ */ jsxDEV("div", { className: `bg-white rounded-lg shadow p-6 ${riskStyles[h.risk || "Medium"] || "border"}`, children: [
        /* @__PURE__ */ jsxDEV("h4", { className: "font-semibold text-gray-900 mb-1", children: h.name }, void 0, false, {
          fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/hazards/HazardLibrary.jsx",
          lineNumber: 129,
          columnNumber: 15
        }, this),
        /* @__PURE__ */ jsxDEV("p", { className: "text-xs text-gray-500 mb-1", children: h.category || "â€”" }, void 0, false, {
          fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/hazards/HazardLibrary.jsx",
          lineNumber: 130,
          columnNumber: 15
        }, this),
        /* @__PURE__ */ jsxDEV("p", { className: "text-sm text-gray-600 mb-4 line-clamp-2", children: h.description || "â€”" }, void 0, false, {
          fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/hazards/HazardLibrary.jsx",
          lineNumber: 131,
          columnNumber: 15
        }, this),
        /* @__PURE__ */ jsxDEV("div", { className: "flex items-center justify-between", children: [
          /* @__PURE__ */ jsxDEV("span", { className: "text-xs text-gray-500", children: h.code }, void 0, false, {
            fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/hazards/HazardLibrary.jsx",
            lineNumber: 133,
            columnNumber: 17
          }, this),
          /* @__PURE__ */ jsxDEV("span", { className: riskBadge[h.risk || "Medium"], children: h.risk || "Medium" }, void 0, false, {
            fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/hazards/HazardLibrary.jsx",
            lineNumber: 134,
            columnNumber: 17
          }, this)
        ] }, void 0, true, {
          fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/hazards/HazardLibrary.jsx",
          lineNumber: 132,
          columnNumber: 15
        }, this),
        /* @__PURE__ */ jsxDEV("div", { className: "pt-4 flex justify-end", children: /* @__PURE__ */ jsxDEV("button", { onClick: () => mapControls(h), className: "flex items-center gap-2 px-3 py-1.5 text-sm border rounded hover:bg-gray-50", title: "Map controls for this hazard", children: [
          /* @__PURE__ */ jsxDEV(ArrowLeftRight, { size: 16 }, void 0, false, {
            fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/hazards/HazardLibrary.jsx",
            lineNumber: 138,
            columnNumber: 19
          }, this),
          " Map Controls"
        ] }, void 0, true, {
          fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/hazards/HazardLibrary.jsx",
          lineNumber: 137,
          columnNumber: 17
        }, this) }, void 0, false, {
          fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/hazards/HazardLibrary.jsx",
          lineNumber: 136,
          columnNumber: 15
        }, this)
      ] }, h.id || h.code, true, {
        fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/hazards/HazardLibrary.jsx",
        lineNumber: 128,
        columnNumber: 9
      }, this)
    ) }, void 0, false, {
      fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/hazards/HazardLibrary.jsx",
      lineNumber: 126,
      columnNumber: 7
    }, this),
    showAdd && /* @__PURE__ */ jsxDEV(AddHazardModal, { onClose: () => setShowAdd(false), onAdded }, void 0, false, {
      fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/hazards/HazardLibrary.jsx",
      lineNumber: 146,
      columnNumber: 19
    }, this),
    mapperOpen && mapperHazard && /* @__PURE__ */ jsxDEV(
      HazardControlMapperModal,
      {
        hazard: mapperHazard,
        onClose: () => {
          setMapperOpen(false);
          setMapperHazard(null);
        }
      },
      void 0,
      false,
      {
        fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/hazards/HazardLibrary.jsx",
        lineNumber: 149,
        columnNumber: 7
      },
      this
    )
  ] }, void 0, true, {
    fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/hazards/HazardLibrary.jsx",
    lineNumber: 79,
    columnNumber: 5
  }, this);
}
_s(HazardLibrary, "kWQ4dlcxFdE0WsNNFRzjZlBQPTE=");
_c = HazardLibrary;
function PackButton({ label, onClick }) {
  return /* @__PURE__ */ jsxDEV("button", { onClick, className: "px-3 py-2 text-sm border rounded hover:bg-gray-50", children: label }, void 0, false, {
    fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/hazards/HazardLibrary.jsx",
    lineNumber: 160,
    columnNumber: 5
  }, this);
}
_c2 = PackButton;
function EmptyState({ onAdd, onImport }) {
  return /* @__PURE__ */ jsxDEV("div", { className: "bg-white rounded-lg border-dashed border-2 p-10 text-center", children: [
    /* @__PURE__ */ jsxDEV("p", { className: "text-gray-600 mb-4", children: "No hazards yet. Start by importing a pack or adding your first hazard." }, void 0, false, {
      fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/hazards/HazardLibrary.jsx",
      lineNumber: 169,
      columnNumber: 7
    }, this),
    /* @__PURE__ */ jsxDEV("div", { className: "flex items-center justify-center gap-3", children: [
      /* @__PURE__ */ jsxDEV("button", { onClick: onImport, className: "px-3 py-2 border rounded hover:bg-gray-50 flex items-center gap-2", children: [
        /* @__PURE__ */ jsxDEV(Import, { size: 16 }, void 0, false, {
          fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/hazards/HazardLibrary.jsx",
          lineNumber: 172,
          columnNumber: 11
        }, this),
        " Import Pack"
      ] }, void 0, true, {
        fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/hazards/HazardLibrary.jsx",
        lineNumber: 171,
        columnNumber: 9
      }, this),
      /* @__PURE__ */ jsxDEV("button", { onClick: onAdd, className: "px-3 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 flex items-center gap-2", children: [
        /* @__PURE__ */ jsxDEV(Plus, { size: 16 }, void 0, false, {
          fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/hazards/HazardLibrary.jsx",
          lineNumber: 175,
          columnNumber: 11
        }, this),
        " Add Hazard"
      ] }, void 0, true, {
        fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/hazards/HazardLibrary.jsx",
        lineNumber: 174,
        columnNumber: 9
      }, this)
    ] }, void 0, true, {
      fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/hazards/HazardLibrary.jsx",
      lineNumber: 170,
      columnNumber: 7
    }, this)
  ] }, void 0, true, {
    fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/hazards/HazardLibrary.jsx",
    lineNumber: 168,
    columnNumber: 5
  }, this);
}
_c3 = EmptyState;
function AddHazardModal({ onClose, onAdded }) {
  _s2();
  const [form, setForm] = useState({
    name: "",
    code: "",
    category: "",
    risk: "Medium",
    description: ""
  });
  const [saving, setSaving] = useState(false);
  function set(k, v) {
    setForm((prev) => ({ ...prev, [k]: v }));
  }
  async function save() {
    setSaving(true);
    try {
      const created = await window.api?.createHazard?.(form);
      if (created) onAdded(created);
    } finally {
      setSaving(false);
    }
  }
  return /* @__PURE__ */ jsxDEV("div", { className: "fixed inset-0 bg-black/30 flex items-center justify-center z-50", children: /* @__PURE__ */ jsxDEV("div", { className: "bg-white rounded-lg shadow w-[520px] p-5 space-y-3", children: [
    /* @__PURE__ */ jsxDEV("h3", { className: "text-lg font-semibold", children: "Add Hazard" }, void 0, false, {
      fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/hazards/HazardLibrary.jsx",
      lineNumber: 209,
      columnNumber: 9
    }, this),
    /* @__PURE__ */ jsxDEV("div", { className: "grid grid-cols-2 gap-3", children: [
      /* @__PURE__ */ jsxDEV("div", { children: [
        /* @__PURE__ */ jsxDEV("label", { className: "block text-xs text-gray-600", children: "Name" }, void 0, false, {
          fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/hazards/HazardLibrary.jsx",
          lineNumber: 212,
          columnNumber: 13
        }, this),
        /* @__PURE__ */ jsxDEV("input", { className: "w-full border rounded px-2 py-1.5", value: form.name, onChange: (e) => set("name", e.target.value) }, void 0, false, {
          fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/hazards/HazardLibrary.jsx",
          lineNumber: 213,
          columnNumber: 13
        }, this)
      ] }, void 0, true, {
        fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/hazards/HazardLibrary.jsx",
        lineNumber: 211,
        columnNumber: 11
      }, this),
      /* @__PURE__ */ jsxDEV("div", { children: [
        /* @__PURE__ */ jsxDEV("label", { className: "block text-xs text-gray-600", children: "Code" }, void 0, false, {
          fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/hazards/HazardLibrary.jsx",
          lineNumber: 216,
          columnNumber: 13
        }, this),
        /* @__PURE__ */ jsxDEV("input", { className: "w-full border rounded px-2 py-1.5", value: form.code, onChange: (e) => set("code", e.target.value) }, void 0, false, {
          fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/hazards/HazardLibrary.jsx",
          lineNumber: 217,
          columnNumber: 13
        }, this)
      ] }, void 0, true, {
        fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/hazards/HazardLibrary.jsx",
        lineNumber: 215,
        columnNumber: 11
      }, this),
      /* @__PURE__ */ jsxDEV("div", { children: [
        /* @__PURE__ */ jsxDEV("label", { className: "block text-xs text-gray-600", children: "Category" }, void 0, false, {
          fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/hazards/HazardLibrary.jsx",
          lineNumber: 220,
          columnNumber: 13
        }, this),
        /* @__PURE__ */ jsxDEV("input", { className: "w-full border rounded px-2 py-1.5", value: form.category, onChange: (e) => set("category", e.target.value), placeholder: "e.g., Electrical, Heights" }, void 0, false, {
          fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/hazards/HazardLibrary.jsx",
          lineNumber: 221,
          columnNumber: 13
        }, this)
      ] }, void 0, true, {
        fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/hazards/HazardLibrary.jsx",
        lineNumber: 219,
        columnNumber: 11
      }, this),
      /* @__PURE__ */ jsxDEV("div", { children: [
        /* @__PURE__ */ jsxDEV("label", { className: "block text-xs text-gray-600", children: "Risk" }, void 0, false, {
          fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/hazards/HazardLibrary.jsx",
          lineNumber: 224,
          columnNumber: 13
        }, this),
        /* @__PURE__ */ jsxDEV("select", { className: "w-full border rounded px-2 py-1.5", value: form.risk, onChange: (e) => set("risk", e.target.value), children: [
          /* @__PURE__ */ jsxDEV("option", { children: "Critical" }, void 0, false, {
            fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/hazards/HazardLibrary.jsx",
            lineNumber: 226,
            columnNumber: 15
          }, this),
          /* @__PURE__ */ jsxDEV("option", { children: "High" }, void 0, false, {
            fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/hazards/HazardLibrary.jsx",
            lineNumber: 227,
            columnNumber: 15
          }, this),
          /* @__PURE__ */ jsxDEV("option", { children: "Medium" }, void 0, false, {
            fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/hazards/HazardLibrary.jsx",
            lineNumber: 228,
            columnNumber: 15
          }, this),
          /* @__PURE__ */ jsxDEV("option", { children: "Low" }, void 0, false, {
            fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/hazards/HazardLibrary.jsx",
            lineNumber: 229,
            columnNumber: 15
          }, this)
        ] }, void 0, true, {
          fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/hazards/HazardLibrary.jsx",
          lineNumber: 225,
          columnNumber: 13
        }, this)
      ] }, void 0, true, {
        fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/hazards/HazardLibrary.jsx",
        lineNumber: 223,
        columnNumber: 11
      }, this)
    ] }, void 0, true, {
      fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/hazards/HazardLibrary.jsx",
      lineNumber: 210,
      columnNumber: 9
    }, this),
    /* @__PURE__ */ jsxDEV("div", { children: [
      /* @__PURE__ */ jsxDEV("label", { className: "block text-xs text-gray-600", children: "Description" }, void 0, false, {
        fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/hazards/HazardLibrary.jsx",
        lineNumber: 234,
        columnNumber: 11
      }, this),
      /* @__PURE__ */ jsxDEV("textarea", { rows: 4, className: "w-full border rounded px-2 py-1.5", value: form.description, onChange: (e) => set("description", e.target.value) }, void 0, false, {
        fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/hazards/HazardLibrary.jsx",
        lineNumber: 235,
        columnNumber: 11
      }, this)
    ] }, void 0, true, {
      fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/hazards/HazardLibrary.jsx",
      lineNumber: 233,
      columnNumber: 9
    }, this),
    /* @__PURE__ */ jsxDEV("div", { className: "flex justify-end gap-2 pt-2", children: [
      /* @__PURE__ */ jsxDEV("button", { className: "px-3 py-1.5 border rounded", onClick: onClose, children: "Cancel" }, void 0, false, {
        fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/hazards/HazardLibrary.jsx",
        lineNumber: 238,
        columnNumber: 11
      }, this),
      /* @__PURE__ */ jsxDEV("button", { disabled: saving, className: "px-3 py-1.5 bg-black text-white rounded", onClick: save, children: saving ? "Savingâ€¦" : "Save" }, void 0, false, {
        fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/hazards/HazardLibrary.jsx",
        lineNumber: 239,
        columnNumber: 11
      }, this)
    ] }, void 0, true, {
      fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/hazards/HazardLibrary.jsx",
      lineNumber: 237,
      columnNumber: 9
    }, this)
  ] }, void 0, true, {
    fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/hazards/HazardLibrary.jsx",
    lineNumber: 208,
    columnNumber: 7
  }, this) }, void 0, false, {
    fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/hazards/HazardLibrary.jsx",
    lineNumber: 207,
    columnNumber: 5
  }, this);
}
_s2(AddHazardModal, "+IraOV66u58rZOFGetSWvJfhZEg=");
_c4 = AddHazardModal;
function HazardControlMapperModal({ hazard, onClose }) {
  _s3();
  const [loading, setLoading] = useState(true);
  const [mapped, setMapped] = useState([]);
  const [available, setAvailable] = useState([]);
  const [qLeft, setQLeft] = useState("");
  const [qRight, setQRight] = useState("");
  useEffect(() => {
    load();
  }, [hazard?.id]);
  async function load() {
    if (!hazard?.id) return;
    setLoading(true);
    try {
      const res = await window.api?.getHazardControls?.(hazard.id);
      setMapped(res?.mapped || []);
      setAvailable(res?.available || []);
    } catch (e) {
      console.error("getHazardControls failed", e);
      setMapped([]);
      setAvailable([]);
    } finally {
      setLoading(false);
    }
  }
  const filteredMapped = useMemo(() => {
    const s = qLeft.trim().toLowerCase();
    if (!s) return mapped;
    return mapped.filter(
      (m) => (m.control?.title || "").toLowerCase().includes(s) || (m.control?.code || "").toLowerCase().includes(s) || (m.control?.type || "").toLowerCase().includes(s)
    );
  }, [mapped, qLeft]);
  const filteredAvailable = useMemo(() => {
    const s = qRight.trim().toLowerCase();
    if (!s) return available;
    return available.filter(
      (c) => (c.title || "").toLowerCase().includes(s) || (c.code || "").toLowerCase().includes(s) || (c.type || "").toLowerCase().includes(s)
    );
  }, [available, qRight]);
  async function add(controlId) {
    await window.api?.addHazardControl?.({ hazardId: hazard.id, controlId });
    await load();
  }
  async function removeByComposite(controlId) {
    await window.api?.removeHazardControl?.({ hazardId: hazard.id, controlId });
    await load();
  }
  async function toggleCritical(mapping) {
    await window.api?.addHazardControl?.({
      hazardId: hazard.id,
      controlId: mapping.controlId,
      isCritical: !mapping.isCritical,
      priority: mapping.priority
    });
    await load();
  }
  async function updatePriority(mapping, value) {
    const p = Number(value);
    if (!Number.isFinite(p)) return;
    await window.api?.addHazardControl?.({
      hazardId: hazard.id,
      controlId: mapping.controlId,
      isCritical: mapping.isCritical,
      priority: p
    });
    await load();
  }
  return /* @__PURE__ */ jsxDEV("div", { className: "fixed inset-0 bg-black/40 z-50 flex items-center justify-center", children: /* @__PURE__ */ jsxDEV("div", { className: "bg-white rounded-lg shadow-xl w-[960px] max-w-[95vw] p-5", children: [
    /* @__PURE__ */ jsxDEV("div", { className: "flex items-start justify-between mb-3", children: [
      /* @__PURE__ */ jsxDEV("div", { children: [
        /* @__PURE__ */ jsxDEV("h3", { className: "text-lg font-semibold", children: "Map Controls" }, void 0, false, {
          fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/hazards/HazardLibrary.jsx",
          lineNumber: 331,
          columnNumber: 13
        }, this),
        /* @__PURE__ */ jsxDEV("p", { className: "text-sm text-gray-600", children: [
          "Hazard: ",
          /* @__PURE__ */ jsxDEV("span", { className: "font-medium", children: hazard.code }, void 0, false, {
            fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/hazards/HazardLibrary.jsx",
            lineNumber: 332,
            columnNumber: 58
          }, this),
          " â€” ",
          hazard.name
        ] }, void 0, true, {
          fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/hazards/HazardLibrary.jsx",
          lineNumber: 332,
          columnNumber: 13
        }, this)
      ] }, void 0, true, {
        fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/hazards/HazardLibrary.jsx",
        lineNumber: 330,
        columnNumber: 11
      }, this),
      /* @__PURE__ */ jsxDEV("button", { className: "p-2 rounded hover:bg-gray-100", onClick: onClose, children: /* @__PURE__ */ jsxDEV(X, { size: 18 }, void 0, false, {
        fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/hazards/HazardLibrary.jsx",
        lineNumber: 335,
        columnNumber: 13
      }, this) }, void 0, false, {
        fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/hazards/HazardLibrary.jsx",
        lineNumber: 334,
        columnNumber: 11
      }, this)
    ] }, void 0, true, {
      fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/hazards/HazardLibrary.jsx",
      lineNumber: 329,
      columnNumber: 9
    }, this),
    loading ? /* @__PURE__ */ jsxDEV("div", { className: "py-16 text-center text-gray-500", children: "Loadingâ€¦" }, void 0, false, {
      fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/hazards/HazardLibrary.jsx",
      lineNumber: 340,
      columnNumber: 9
    }, this) : /* @__PURE__ */ jsxDEV("div", { className: "grid grid-cols-2 gap-4", children: [
      /* @__PURE__ */ jsxDEV("div", { className: "border rounded-lg overflow-hidden", children: [
        /* @__PURE__ */ jsxDEV("div", { className: "px-3 py-2 border-b bg-gray-50 flex items-center gap-2", children: [
          /* @__PURE__ */ jsxDEV("span", { className: "font-medium text-sm", children: "Mapped Controls" }, void 0, false, {
            fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/hazards/HazardLibrary.jsx",
            lineNumber: 346,
            columnNumber: 17
          }, this),
          /* @__PURE__ */ jsxDEV("span", { className: "ml-auto text-xs text-gray-500", children: filteredMapped.length }, void 0, false, {
            fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/hazards/HazardLibrary.jsx",
            lineNumber: 347,
            columnNumber: 17
          }, this)
        ] }, void 0, true, {
          fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/hazards/HazardLibrary.jsx",
          lineNumber: 345,
          columnNumber: 15
        }, this),
        /* @__PURE__ */ jsxDEV("div", { className: "p-2", children: /* @__PURE__ */ jsxDEV(
          "input",
          {
            value: qLeft,
            onChange: (e) => setQLeft(e.target.value),
            placeholder: "Search mappedâ€¦",
            className: "w-full border rounded px-2 py-1.5 text-sm"
          },
          void 0,
          false,
          {
            fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/hazards/HazardLibrary.jsx",
            lineNumber: 350,
            columnNumber: 17
          },
          this
        ) }, void 0, false, {
          fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/hazards/HazardLibrary.jsx",
          lineNumber: 349,
          columnNumber: 15
        }, this),
        /* @__PURE__ */ jsxDEV("div", { className: "max-h-[420px] overflow-auto divide-y", children: filteredMapped.length === 0 ? /* @__PURE__ */ jsxDEV("div", { className: "py-10 text-center text-gray-500", children: "No mapped controls" }, void 0, false, {
          fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/hazards/HazardLibrary.jsx",
          lineNumber: 359,
          columnNumber: 15
        }, this) : filteredMapped.map(
          (m) => /* @__PURE__ */ jsxDEV("div", { className: "px-3 py-2 flex items-center gap-3", children: [
            /* @__PURE__ */ jsxDEV("div", { className: "flex-1", children: [
              /* @__PURE__ */ jsxDEV("div", { className: "text-sm font-medium", children: m.control?.title }, void 0, false, {
                fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/hazards/HazardLibrary.jsx",
                lineNumber: 364,
                columnNumber: 25
              }, this),
              /* @__PURE__ */ jsxDEV("div", { className: "text-[11px] text-gray-500 font-mono", children: [
                m.control?.code,
                " â€¢ ",
                m.control?.type
              ] }, void 0, true, {
                fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/hazards/HazardLibrary.jsx",
                lineNumber: 365,
                columnNumber: 25
              }, this)
            ] }, void 0, true, {
              fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/hazards/HazardLibrary.jsx",
              lineNumber: 363,
              columnNumber: 23
            }, this),
            /* @__PURE__ */ jsxDEV(
              "button",
              {
                className: `px-2 py-1 text-xs rounded inline-flex items-center gap-1 ${m.isCritical ? "bg-red-100 text-red-700" : "bg-gray-100 text-gray-700"}`,
                onClick: () => toggleCritical(m),
                title: "Toggle critical",
                children: [
                  /* @__PURE__ */ jsxDEV(Flag, { size: 12 }, void 0, false, {
                    fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/hazards/HazardLibrary.jsx",
                    lineNumber: 372,
                    columnNumber: 25
                  }, this),
                  " Critical"
                ]
              },
              void 0,
              true,
              {
                fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/hazards/HazardLibrary.jsx",
                lineNumber: 367,
                columnNumber: 23
              },
              this
            ),
            /* @__PURE__ */ jsxDEV(
              "input",
              {
                type: "number",
                className: "w-16 border rounded px-1 py-1 text-xs",
                value: m.priority ?? 0,
                onChange: (e) => updatePriority(m, e.target.value),
                title: "Priority (lower = earlier)"
              },
              void 0,
              false,
              {
                fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/hazards/HazardLibrary.jsx",
                lineNumber: 374,
                columnNumber: 23
              },
              this
            ),
            /* @__PURE__ */ jsxDEV(
              "button",
              {
                className: "px-2 py-1 text-xs border rounded inline-flex items-center gap-1 hover:bg-gray-50",
                onClick: () => removeByComposite(m.controlId),
                title: "Remove mapping",
                children: [
                  /* @__PURE__ */ jsxDEV(Minus, { size: 12 }, void 0, false, {
                    fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/hazards/HazardLibrary.jsx",
                    lineNumber: 386,
                    columnNumber: 25
                  }, this),
                  " Remove"
                ]
              },
              void 0,
              true,
              {
                fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/hazards/HazardLibrary.jsx",
                lineNumber: 381,
                columnNumber: 23
              },
              this
            )
          ] }, m.id, true, {
            fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/hazards/HazardLibrary.jsx",
            lineNumber: 362,
            columnNumber: 15
          }, this)
        ) }, void 0, false, {
          fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/hazards/HazardLibrary.jsx",
          lineNumber: 357,
          columnNumber: 15
        }, this)
      ] }, void 0, true, {
        fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/hazards/HazardLibrary.jsx",
        lineNumber: 344,
        columnNumber: 13
      }, this),
      /* @__PURE__ */ jsxDEV("div", { className: "border rounded-lg overflow-hidden", children: [
        /* @__PURE__ */ jsxDEV("div", { className: "px-3 py-2 border-b bg-gray-50 flex items-center gap-2", children: [
          /* @__PURE__ */ jsxDEV("span", { className: "font-medium text-sm", children: "Available Controls" }, void 0, false, {
            fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/hazards/HazardLibrary.jsx",
            lineNumber: 397,
            columnNumber: 17
          }, this),
          /* @__PURE__ */ jsxDEV("span", { className: "ml-auto text-xs text-gray-500", children: filteredAvailable.length }, void 0, false, {
            fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/hazards/HazardLibrary.jsx",
            lineNumber: 398,
            columnNumber: 17
          }, this)
        ] }, void 0, true, {
          fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/hazards/HazardLibrary.jsx",
          lineNumber: 396,
          columnNumber: 15
        }, this),
        /* @__PURE__ */ jsxDEV("div", { className: "p-2", children: /* @__PURE__ */ jsxDEV(
          "input",
          {
            value: qRight,
            onChange: (e) => setQRight(e.target.value),
            placeholder: "Search availableâ€¦",
            className: "w-full border rounded px-2 py-1.5 text-sm"
          },
          void 0,
          false,
          {
            fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/hazards/HazardLibrary.jsx",
            lineNumber: 401,
            columnNumber: 17
          },
          this
        ) }, void 0, false, {
          fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/hazards/HazardLibrary.jsx",
          lineNumber: 400,
          columnNumber: 15
        }, this),
        /* @__PURE__ */ jsxDEV("div", { className: "max-h-[420px] overflow-auto divide-y", children: filteredAvailable.length === 0 ? /* @__PURE__ */ jsxDEV("div", { className: "py-10 text-center text-gray-500", children: "No available controls" }, void 0, false, {
          fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/hazards/HazardLibrary.jsx",
          lineNumber: 410,
          columnNumber: 15
        }, this) : filteredAvailable.map(
          (c) => /* @__PURE__ */ jsxDEV("div", { className: "px-3 py-2 flex items-center gap-3", children: [
            /* @__PURE__ */ jsxDEV("div", { className: "flex-1", children: [
              /* @__PURE__ */ jsxDEV("div", { className: "text-sm font-medium", children: c.title }, void 0, false, {
                fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/hazards/HazardLibrary.jsx",
                lineNumber: 415,
                columnNumber: 25
              }, this),
              /* @__PURE__ */ jsxDEV("div", { className: "text-[11px] text-gray-500 font-mono", children: [
                c.code,
                " â€¢ ",
                c.type
              ] }, void 0, true, {
                fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/hazards/HazardLibrary.jsx",
                lineNumber: 416,
                columnNumber: 25
              }, this)
            ] }, void 0, true, {
              fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/hazards/HazardLibrary.jsx",
              lineNumber: 414,
              columnNumber: 23
            }, this),
            /* @__PURE__ */ jsxDEV(
              "button",
              {
                className: "px-2 py-1 text-xs bg-blue-600 text-white rounded inline-flex items-center gap-1 hover:bg-blue-700",
                onClick: () => add(c.id),
                title: "Add mapping",
                children: [
                  /* @__PURE__ */ jsxDEV(Plus, { size: 12 }, void 0, false, {
                    fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/hazards/HazardLibrary.jsx",
                    lineNumber: 423,
                    columnNumber: 25
                  }, this),
                  " Add"
                ]
              },
              void 0,
              true,
              {
                fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/hazards/HazardLibrary.jsx",
                lineNumber: 418,
                columnNumber: 23
              },
              this
            )
          ] }, c.id || c.code, true, {
            fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/hazards/HazardLibrary.jsx",
            lineNumber: 413,
            columnNumber: 15
          }, this)
        ) }, void 0, false, {
          fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/hazards/HazardLibrary.jsx",
          lineNumber: 408,
          columnNumber: 15
        }, this)
      ] }, void 0, true, {
        fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/hazards/HazardLibrary.jsx",
        lineNumber: 395,
        columnNumber: 13
      }, this)
    ] }, void 0, true, {
      fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/hazards/HazardLibrary.jsx",
      lineNumber: 342,
      columnNumber: 9
    }, this)
  ] }, void 0, true, {
    fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/hazards/HazardLibrary.jsx",
    lineNumber: 328,
    columnNumber: 7
  }, this) }, void 0, false, {
    fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/hazards/HazardLibrary.jsx",
    lineNumber: 327,
    columnNumber: 5
  }, this);
}
_s3(HazardControlMapperModal, "CkdPYQBXQMUHL7H5nKNOTb9/2Cs=");
_c5 = HazardControlMapperModal;
var _c, _c2, _c3, _c4, _c5;
$RefreshReg$(_c, "HazardLibrary");
$RefreshReg$(_c2, "PackButton");
$RefreshReg$(_c3, "EmptyState");
$RefreshReg$(_c4, "AddHazardModal");
$RefreshReg$(_c5, "HazardControlMapperModal");
if (import.meta.hot && !inWebWorker) {
  window.$RefreshReg$ = prevRefreshReg;
  window.$RefreshSig$ = prevRefreshSig;
}
if (import.meta.hot && !inWebWorker) {
  RefreshRuntime.__hmr_import(import.meta.url).then((currentExports) => {
    RefreshRuntime.registerExportsForReactRefresh("C:/Users/Bill.S/safety-intelligence-engine/src/components/hazards/HazardLibrary.jsx", currentExports);
    import.meta.hot.accept((nextExports) => {
      if (!nextExports) return;
      const invalidateMessage = RefreshRuntime.validateRefreshBoundaryAndEnqueueUpdate("C:/Users/Bill.S/safety-intelligence-engine/src/components/hazards/HazardLibrary.jsx", currentExports, nextExports);
      if (invalidateMessage) import.meta.hot.invalidate(invalidateMessage);
    });
  });
}

//# sourceMappingURL=data:application/json;base64,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QztBQUF3QixJQUFBdEIsSUFBQUksS0FBQUksS0FBQWEsS0FBQXVDO0FBQUFDLGFBQUE3RCxJQUFBO0FBQUE2RCxhQUFBekQsS0FBQTtBQUFBeUQsYUFBQXJELEtBQUE7QUFBQXFELGFBQUF4QyxLQUFBO0FBQUF3QyxhQUFBRCxLQUFBIiwibmFtZXMiOlsiUmVhY3QiLCJ1c2VFZmZlY3QiLCJ1c2VNZW1vIiwidXNlU3RhdGUiLCJQbHVzIiwiSW1wb3J0IiwiV3JlbmNoIiwiWCIsIkFycm93TGVmdFJpZ2h0IiwiTWludXMiLCJGbGFnIiwicmlza1N0eWxlcyIsIkNyaXRpY2FsIiwiSGlnaCIsIk1lZGl1bSIsIkxvdyIsInJpc2tCYWRnZSIsIkhhemFyZExpYnJhcnkiLCJfcyIsImhhemFyZHMiLCJzZXRIYXphcmRzIiwicSIsInNldFEiLCJzaG93QWRkIiwic2V0U2hvd0FkZCIsInNob3dJbXBvcnQiLCJzZXRTaG93SW1wb3J0IiwibWFwcGVyT3BlbiIsInNldE1hcHBlck9wZW4iLCJtYXBwZXJIYXphcmQiLCJzZXRNYXBwZXJIYXphcmQiLCJ3aW5kb3ciLCJhcGkiLCJsaXN0SGF6YXJkcyIsInRoZW4iLCJjYXRjaCIsImZpbHRlcmVkIiwicyIsInRvTG93ZXJDYXNlIiwiZmlsdGVyIiwiaCIsIm5hbWUiLCJpbmNsdWRlcyIsImNvZGUiLCJjYXRlZ29yeSIsIm9uQWRkZWQiLCJwcmV2IiwiaW1wb3J0UGFjayIsImtpbmQiLCJyZXMiLCJpbXBvcnRIYXphcmRQYWNrIiwiQXJyYXkiLCJpc0FycmF5IiwibWFwQ29udHJvbHMiLCJoYXphcmQiLCJlIiwidGFyZ2V0IiwidmFsdWUiLCJ2IiwibGVuZ3RoIiwibWFwIiwicmlzayIsImRlc2NyaXB0aW9uIiwiaWQiLCJfYyIsIlBhY2tCdXR0b24iLCJsYWJlbCIsIm9uQ2xpY2siLCJfYzIiLCJFbXB0eVN0YXRlIiwib25BZGQiLCJvbkltcG9ydCIsIl9jMyIsIkFkZEhhemFyZE1vZGFsIiwib25DbG9zZSIsIl9zMiIsImZvcm0iLCJzZXRGb3JtIiwic2F2aW5nIiwic2V0U2F2aW5nIiwic2V0IiwiayIsInNhdmUiLCJjcmVhdGVkIiwiY3JlYXRlSGF6YXJkIiwiX2M0IiwiSGF6YXJkQ29udHJvbE1hcHBlck1vZGFsIiwiX3MzIiwibG9hZGluZyIsInNldExvYWRpbmciLCJtYXBwZWQiLCJzZXRNYXBwZWQiLCJhdmFpbGFibGUiLCJzZXRBdmFpbGFibGUiLCJxTGVmdCIsInNldFFMZWZ0IiwicVJpZ2h0Iiwic2V0UVJpZ2h0IiwibG9hZCIsImdldEhhemFyZENvbnRyb2xzIiwiY29uc29sZSIsImVycm9yIiwiZmlsdGVyZWRNYXBwZWQiLCJ0cmltIiwibSIsImNvbnRyb2wiLCJ0aXRsZSIsInR5cGUiLCJmaWx0ZXJlZEF2YWlsYWJsZSIsImMiLCJhZGQiLCJjb250cm9sSWQiLCJhZGRIYXphcmRDb250cm9sIiwiaGF6YXJkSWQiLCJyZW1vdmVCeUNvbXBvc2l0ZSIsInJlbW92ZUhhemFyZENvbnRyb2wiLCJ0b2dnbGVDcml0aWNhbCIsIm1hcHBpbmciLCJpc0NyaXRpY2FsIiwicHJpb3JpdHkiLCJ1cGRhdGVQcmlvcml0eSIsInAiLCJOdW1iZXIiLCJpc0Zpbml0ZSIsIl9jNSIsIiRSZWZyZXNoUmVnJCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlcyI6WyJIYXphcmRMaWJyYXJ5LmpzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgdXNlRWZmZWN0LCB1c2VNZW1vLCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IHsgUGx1cywgSW1wb3J0LCBXcmVuY2gsIFgsIEFycm93TGVmdFJpZ2h0LCBNaW51cywgRmxhZyB9IGZyb20gJ2x1Y2lkZS1yZWFjdCc7XHJcblxyXG5jb25zdCByaXNrU3R5bGVzID0ge1xyXG4gIENyaXRpY2FsOiAnYm9yZGVyLWwtNCBib3JkZXItcmVkLTUwMCcsXHJcbiAgSGlnaDogJ2JvcmRlci1sLTQgYm9yZGVyLW9yYW5nZS01MDAnLFxyXG4gIE1lZGl1bTogJ2JvcmRlci1sLTQgYm9yZGVyLXllbGxvdy01MDAnLFxyXG4gIExvdzogJ2JvcmRlci1sLTQgYm9yZGVyLWdyZWVuLTUwMCcsXHJcbn07XHJcblxyXG5jb25zdCByaXNrQmFkZ2UgPSB7XHJcbiAgQ3JpdGljYWw6ICdweC0yIHB5LTEgYmctcmVkLTEwMCB0ZXh0LXJlZC04MDAgdGV4dC14cyByb3VuZGVkJyxcclxuICBIaWdoOiAncHgtMiBweS0xIGJnLW9yYW5nZS0xMDAgdGV4dC1vcmFuZ2UtODAwIHRleHQteHMgcm91bmRlZCcsXHJcbiAgTWVkaXVtOiAncHgtMiBweS0xIGJnLXllbGxvdy0xMDAgdGV4dC15ZWxsb3ctODAwIHRleHQteHMgcm91bmRlZCcsXHJcbiAgTG93OiAncHgtMiBweS0xIGJnLWdyZWVuLTEwMCB0ZXh0LWdyZWVuLTgwMCB0ZXh0LXhzIHJvdW5kZWQnLFxyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIEhhemFyZExpYnJhcnkoKSB7XHJcbiAgY29uc3QgW2hhemFyZHMsIHNldEhhemFyZHNdID0gdXNlU3RhdGUoW10pO1xyXG4gIGNvbnN0IFtxLCBzZXRRXSA9IHVzZVN0YXRlKCcnKTtcclxuICBjb25zdCBbc2hvd0FkZCwgc2V0U2hvd0FkZF0gPSB1c2VTdGF0ZShmYWxzZSk7XHJcbiAgY29uc3QgW3Nob3dJbXBvcnQsIHNldFNob3dJbXBvcnRdID0gdXNlU3RhdGUoZmFsc2UpO1xyXG5cclxuICBjb25zdCBbbWFwcGVyT3Blbiwgc2V0TWFwcGVyT3Blbl0gPSB1c2VTdGF0ZShmYWxzZSk7XHJcbiAgY29uc3QgW21hcHBlckhhemFyZCwgc2V0TWFwcGVySGF6YXJkXSA9IHVzZVN0YXRlKG51bGwpOyAvLyB7IGlkLCBjb2RlLCBuYW1lIH1cclxuXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIHdpbmRvdy5hcGk/Lmxpc3RIYXphcmRzPy4oKS50aGVuKHNldEhhemFyZHMpLmNhdGNoKCgpID0+IHNldEhhemFyZHMoW10pKTtcclxuICB9LCBbXSk7XHJcblxyXG4gIGNvbnN0IGZpbHRlcmVkID0gdXNlTWVtbygoKSA9PiB7XHJcbiAgICBpZiAoIXEpIHJldHVybiBoYXphcmRzO1xyXG4gICAgY29uc3QgcyA9IHEudG9Mb3dlckNhc2UoKTtcclxuICAgIHJldHVybiBoYXphcmRzLmZpbHRlcihoID0+XHJcbiAgICAgIChoLm5hbWUgfHwgJycpLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMocykgfHxcclxuICAgICAgKGguY29kZSB8fCAnJykudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhzKSB8fFxyXG4gICAgICAoaC5jYXRlZ29yeSB8fCAnJykudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhzKVxyXG4gICAgKTtcclxuICB9LCBbaGF6YXJkcywgcV0pO1xyXG5cclxuICBmdW5jdGlvbiBvbkFkZGVkKGgpIHtcclxuICAgIHNldEhhemFyZHMocHJldiA9PiBbaCwgLi4ucHJldl0pO1xyXG4gICAgc2V0U2hvd0FkZChmYWxzZSk7XHJcbiAgfVxyXG5cclxuICBhc3luYyBmdW5jdGlvbiBpbXBvcnRQYWNrKGtpbmQpIHtcclxuICAgIHNldFNob3dJbXBvcnQoZmFsc2UpO1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgcmVzID0gYXdhaXQgd2luZG93LmFwaT8uaW1wb3J0SGF6YXJkUGFjaz8uKHsga2luZCB9KTtcclxuICAgICAgaWYgKEFycmF5LmlzQXJyYXkocmVzKSkgc2V0SGF6YXJkcyhwcmV2ID0+IFsuLi5yZXMsIC4uLnByZXZdKTtcclxuICAgIH0gY2F0Y2gge31cclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIG1hcENvbnRyb2xzKGhhemFyZCkge1xyXG4gICAgc2V0TWFwcGVySGF6YXJkKGhhemFyZCk7XHJcbiAgICBzZXRNYXBwZXJPcGVuKHRydWUpO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS02XCI+XHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuXCI+XHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtM1wiPlxyXG4gICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInRleHQtbGcgZm9udC1zZW1pYm9sZFwiPkhhemFyZCBMaWJyYXJ5PC9oMz5cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVsYXRpdmVcIj5cclxuICAgICAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgICAgdmFsdWU9e3F9XHJcbiAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRRKGUudGFyZ2V0LnZhbHVlKX1cclxuICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlNlYXJjaCBuYW1lLCBjb2RlLCBjYXRlZ29yeeKAplwiXHJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiaC05IHctNzIgcm91bmRlZCBib3JkZXIgcHgtMyB0ZXh0LXNtIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpyaW5nXCJcclxuICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAge3EgJiYgKFxyXG4gICAgICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiYWJzb2x1dGUgcmlnaHQtMiB0b3AtMS41IHRleHQtZ3JheS00MDAgaG92ZXI6dGV4dC1ncmF5LTYwMFwiIG9uQ2xpY2s9eygpID0+IHNldFEoJycpfT5cclxuICAgICAgICAgICAgICAgIDxYIHNpemU9ezE2fSAvPlxyXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICApfVxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxyXG4gICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRTaG93SW1wb3J0KHYgPT4gIXYpfVxyXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiBweC0zIHB5LTIgYm9yZGVyIHJvdW5kZWQtbGcgaG92ZXI6YmctZ3JheS01MFwiXHJcbiAgICAgICAgICAgIHRpdGxlPVwiSW1wb3J0IHN0YXJ0ZXIgcGFja3NcIlxyXG4gICAgICAgICAgPlxyXG4gICAgICAgICAgICA8SW1wb3J0IHNpemU9ezE4fSAvPiBJbXBvcnQgUGFja1xyXG4gICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFNob3dBZGQodHJ1ZSl9XHJcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHB4LTQgcHktMiBiZy1ibHVlLTYwMCB0ZXh0LXdoaXRlIHJvdW5kZWQtbGcgaG92ZXI6YmctYmx1ZS03MDBcIlxyXG4gICAgICAgICAgPlxyXG4gICAgICAgICAgICA8UGx1cyBzaXplPXsyMH0gLz4gQWRkIEhhemFyZFxyXG4gICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIDwvZGl2PlxyXG5cclxuICAgICAge3Nob3dJbXBvcnQgJiYgKFxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctd2hpdGUgYm9yZGVyIHJvdW5kZWQtbGcgcC00IGZsZXggZmxleC13cmFwIGdhcC0zXCI+XHJcbiAgICAgICAgICA8UGFja0J1dHRvbiBsYWJlbD1cIkluZHVzdHJ5XCIgb25DbGljaz17KCkgPT4gaW1wb3J0UGFjaygnaW5kdXN0cnknKX0gLz5cclxuICAgICAgICAgIDxQYWNrQnV0dG9uIGxhYmVsPVwiV29yayBNZXRob2RcIiBvbkNsaWNrPXsoKSA9PiBpbXBvcnRQYWNrKCd3b3JrTWV0aG9kJyl9IC8+XHJcbiAgICAgICAgICA8UGFja0J1dHRvbiBsYWJlbD1cIkp1cmlzZGljdGlvblwiIG9uQ2xpY2s9eygpID0+IGltcG9ydFBhY2soJ2p1cmlzZGljdGlvbicpfSAvPlxyXG4gICAgICAgICAgPFBhY2tCdXR0b24gbGFiZWw9XCJJU08gNDUwMDEgQWRkLW9uc1wiIG9uQ2xpY2s9eygpID0+IGltcG9ydFBhY2soJ2lzbzQ1MDAxJyl9IC8+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICl9XHJcblxyXG4gICAgICB7ZmlsdGVyZWQubGVuZ3RoID09PSAwID8gKFxyXG4gICAgICAgIDxFbXB0eVN0YXRlIG9uQWRkPXsoKSA9PiBzZXRTaG93QWRkKHRydWUpfSBvbkltcG9ydD17KCkgPT4gc2V0U2hvd0ltcG9ydCh0cnVlKX0gLz5cclxuICAgICAgKSA6IChcclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTEgbWQ6Z3JpZC1jb2xzLTIgbGc6Z3JpZC1jb2xzLTMgZ2FwLTZcIj5cclxuICAgICAgICAgIHtmaWx0ZXJlZC5tYXAoKGgpID0+IChcclxuICAgICAgICAgICAgPGRpdiBrZXk9e2guaWQgfHwgaC5jb2RlfSBjbGFzc05hbWU9e2BiZy13aGl0ZSByb3VuZGVkLWxnIHNoYWRvdyBwLTYgJHtyaXNrU3R5bGVzW2gucmlzayB8fCAnTWVkaXVtJ10gfHwgJ2JvcmRlcid9YH0+XHJcbiAgICAgICAgICAgICAgPGg0IGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgdGV4dC1ncmF5LTkwMCBtYi0xXCI+e2gubmFtZX08L2g0PlxyXG4gICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmF5LTUwMCBtYi0xXCI+e2guY2F0ZWdvcnkgfHwgJ+KAlCd9PC9wPlxyXG4gICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ncmF5LTYwMCBtYi00IGxpbmUtY2xhbXAtMlwiPntoLmRlc2NyaXB0aW9uIHx8ICfigJQnfTwvcD5cclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlblwiPlxyXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNTAwXCI+e2guY29kZX08L3NwYW4+XHJcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9e3Jpc2tCYWRnZVtoLnJpc2sgfHwgJ01lZGl1bSddfT57aC5yaXNrIHx8ICdNZWRpdW0nfTwvc3Bhbj5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInB0LTQgZmxleCBqdXN0aWZ5LWVuZFwiPlxyXG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXsoKSA9PiBtYXBDb250cm9scyhoKX0gY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgcHgtMyBweS0xLjUgdGV4dC1zbSBib3JkZXIgcm91bmRlZCBob3ZlcjpiZy1ncmF5LTUwXCIgdGl0bGU9XCJNYXAgY29udHJvbHMgZm9yIHRoaXMgaGF6YXJkXCI+XHJcbiAgICAgICAgICAgICAgICAgIDxBcnJvd0xlZnRSaWdodCBzaXplPXsxNn0gLz4gTWFwIENvbnRyb2xzXHJcbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICApKX1cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgKX1cclxuXHJcbiAgICAgIHtzaG93QWRkICYmIDxBZGRIYXphcmRNb2RhbCBvbkNsb3NlPXsoKSA9PiBzZXRTaG93QWRkKGZhbHNlKX0gb25BZGRlZD17b25BZGRlZH0gLz59XHJcblxyXG4gICAgICB7bWFwcGVyT3BlbiAmJiBtYXBwZXJIYXphcmQgJiYgKFxyXG4gICAgICAgIDxIYXphcmRDb250cm9sTWFwcGVyTW9kYWxcclxuICAgICAgICAgIGhhemFyZD17bWFwcGVySGF6YXJkfVxyXG4gICAgICAgICAgb25DbG9zZT17KCkgPT4geyBzZXRNYXBwZXJPcGVuKGZhbHNlKTsgc2V0TWFwcGVySGF6YXJkKG51bGwpOyB9fVxyXG4gICAgICAgIC8+XHJcbiAgICAgICl9XHJcbiAgICA8L2Rpdj5cclxuICApO1xyXG59XHJcblxyXG5mdW5jdGlvbiBQYWNrQnV0dG9uKHsgbGFiZWwsIG9uQ2xpY2sgfSkge1xyXG4gIHJldHVybiAoXHJcbiAgICA8YnV0dG9uIG9uQ2xpY2s9e29uQ2xpY2t9IGNsYXNzTmFtZT1cInB4LTMgcHktMiB0ZXh0LXNtIGJvcmRlciByb3VuZGVkIGhvdmVyOmJnLWdyYXktNTBcIj5cclxuICAgICAge2xhYmVsfVxyXG4gICAgPC9idXR0b24+XHJcbiAgKTtcclxufVxyXG5cclxuZnVuY3Rpb24gRW1wdHlTdGF0ZSh7IG9uQWRkLCBvbkltcG9ydCB9KSB7XHJcbiAgcmV0dXJuIChcclxuICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctd2hpdGUgcm91bmRlZC1sZyBib3JkZXItZGFzaGVkIGJvcmRlci0yIHAtMTAgdGV4dC1jZW50ZXJcIj5cclxuICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1ncmF5LTYwMCBtYi00XCI+Tm8gaGF6YXJkcyB5ZXQuIFN0YXJ0IGJ5IGltcG9ydGluZyBhIHBhY2sgb3IgYWRkaW5nIHlvdXIgZmlyc3QgaGF6YXJkLjwvcD5cclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBnYXAtM1wiPlxyXG4gICAgICAgIDxidXR0b24gb25DbGljaz17b25JbXBvcnR9IGNsYXNzTmFtZT1cInB4LTMgcHktMiBib3JkZXIgcm91bmRlZCBob3ZlcjpiZy1ncmF5LTUwIGZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XHJcbiAgICAgICAgICA8SW1wb3J0IHNpemU9ezE2fSAvPiBJbXBvcnQgUGFja1xyXG4gICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgIDxidXR0b24gb25DbGljaz17b25BZGR9IGNsYXNzTmFtZT1cInB4LTMgcHktMiBiZy1ibHVlLTYwMCB0ZXh0LXdoaXRlIHJvdW5kZWQgaG92ZXI6YmctYmx1ZS03MDAgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cclxuICAgICAgICAgIDxQbHVzIHNpemU9ezE2fSAvPiBBZGQgSGF6YXJkXHJcbiAgICAgICAgPC9idXR0b24+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgPC9kaXY+XHJcbiAgKTtcclxufVxyXG5cclxuZnVuY3Rpb24gQWRkSGF6YXJkTW9kYWwoeyBvbkNsb3NlLCBvbkFkZGVkIH0pIHtcclxuICBjb25zdCBbZm9ybSwgc2V0Rm9ybV0gPSB1c2VTdGF0ZSh7XHJcbiAgICBuYW1lOiAnJyxcclxuICAgIGNvZGU6ICcnLFxyXG4gICAgY2F0ZWdvcnk6ICcnLFxyXG4gICAgcmlzazogJ01lZGl1bScsXHJcbiAgICBkZXNjcmlwdGlvbjogJydcclxuICB9KTtcclxuICBjb25zdCBbc2F2aW5nLCBzZXRTYXZpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xyXG5cclxuICBmdW5jdGlvbiBzZXQoaywgdikge1xyXG4gICAgc2V0Rm9ybShwcmV2ID0+ICh7IC4uLnByZXYsIFtrXTogdiB9KSk7XHJcbiAgfVxyXG5cclxuICBhc3luYyBmdW5jdGlvbiBzYXZlKCkge1xyXG4gICAgc2V0U2F2aW5nKHRydWUpO1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgY3JlYXRlZCA9IGF3YWl0IHdpbmRvdy5hcGk/LmNyZWF0ZUhhemFyZD8uKGZvcm0pO1xyXG4gICAgICBpZiAoY3JlYXRlZCkgb25BZGRlZChjcmVhdGVkKTtcclxuICAgIH0gZmluYWxseSB7XHJcbiAgICAgIHNldFNhdmluZyhmYWxzZSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPGRpdiBjbGFzc05hbWU9XCJmaXhlZCBpbnNldC0wIGJnLWJsYWNrLzMwIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHotNTBcIj5cclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy13aGl0ZSByb3VuZGVkLWxnIHNoYWRvdyB3LVs1MjBweF0gcC01IHNwYWNlLXktM1wiPlxyXG4gICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtc2VtaWJvbGRcIj5BZGQgSGF6YXJkPC9oMz5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTIgZ2FwLTNcIj5cclxuICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJibG9jayB0ZXh0LXhzIHRleHQtZ3JheS02MDBcIj5OYW1lPC9sYWJlbD5cclxuICAgICAgICAgICAgPGlucHV0IGNsYXNzTmFtZT1cInctZnVsbCBib3JkZXIgcm91bmRlZCBweC0yIHB5LTEuNVwiIHZhbHVlPXtmb3JtLm5hbWV9IG9uQ2hhbmdlPXtlPT5zZXQoJ25hbWUnLCBlLnRhcmdldC52YWx1ZSl9IC8+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJibG9jayB0ZXh0LXhzIHRleHQtZ3JheS02MDBcIj5Db2RlPC9sYWJlbD5cclxuICAgICAgICAgICAgPGlucHV0IGNsYXNzTmFtZT1cInctZnVsbCBib3JkZXIgcm91bmRlZCBweC0yIHB5LTEuNVwiIHZhbHVlPXtmb3JtLmNvZGV9IG9uQ2hhbmdlPXtlPT5zZXQoJ2NvZGUnLCBlLnRhcmdldC52YWx1ZSl9IC8+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJibG9jayB0ZXh0LXhzIHRleHQtZ3JheS02MDBcIj5DYXRlZ29yeTwvbGFiZWw+XHJcbiAgICAgICAgICAgIDxpbnB1dCBjbGFzc05hbWU9XCJ3LWZ1bGwgYm9yZGVyIHJvdW5kZWQgcHgtMiBweS0xLjVcIiB2YWx1ZT17Zm9ybS5jYXRlZ29yeX0gb25DaGFuZ2U9e2U9PnNldCgnY2F0ZWdvcnknLCBlLnRhcmdldC52YWx1ZSl9IHBsYWNlaG9sZGVyPVwiZS5nLiwgRWxlY3RyaWNhbCwgSGVpZ2h0c1wiIC8+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJibG9jayB0ZXh0LXhzIHRleHQtZ3JheS02MDBcIj5SaXNrPC9sYWJlbD5cclxuICAgICAgICAgICAgPHNlbGVjdCBjbGFzc05hbWU9XCJ3LWZ1bGwgYm9yZGVyIHJvdW5kZWQgcHgtMiBweS0xLjVcIiB2YWx1ZT17Zm9ybS5yaXNrfSBvbkNoYW5nZT17ZT0+c2V0KCdyaXNrJywgZS50YXJnZXQudmFsdWUpfT5cclxuICAgICAgICAgICAgICA8b3B0aW9uPkNyaXRpY2FsPC9vcHRpb24+XHJcbiAgICAgICAgICAgICAgPG9wdGlvbj5IaWdoPC9vcHRpb24+XHJcbiAgICAgICAgICAgICAgPG9wdGlvbj5NZWRpdW08L29wdGlvbj5cclxuICAgICAgICAgICAgICA8b3B0aW9uPkxvdzwvb3B0aW9uPlxyXG4gICAgICAgICAgICA8L3NlbGVjdD5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDxkaXY+XHJcbiAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiYmxvY2sgdGV4dC14cyB0ZXh0LWdyYXktNjAwXCI+RGVzY3JpcHRpb248L2xhYmVsPlxyXG4gICAgICAgICAgPHRleHRhcmVhIHJvd3M9ezR9IGNsYXNzTmFtZT1cInctZnVsbCBib3JkZXIgcm91bmRlZCBweC0yIHB5LTEuNVwiIHZhbHVlPXtmb3JtLmRlc2NyaXB0aW9ufSBvbkNoYW5nZT17ZT0+c2V0KCdkZXNjcmlwdGlvbicsIGUudGFyZ2V0LnZhbHVlKX0gLz5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1lbmQgZ2FwLTIgcHQtMlwiPlxyXG4gICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJweC0zIHB5LTEuNSBib3JkZXIgcm91bmRlZFwiIG9uQ2xpY2s9e29uQ2xvc2V9PkNhbmNlbDwvYnV0dG9uPlxyXG4gICAgICAgICAgPGJ1dHRvbiBkaXNhYmxlZD17c2F2aW5nfSBjbGFzc05hbWU9XCJweC0zIHB5LTEuNSBiZy1ibGFjayB0ZXh0LXdoaXRlIHJvdW5kZWRcIiBvbkNsaWNrPXtzYXZlfT57c2F2aW5nID8gJ1NhdmluZ+KApicgOiAnU2F2ZSd9PC9idXR0b24+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgPC9kaXY+XHJcbiAgKTtcclxufVxyXG5cclxuZnVuY3Rpb24gSGF6YXJkQ29udHJvbE1hcHBlck1vZGFsKHsgaGF6YXJkLCBvbkNsb3NlIH0pIHtcclxuICBjb25zdCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZSh0cnVlKTtcclxuICBjb25zdCBbbWFwcGVkLCBzZXRNYXBwZWRdID0gdXNlU3RhdGUoW10pOyAvLyBbeyBpZCwgY29udHJvbElkLCBpc0NyaXRpY2FsLCBwcmlvcml0eSwgY29udHJvbDogey4uLn0gfV1cclxuICBjb25zdCBbYXZhaWxhYmxlLCBzZXRBdmFpbGFibGVdID0gdXNlU3RhdGUoW10pOyAvLyBbeyBpZCwgY29kZSwgdGl0bGUsIHR5cGUgfV1cclxuICBjb25zdCBbcUxlZnQsIHNldFFMZWZ0XSA9IHVzZVN0YXRlKCcnKTtcclxuICBjb25zdCBbcVJpZ2h0LCBzZXRRUmlnaHRdID0gdXNlU3RhdGUoJycpO1xyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgbG9hZCgpO1xyXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWhvb2tzL2V4aGF1c3RpdmUtZGVwc1xyXG4gIH0sIFtoYXphcmQ/LmlkXSk7XHJcblxyXG4gIGFzeW5jIGZ1bmN0aW9uIGxvYWQoKSB7XHJcbiAgICBpZiAoIWhhemFyZD8uaWQpIHJldHVybjtcclxuICAgIHNldExvYWRpbmcodHJ1ZSk7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCByZXMgPSBhd2FpdCB3aW5kb3cuYXBpPy5nZXRIYXphcmRDb250cm9scz8uKGhhemFyZC5pZCk7XHJcbiAgICAgIHNldE1hcHBlZChyZXM/Lm1hcHBlZCB8fCBbXSk7XHJcbiAgICAgIHNldEF2YWlsYWJsZShyZXM/LmF2YWlsYWJsZSB8fCBbXSk7XHJcbiAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ2dldEhhemFyZENvbnRyb2xzIGZhaWxlZCcsIGUpO1xyXG4gICAgICBzZXRNYXBwZWQoW10pO1xyXG4gICAgICBzZXRBdmFpbGFibGUoW10pO1xyXG4gICAgfSBmaW5hbGx5IHtcclxuICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjb25zdCBmaWx0ZXJlZE1hcHBlZCA9IHVzZU1lbW8oKCkgPT4ge1xyXG4gICAgY29uc3QgcyA9IHFMZWZ0LnRyaW0oKS50b0xvd2VyQ2FzZSgpO1xyXG4gICAgaWYgKCFzKSByZXR1cm4gbWFwcGVkO1xyXG4gICAgcmV0dXJuIG1hcHBlZC5maWx0ZXIobSA9PlxyXG4gICAgICAobS5jb250cm9sPy50aXRsZSB8fCAnJykudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhzKSB8fFxyXG4gICAgICAobS5jb250cm9sPy5jb2RlIHx8ICcnKS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHMpIHx8XHJcbiAgICAgIChtLmNvbnRyb2w/LnR5cGUgfHwgJycpLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMocylcclxuICAgICk7XHJcbiAgfSwgW21hcHBlZCwgcUxlZnRdKTtcclxuXHJcbiAgY29uc3QgZmlsdGVyZWRBdmFpbGFibGUgPSB1c2VNZW1vKCgpID0+IHtcclxuICAgIGNvbnN0IHMgPSBxUmlnaHQudHJpbSgpLnRvTG93ZXJDYXNlKCk7XHJcbiAgICBpZiAoIXMpIHJldHVybiBhdmFpbGFibGU7XHJcbiAgICByZXR1cm4gYXZhaWxhYmxlLmZpbHRlcihjID0+XHJcbiAgICAgIChjLnRpdGxlIHx8ICcnKS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHMpIHx8XHJcbiAgICAgIChjLmNvZGUgfHwgJycpLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMocykgfHxcclxuICAgICAgKGMudHlwZSB8fCAnJykudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhzKVxyXG4gICAgKTtcclxuICB9LCBbYXZhaWxhYmxlLCBxUmlnaHRdKTtcclxuXHJcbiAgYXN5bmMgZnVuY3Rpb24gYWRkKGNvbnRyb2xJZCkge1xyXG4gICAgYXdhaXQgd2luZG93LmFwaT8uYWRkSGF6YXJkQ29udHJvbD8uKHsgaGF6YXJkSWQ6IGhhemFyZC5pZCwgY29udHJvbElkIH0pO1xyXG4gICAgYXdhaXQgbG9hZCgpO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgZnVuY3Rpb24gcmVtb3ZlQnlDb21wb3NpdGUoY29udHJvbElkKSB7XHJcbiAgICBhd2FpdCB3aW5kb3cuYXBpPy5yZW1vdmVIYXphcmRDb250cm9sPy4oeyBoYXphcmRJZDogaGF6YXJkLmlkLCBjb250cm9sSWQgfSk7XHJcbiAgICBhd2FpdCBsb2FkKCk7XHJcbiAgfVxyXG5cclxuICBhc3luYyBmdW5jdGlvbiB0b2dnbGVDcml0aWNhbChtYXBwaW5nKSB7XHJcbiAgICBhd2FpdCB3aW5kb3cuYXBpPy5hZGRIYXphcmRDb250cm9sPy4oe1xyXG4gICAgICBoYXphcmRJZDogaGF6YXJkLmlkLFxyXG4gICAgICBjb250cm9sSWQ6IG1hcHBpbmcuY29udHJvbElkLFxyXG4gICAgICBpc0NyaXRpY2FsOiAhbWFwcGluZy5pc0NyaXRpY2FsLFxyXG4gICAgICBwcmlvcml0eTogbWFwcGluZy5wcmlvcml0eSxcclxuICAgIH0pO1xyXG4gICAgYXdhaXQgbG9hZCgpO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgZnVuY3Rpb24gdXBkYXRlUHJpb3JpdHkobWFwcGluZywgdmFsdWUpIHtcclxuICAgIGNvbnN0IHAgPSBOdW1iZXIodmFsdWUpO1xyXG4gICAgaWYgKCFOdW1iZXIuaXNGaW5pdGUocCkpIHJldHVybjtcclxuICAgIGF3YWl0IHdpbmRvdy5hcGk/LmFkZEhhemFyZENvbnRyb2w/Lih7XHJcbiAgICAgIGhhemFyZElkOiBoYXphcmQuaWQsXHJcbiAgICAgIGNvbnRyb2xJZDogbWFwcGluZy5jb250cm9sSWQsXHJcbiAgICAgIGlzQ3JpdGljYWw6IG1hcHBpbmcuaXNDcml0aWNhbCxcclxuICAgICAgcHJpb3JpdHk6IHAsXHJcbiAgICB9KTtcclxuICAgIGF3YWl0IGxvYWQoKTtcclxuICB9XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImZpeGVkIGluc2V0LTAgYmctYmxhY2svNDAgei01MCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXdoaXRlIHJvdW5kZWQtbGcgc2hhZG93LXhsIHctWzk2MHB4XSBtYXgtdy1bOTV2d10gcC01XCI+XHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLXN0YXJ0IGp1c3RpZnktYmV0d2VlbiBtYi0zXCI+XHJcbiAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwidGV4dC1sZyBmb250LXNlbWlib2xkXCI+TWFwIENvbnRyb2xzPC9oMz5cclxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktNjAwXCI+SGF6YXJkOiA8c3BhbiBjbGFzc05hbWU9XCJmb250LW1lZGl1bVwiPntoYXphcmQuY29kZX08L3NwYW4+IOKAlCB7aGF6YXJkLm5hbWV9PC9wPlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cInAtMiByb3VuZGVkIGhvdmVyOmJnLWdyYXktMTAwXCIgb25DbGljaz17b25DbG9zZX0+XHJcbiAgICAgICAgICAgIDxYIHNpemU9ezE4fSAvPlxyXG4gICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgIHtsb2FkaW5nID8gKFxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJweS0xNiB0ZXh0LWNlbnRlciB0ZXh0LWdyYXktNTAwXCI+TG9hZGluZ+KApjwvZGl2PlxyXG4gICAgICAgICkgOiAoXHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTIgZ2FwLTRcIj5cclxuICAgICAgICAgICAgey8qIExlZnQ6IE1hcHBlZCAqL31cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJib3JkZXIgcm91bmRlZC1sZyBvdmVyZmxvdy1oaWRkZW5cIj5cclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInB4LTMgcHktMiBib3JkZXItYiBiZy1ncmF5LTUwIGZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XHJcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmb250LW1lZGl1bSB0ZXh0LXNtXCI+TWFwcGVkIENvbnRyb2xzPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWwtYXV0byB0ZXh0LXhzIHRleHQtZ3JheS01MDBcIj57ZmlsdGVyZWRNYXBwZWQubGVuZ3RofTwvc3Bhbj5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtMlwiPlxyXG4gICAgICAgICAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgICAgICAgIHZhbHVlPXtxTGVmdH1cclxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRRTGVmdChlLnRhcmdldC52YWx1ZSl9XHJcbiAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiU2VhcmNoIG1hcHBlZOKAplwiXHJcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBib3JkZXIgcm91bmRlZCBweC0yIHB5LTEuNSB0ZXh0LXNtXCJcclxuICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYXgtaC1bNDIwcHhdIG92ZXJmbG93LWF1dG8gZGl2aWRlLXlcIj5cclxuICAgICAgICAgICAgICAgIHtmaWx0ZXJlZE1hcHBlZC5sZW5ndGggPT09IDAgPyAoXHJcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicHktMTAgdGV4dC1jZW50ZXIgdGV4dC1ncmF5LTUwMFwiPk5vIG1hcHBlZCBjb250cm9sczwvZGl2PlxyXG4gICAgICAgICAgICAgICAgKSA6IChcclxuICAgICAgICAgICAgICAgICAgZmlsdGVyZWRNYXBwZWQubWFwKChtKSA9PiAoXHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBrZXk9e20uaWR9IGNsYXNzTmFtZT1cInB4LTMgcHktMiBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtM1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTFcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtXCI+e20uY29udHJvbD8udGl0bGV9PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1bMTFweF0gdGV4dC1ncmF5LTUwMCBmb250LW1vbm9cIj57bS5jb250cm9sPy5jb2RlfSDigKIge20uY29udHJvbD8udHlwZX08L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BweC0yIHB5LTEgdGV4dC14cyByb3VuZGVkIGlubGluZS1mbGV4IGl0ZW1zLWNlbnRlciBnYXAtMSAke20uaXNDcml0aWNhbCA/ICdiZy1yZWQtMTAwIHRleHQtcmVkLTcwMCcgOiAnYmctZ3JheS0xMDAgdGV4dC1ncmF5LTcwMCd9YH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gdG9nZ2xlQ3JpdGljYWwobSl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPVwiVG9nZ2xlIGNyaXRpY2FsXCJcclxuICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPEZsYWcgc2l6ZT17MTJ9IC8+IENyaXRpY2FsXHJcbiAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwibnVtYmVyXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy0xNiBib3JkZXIgcm91bmRlZCBweC0xIHB5LTEgdGV4dC14c1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXttLnByaW9yaXR5ID8/IDB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gdXBkYXRlUHJpb3JpdHkobSwgZS50YXJnZXQudmFsdWUpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT1cIlByaW9yaXR5IChsb3dlciA9IGVhcmxpZXIpXCJcclxuICAgICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTIgcHktMSB0ZXh0LXhzIGJvcmRlciByb3VuZGVkIGlubGluZS1mbGV4IGl0ZW1zLWNlbnRlciBnYXAtMSBob3ZlcjpiZy1ncmF5LTUwXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gcmVtb3ZlQnlDb21wb3NpdGUobS5jb250cm9sSWQpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT1cIlJlbW92ZSBtYXBwaW5nXCJcclxuICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPE1pbnVzIHNpemU9ezEyfSAvPiBSZW1vdmVcclxuICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICApKVxyXG4gICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICB7LyogUmlnaHQ6IEF2YWlsYWJsZSAqL31cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJib3JkZXIgcm91bmRlZC1sZyBvdmVyZmxvdy1oaWRkZW5cIj5cclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInB4LTMgcHktMiBib3JkZXItYiBiZy1ncmF5LTUwIGZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XHJcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmb250LW1lZGl1bSB0ZXh0LXNtXCI+QXZhaWxhYmxlIENvbnRyb2xzPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWwtYXV0byB0ZXh0LXhzIHRleHQtZ3JheS01MDBcIj57ZmlsdGVyZWRBdmFpbGFibGUubGVuZ3RofTwvc3Bhbj5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtMlwiPlxyXG4gICAgICAgICAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgICAgICAgIHZhbHVlPXtxUmlnaHR9XHJcbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0UVJpZ2h0KGUudGFyZ2V0LnZhbHVlKX1cclxuICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJTZWFyY2ggYXZhaWxhYmxl4oCmXCJcclxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIGJvcmRlciByb3VuZGVkIHB4LTIgcHktMS41IHRleHQtc21cIlxyXG4gICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1heC1oLVs0MjBweF0gb3ZlcmZsb3ctYXV0byBkaXZpZGUteVwiPlxyXG4gICAgICAgICAgICAgICAge2ZpbHRlcmVkQXZhaWxhYmxlLmxlbmd0aCA9PT0gMCA/IChcclxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJweS0xMCB0ZXh0LWNlbnRlciB0ZXh0LWdyYXktNTAwXCI+Tm8gYXZhaWxhYmxlIGNvbnRyb2xzPC9kaXY+XHJcbiAgICAgICAgICAgICAgICApIDogKFxyXG4gICAgICAgICAgICAgICAgICBmaWx0ZXJlZEF2YWlsYWJsZS5tYXAoKGMpID0+IChcclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGtleT17Yy5pZCB8fCBjLmNvZGV9IGNsYXNzTmFtZT1cInB4LTMgcHktMiBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtM1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTFcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtXCI+e2MudGl0bGV9PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1bMTFweF0gdGV4dC1ncmF5LTUwMCBmb250LW1vbm9cIj57Yy5jb2RlfSDigKIge2MudHlwZX08L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJweC0yIHB5LTEgdGV4dC14cyBiZy1ibHVlLTYwMCB0ZXh0LXdoaXRlIHJvdW5kZWQgaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIGdhcC0xIGhvdmVyOmJnLWJsdWUtNzAwXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gYWRkKGMuaWQpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT1cIkFkZCBtYXBwaW5nXCJcclxuICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPFBsdXMgc2l6ZT17MTJ9IC8+IEFkZFxyXG4gICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICkpXHJcbiAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICl9XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgPC9kaXY+XHJcbiAgKTtcclxufSJdLCJmaWxlIjoiQzovVXNlcnMvQmlsbC5TL3NhZmV0eS1pbnRlbGxpZ2VuY2UtZW5naW5lL3NyYy9jb21wb25lbnRzL2hhemFyZHMvSGF6YXJkTGlicmFyeS5qc3gifQ==