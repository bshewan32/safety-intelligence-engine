import { createHotContext as __vite__createHotContext } from "/@vite/client";import.meta.hot = __vite__createHotContext("/src/components/controls/ControlLibrary.jsx");import __vite__cjsImport0_react_jsxDevRuntime from "/node_modules/.vite/deps/react_jsx-dev-runtime.js?v=2c4c02a3"; const jsxDEV = __vite__cjsImport0_react_jsxDevRuntime["jsxDEV"];
import * as RefreshRuntime from "/@react-refresh";
const inWebWorker = typeof WorkerGlobalScope !== "undefined" && self instanceof WorkerGlobalScope;
let prevRefreshReg;
let prevRefreshSig;
if (import.meta.hot && !inWebWorker) {
  if (!window.$RefreshReg$) {
    throw new Error(
      "@vitejs/plugin-react can't detect preamble. Something is wrong."
    );
  }
  prevRefreshReg = window.$RefreshReg$;
  prevRefreshSig = window.$RefreshSig$;
  window.$RefreshReg$ = RefreshRuntime.getRefreshReg("C:/Users/Bill.S/safety-intelligence-engine/src/components/controls/ControlLibrary.jsx");
  window.$RefreshSig$ = RefreshRuntime.createSignatureFunctionForTransform;
}
var _s = $RefreshSig$(), _s2 = $RefreshSig$();
import __vite__cjsImport3_react from "/node_modules/.vite/deps/react.js?v=2c4c02a3"; const React = __vite__cjsImport3_react.__esModule ? __vite__cjsImport3_react.default : __vite__cjsImport3_react; const useEffect = __vite__cjsImport3_react["useEffect"]; const useMemo = __vite__cjsImport3_react["useMemo"]; const useState = __vite__cjsImport3_react["useState"];
import { Plus, Filter, X, Import } from "/node_modules/.vite/deps/lucide-react.js?v=2c4c02a3";
const TYPE_COLORS = {
  Training: "bg-blue-100 text-blue-800",
  Document: "bg-purple-100 text-purple-800",
  PPE: "bg-amber-100 text-amber-800",
  Inspection: "bg-teal-100 text-teal-800",
  Licence: "bg-rose-100 text-rose-800",
  Induction: "bg-sky-100 text-sky-800",
  Verification: "bg-green-100 text-green-800"
};
const ALL_TYPES = ["Training", "Document", "PPE", "Inspection", "Licence", "Induction", "Verification"];
function formatValidity(days) {
  if (days === null || days === void 0) return "N/A";
  const d = Number(days);
  if (!Number.isFinite(d) || d <= 0) return "Per task";
  if (d % 365 === 0) {
    const years = d / 365;
    return years === 1 ? "12 months" : `${years} years`;
  }
  if (d % 30 === 0) {
    const months = d / 30;
    return months === 1 ? "1 month" : `${months} months`;
  }
  return `${d} days`;
}
export function ControlLibrary() {
  _s();
  const [controls, setControls] = useState([]);
  const [q, setQ] = useState("");
  const [typeFilter, setTypeFilter] = useState("All");
  const [showAdd, setShowAdd] = useState(false);
  const [showImport, setShowImport] = useState(false);
  useEffect(() => {
    window.api?.listControls?.().then((rows) => setControls(rows || [])).catch(() => setControls([]));
  }, []);
  const filtered = useMemo(() => {
    const s = q.trim().toLowerCase();
    return (controls || []).filter((c) => {
      const typeOk = typeFilter === "All" || c.type === typeFilter;
      if (!s) return typeOk;
      return typeOk && ((c.title || "").toLowerCase().includes(s) || (c.code || "").toLowerCase().includes(s) || (c.description || "").toLowerCase().includes(s) || (c.reference || "").toLowerCase().includes(s));
    });
  }, [controls, q, typeFilter]);
  async function onAddControl(data) {
    try {
      const created = await window.api?.createControl?.(data);
      if (created) setControls((prev) => [created, ...prev]);
      setShowAdd(false);
    } catch (e) {
      console.error("createControl failed", e);
      alert("Failed to create control");
    }
  }
  async function importPack(kind) {
    try {
      const res = await window.api?.importControlPack?.({ kind });
      if (Array.isArray(res) && res.length) {
        setControls((prev) => [...res, ...prev]);
      }
    } catch (e) {
      console.error("importControlPack failed", e);
      alert("Import failed");
    } finally {
      setShowImport(false);
    }
  }
  return /* @__PURE__ */ jsxDEV("div", { className: "space-y-6", children: [
    /* @__PURE__ */ jsxDEV("div", { className: "flex items-center justify-between", children: [
      /* @__PURE__ */ jsxDEV("div", { className: "flex items-center gap-3", children: [
        /* @__PURE__ */ jsxDEV("h3", { className: "text-lg font-semibold", children: "Control Library" }, void 0, false, {
          fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/controls/ControlLibrary.jsx",
          lineNumber: 112,
          columnNumber: 11
        }, this),
        /* @__PURE__ */ jsxDEV("div", { className: "relative", children: [
          /* @__PURE__ */ jsxDEV(
            "input",
            {
              value: q,
              onChange: (e) => setQ(e.target.value),
              placeholder: "Search code, title, ref…",
              className: "h-9 w-72 rounded border px-3 text-sm focus:outline-none focus:ring"
            },
            void 0,
            false,
            {
              fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/controls/ControlLibrary.jsx",
              lineNumber: 114,
              columnNumber: 13
            },
            this
          ),
          q && /* @__PURE__ */ jsxDEV(
            "button",
            {
              className: "absolute right-2 top-1.5 text-gray-400 hover:text-gray-600",
              onClick: () => setQ(""),
              children: /* @__PURE__ */ jsxDEV(X, { size: 16 }, void 0, false, {
                fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/controls/ControlLibrary.jsx",
                lineNumber: 125,
                columnNumber: 17
              }, this)
            },
            void 0,
            false,
            {
              fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/controls/ControlLibrary.jsx",
              lineNumber: 121,
              columnNumber: 13
            },
            this
          )
        ] }, void 0, true, {
          fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/controls/ControlLibrary.jsx",
          lineNumber: 113,
          columnNumber: 11
        }, this),
        /* @__PURE__ */ jsxDEV("div", { className: "flex items-center gap-2", children: [
          /* @__PURE__ */ jsxDEV(Filter, { size: 16, className: "text-gray-400" }, void 0, false, {
            fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/controls/ControlLibrary.jsx",
            lineNumber: 130,
            columnNumber: 13
          }, this),
          /* @__PURE__ */ jsxDEV(
            "select",
            {
              value: typeFilter,
              onChange: (e) => setTypeFilter(e.target.value),
              className: "h-9 rounded border px-2 text-sm",
              children: [
                /* @__PURE__ */ jsxDEV("option", { children: "All" }, void 0, false, {
                  fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/controls/ControlLibrary.jsx",
                  lineNumber: 136,
                  columnNumber: 15
                }, this),
                ALL_TYPES.map(
                  (t) => /* @__PURE__ */ jsxDEV("option", { children: t }, t, false, {
                    fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/controls/ControlLibrary.jsx",
                    lineNumber: 138,
                    columnNumber: 15
                  }, this)
                )
              ]
            },
            void 0,
            true,
            {
              fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/controls/ControlLibrary.jsx",
              lineNumber: 131,
              columnNumber: 13
            },
            this
          )
        ] }, void 0, true, {
          fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/controls/ControlLibrary.jsx",
          lineNumber: 129,
          columnNumber: 11
        }, this)
      ] }, void 0, true, {
        fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/controls/ControlLibrary.jsx",
        lineNumber: 111,
        columnNumber: 9
      }, this),
      /* @__PURE__ */ jsxDEV("div", { className: "flex items-center gap-2", children: [
        /* @__PURE__ */ jsxDEV(
          "button",
          {
            onClick: () => setShowImport((v) => !v),
            className: "flex items-center gap-2 px-3 py-2 border rounded-lg hover:bg-gray-50",
            children: [
              /* @__PURE__ */ jsxDEV(Import, { size: 18 }, void 0, false, {
                fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/controls/ControlLibrary.jsx",
                lineNumber: 148,
                columnNumber: 13
              }, this),
              " Import Pack"
            ]
          },
          void 0,
          true,
          {
            fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/controls/ControlLibrary.jsx",
            lineNumber: 144,
            columnNumber: 11
          },
          this
        ),
        /* @__PURE__ */ jsxDEV(
          "button",
          {
            onClick: () => setShowAdd(true),
            className: "flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",
            children: [
              /* @__PURE__ */ jsxDEV(Plus, { size: 20 }, void 0, false, {
                fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/controls/ControlLibrary.jsx",
                lineNumber: 154,
                columnNumber: 13
              }, this),
              " Add Control"
            ]
          },
          void 0,
          true,
          {
            fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/controls/ControlLibrary.jsx",
            lineNumber: 150,
            columnNumber: 11
          },
          this
        )
      ] }, void 0, true, {
        fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/controls/ControlLibrary.jsx",
        lineNumber: 143,
        columnNumber: 9
      }, this)
    ] }, void 0, true, {
      fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/controls/ControlLibrary.jsx",
      lineNumber: 110,
      columnNumber: 7
    }, this),
    showImport && /* @__PURE__ */ jsxDEV("div", { className: "bg-white border rounded-lg p-4 flex flex-wrap gap-3", children: [
      /* @__PURE__ */ jsxDEV(PackButton, { label: "Industry", onClick: () => importPack("industry") }, void 0, false, {
        fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/controls/ControlLibrary.jsx",
        lineNumber: 161,
        columnNumber: 11
      }, this),
      /* @__PURE__ */ jsxDEV(PackButton, { label: "Work Method", onClick: () => importPack("workMethod") }, void 0, false, {
        fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/controls/ControlLibrary.jsx",
        lineNumber: 162,
        columnNumber: 11
      }, this),
      /* @__PURE__ */ jsxDEV(PackButton, { label: "Jurisdiction", onClick: () => importPack("jurisdiction") }, void 0, false, {
        fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/controls/ControlLibrary.jsx",
        lineNumber: 163,
        columnNumber: 11
      }, this),
      /* @__PURE__ */ jsxDEV(PackButton, { label: "ISO 45001 Add-ons", onClick: () => importPack("iso45001") }, void 0, false, {
        fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/controls/ControlLibrary.jsx",
        lineNumber: 164,
        columnNumber: 11
      }, this)
    ] }, void 0, true, {
      fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/controls/ControlLibrary.jsx",
      lineNumber: 160,
      columnNumber: 7
    }, this),
    /* @__PURE__ */ jsxDEV("div", { className: "bg-white rounded-lg shadow overflow-hidden", children: /* @__PURE__ */ jsxDEV("table", { className: "min-w-full divide-y divide-gray-200", children: [
      /* @__PURE__ */ jsxDEV("thead", { className: "bg-gray-50", children: /* @__PURE__ */ jsxDEV("tr", { children: [
        /* @__PURE__ */ jsxDEV("th", { className: "px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase", children: "Control" }, void 0, false, {
          fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/controls/ControlLibrary.jsx",
          lineNumber: 173,
          columnNumber: 15
        }, this),
        /* @__PURE__ */ jsxDEV("th", { className: "px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase", children: "Type" }, void 0, false, {
          fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/controls/ControlLibrary.jsx",
          lineNumber: 174,
          columnNumber: 15
        }, this),
        /* @__PURE__ */ jsxDEV("th", { className: "px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase", children: "Reference" }, void 0, false, {
          fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/controls/ControlLibrary.jsx",
          lineNumber: 175,
          columnNumber: 15
        }, this),
        /* @__PURE__ */ jsxDEV("th", { className: "px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase", children: "Validity" }, void 0, false, {
          fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/controls/ControlLibrary.jsx",
          lineNumber: 176,
          columnNumber: 15
        }, this)
      ] }, void 0, true, {
        fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/controls/ControlLibrary.jsx",
        lineNumber: 172,
        columnNumber: 13
      }, this) }, void 0, false, {
        fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/controls/ControlLibrary.jsx",
        lineNumber: 171,
        columnNumber: 11
      }, this),
      /* @__PURE__ */ jsxDEV("tbody", { className: "bg-white divide-y divide-gray-200", children: filtered.length === 0 ? /* @__PURE__ */ jsxDEV("tr", { children: /* @__PURE__ */ jsxDEV("td", { className: "px-6 py-10 text-center text-gray-500", colSpan: 4, children: "No controls found." }, void 0, false, {
        fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/controls/ControlLibrary.jsx",
        lineNumber: 182,
        columnNumber: 17
      }, this) }, void 0, false, {
        fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/controls/ControlLibrary.jsx",
        lineNumber: 181,
        columnNumber: 13
      }, this) : filtered.map(
        (c) => /* @__PURE__ */ jsxDEV("tr", { className: "hover:bg-gray-50", children: [
          /* @__PURE__ */ jsxDEV("td", { className: "px-6 py-4", children: [
            /* @__PURE__ */ jsxDEV("div", { className: "font-medium text-gray-900", children: c.title }, void 0, false, {
              fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/controls/ControlLibrary.jsx",
              lineNumber: 190,
              columnNumber: 21
            }, this),
            /* @__PURE__ */ jsxDEV("div", { className: "text-xs text-gray-500 font-mono", children: c.code }, void 0, false, {
              fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/controls/ControlLibrary.jsx",
              lineNumber: 191,
              columnNumber: 21
            }, this)
          ] }, void 0, true, {
            fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/controls/ControlLibrary.jsx",
            lineNumber: 189,
            columnNumber: 19
          }, this),
          /* @__PURE__ */ jsxDEV("td", { className: "px-6 py-4", children: /* @__PURE__ */ jsxDEV("span", { className: `px-2 py-1 text-xs rounded ${TYPE_COLORS[c.type] || "bg-gray-100 text-gray-800"}`, children: c.type }, void 0, false, {
            fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/controls/ControlLibrary.jsx",
            lineNumber: 194,
            columnNumber: 21
          }, this) }, void 0, false, {
            fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/controls/ControlLibrary.jsx",
            lineNumber: 193,
            columnNumber: 19
          }, this),
          /* @__PURE__ */ jsxDEV("td", { className: "px-6 py-4 text-sm text-gray-500", children: c.reference || "—" }, void 0, false, {
            fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/controls/ControlLibrary.jsx",
            lineNumber: 198,
            columnNumber: 19
          }, this),
          /* @__PURE__ */ jsxDEV("td", { className: "px-6 py-4 text-sm text-gray-500", children: formatValidity(c.validityDays) }, void 0, false, {
            fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/controls/ControlLibrary.jsx",
            lineNumber: 199,
            columnNumber: 19
          }, this)
        ] }, c.id || c.code, true, {
          fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/controls/ControlLibrary.jsx",
          lineNumber: 188,
          columnNumber: 13
        }, this)
      ) }, void 0, false, {
        fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/controls/ControlLibrary.jsx",
        lineNumber: 179,
        columnNumber: 11
      }, this)
    ] }, void 0, true, {
      fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/controls/ControlLibrary.jsx",
      lineNumber: 170,
      columnNumber: 9
    }, this) }, void 0, false, {
      fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/controls/ControlLibrary.jsx",
      lineNumber: 169,
      columnNumber: 7
    }, this),
    showAdd && /* @__PURE__ */ jsxDEV(
      AddControlModal,
      {
        onClose: () => setShowAdd(false),
        onSave: onAddControl
      },
      void 0,
      false,
      {
        fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/controls/ControlLibrary.jsx",
        lineNumber: 208,
        columnNumber: 7
      },
      this
    )
  ] }, void 0, true, {
    fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/controls/ControlLibrary.jsx",
    lineNumber: 108,
    columnNumber: 5
  }, this);
}
_s(ControlLibrary, "IaldmZDXf7Hcm37ywzEyxAbE5g8=");
_c = ControlLibrary;
function PackButton({ label, onClick }) {
  return /* @__PURE__ */ jsxDEV("button", { onClick, className: "px-3 py-2 text-sm border rounded hover:bg-gray-50", children: label }, void 0, false, {
    fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/controls/ControlLibrary.jsx",
    lineNumber: 219,
    columnNumber: 5
  }, this);
}
_c2 = PackButton;
function AddControlModal({ onClose, onSave }) {
  _s2();
  const [form, setForm] = useState({
    code: "",
    title: "",
    type: "Training",
    description: "",
    reference: "",
    validityDays: 365
  });
  const [saving, setSaving] = useState(false);
  const setField = (k, v) => setForm((prev) => ({ ...prev, [k]: v }));
  async function save() {
    if (!form.code.trim() || !form.title.trim()) {
      alert("Code and Title are required");
      return;
    }
    setSaving(true);
    try {
      await onSave({
        code: form.code.trim(),
        title: form.title.trim(),
        type: form.type,
        description: form.description || void 0,
        reference: form.reference || void 0,
        validityDays: form.validityDays === "" ? null : Number(form.validityDays)
      });
    } finally {
      setSaving(false);
    }
  }
  return /* @__PURE__ */ jsxDEV("div", { className: "fixed inset-0 bg-black/30 flex items-center justify-center z-50", children: /* @__PURE__ */ jsxDEV("div", { className: "bg-white rounded-lg shadow w-[560px] p-5 space-y-3", children: [
    /* @__PURE__ */ jsxDEV("h3", { className: "text-lg font-semibold", children: "Add Control" }, void 0, false, {
      fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/controls/ControlLibrary.jsx",
      lineNumber: 261,
      columnNumber: 9
    }, this),
    /* @__PURE__ */ jsxDEV("div", { className: "grid grid-cols-2 gap-3", children: [
      /* @__PURE__ */ jsxDEV("div", { children: [
        /* @__PURE__ */ jsxDEV("label", { className: "block text-xs text-gray-600", children: "Code" }, void 0, false, {
          fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/controls/ControlLibrary.jsx",
          lineNumber: 264,
          columnNumber: 13
        }, this),
        /* @__PURE__ */ jsxDEV("input", { className: "w-full border rounded px-2 py-1.5", value: form.code, onChange: (e) => setField("code", e.target.value) }, void 0, false, {
          fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/controls/ControlLibrary.jsx",
          lineNumber: 265,
          columnNumber: 13
        }, this)
      ] }, void 0, true, {
        fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/controls/ControlLibrary.jsx",
        lineNumber: 263,
        columnNumber: 11
      }, this),
      /* @__PURE__ */ jsxDEV("div", { children: [
        /* @__PURE__ */ jsxDEV("label", { className: "block text-xs text-gray-600", children: "Title" }, void 0, false, {
          fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/controls/ControlLibrary.jsx",
          lineNumber: 268,
          columnNumber: 13
        }, this),
        /* @__PURE__ */ jsxDEV("input", { className: "w-full border rounded px-2 py-1.5", value: form.title, onChange: (e) => setField("title", e.target.value) }, void 0, false, {
          fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/controls/ControlLibrary.jsx",
          lineNumber: 269,
          columnNumber: 13
        }, this)
      ] }, void 0, true, {
        fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/controls/ControlLibrary.jsx",
        lineNumber: 267,
        columnNumber: 11
      }, this),
      /* @__PURE__ */ jsxDEV("div", { children: [
        /* @__PURE__ */ jsxDEV("label", { className: "block text-xs text-gray-600", children: "Type" }, void 0, false, {
          fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/controls/ControlLibrary.jsx",
          lineNumber: 272,
          columnNumber: 13
        }, this),
        /* @__PURE__ */ jsxDEV("select", { className: "w-full border rounded px-2 py-1.5", value: form.type, onChange: (e) => setField("type", e.target.value), children: ALL_TYPES.map((t) => /* @__PURE__ */ jsxDEV("option", { children: t }, t, false, {
          fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/controls/ControlLibrary.jsx",
          lineNumber: 274,
          columnNumber: 37
        }, this)) }, void 0, false, {
          fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/controls/ControlLibrary.jsx",
          lineNumber: 273,
          columnNumber: 13
        }, this)
      ] }, void 0, true, {
        fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/controls/ControlLibrary.jsx",
        lineNumber: 271,
        columnNumber: 11
      }, this),
      /* @__PURE__ */ jsxDEV("div", { children: [
        /* @__PURE__ */ jsxDEV("label", { className: "block text-xs text-gray-600", children: "Validity" }, void 0, false, {
          fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/controls/ControlLibrary.jsx",
          lineNumber: 278,
          columnNumber: 13
        }, this),
        /* @__PURE__ */ jsxDEV(
          "input",
          {
            type: "number",
            min: 0,
            placeholder: "Days (0 or blank = Per task)",
            className: "w-full border rounded px-2 py-1.5",
            value: form.validityDays,
            onChange: (e) => setField("validityDays", e.target.value === "" ? "" : Number(e.target.value))
          },
          void 0,
          false,
          {
            fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/controls/ControlLibrary.jsx",
            lineNumber: 279,
            columnNumber: 13
          },
          this
        ),
        /* @__PURE__ */ jsxDEV("p", { className: "text-[11px] text-gray-500 mt-1", children: "Use days (e.g., 365 = 12 months). Leave blank for N/A, 0 for per-task." }, void 0, false, {
          fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/controls/ControlLibrary.jsx",
          lineNumber: 287,
          columnNumber: 13
        }, this)
      ] }, void 0, true, {
        fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/controls/ControlLibrary.jsx",
        lineNumber: 277,
        columnNumber: 11
      }, this)
    ] }, void 0, true, {
      fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/controls/ControlLibrary.jsx",
      lineNumber: 262,
      columnNumber: 9
    }, this),
    /* @__PURE__ */ jsxDEV("div", { children: [
      /* @__PURE__ */ jsxDEV("label", { className: "block text-xs text-gray-600", children: "Reference" }, void 0, false, {
        fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/controls/ControlLibrary.jsx",
        lineNumber: 291,
        columnNumber: 11
      }, this),
      /* @__PURE__ */ jsxDEV("input", { className: "w-full border rounded px-2 py-1.5", value: form.reference, onChange: (e) => setField("reference", e.target.value) }, void 0, false, {
        fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/controls/ControlLibrary.jsx",
        lineNumber: 292,
        columnNumber: 11
      }, this)
    ] }, void 0, true, {
      fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/controls/ControlLibrary.jsx",
      lineNumber: 290,
      columnNumber: 9
    }, this),
    /* @__PURE__ */ jsxDEV("div", { children: [
      /* @__PURE__ */ jsxDEV("label", { className: "block text-xs text-gray-600", children: "Description" }, void 0, false, {
        fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/controls/ControlLibrary.jsx",
        lineNumber: 295,
        columnNumber: 11
      }, this),
      /* @__PURE__ */ jsxDEV("textarea", { rows: 3, className: "w-full border rounded px-2 py-1.5", value: form.description, onChange: (e) => setField("description", e.target.value) }, void 0, false, {
        fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/controls/ControlLibrary.jsx",
        lineNumber: 296,
        columnNumber: 11
      }, this)
    ] }, void 0, true, {
      fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/controls/ControlLibrary.jsx",
      lineNumber: 294,
      columnNumber: 9
    }, this),
    /* @__PURE__ */ jsxDEV("div", { className: "flex justify-end gap-2 pt-2", children: [
      /* @__PURE__ */ jsxDEV("button", { className: "px-3 py-1.5 border rounded", onClick: onClose, children: "Cancel" }, void 0, false, {
        fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/controls/ControlLibrary.jsx",
        lineNumber: 299,
        columnNumber: 11
      }, this),
      /* @__PURE__ */ jsxDEV("button", { disabled: saving, className: "px-3 py-1.5 bg-black text-white rounded", onClick: save, children: saving ? "Saving…" : "Save" }, void 0, false, {
        fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/controls/ControlLibrary.jsx",
        lineNumber: 300,
        columnNumber: 11
      }, this)
    ] }, void 0, true, {
      fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/controls/ControlLibrary.jsx",
      lineNumber: 298,
      columnNumber: 9
    }, this)
  ] }, void 0, true, {
    fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/controls/ControlLibrary.jsx",
    lineNumber: 260,
    columnNumber: 7
  }, this) }, void 0, false, {
    fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/controls/ControlLibrary.jsx",
    lineNumber: 259,
    columnNumber: 5
  }, this);
}
_s2(AddControlModal, "aQotomnQvAf0Swh02t2hr0i97Ac=");
_c3 = AddControlModal;
var _c, _c2, _c3;
$RefreshReg$(_c, "ControlLibrary");
$RefreshReg$(_c2, "PackButton");
$RefreshReg$(_c3, "AddControlModal");
if (import.meta.hot && !inWebWorker) {
  window.$RefreshReg$ = prevRefreshReg;
  window.$RefreshSig$ = prevRefreshSig;
}
if (import.meta.hot && !inWebWorker) {
  RefreshRuntime.__hmr_import(import.meta.url).then((currentExports) => {
    RefreshRuntime.registerExportsForReactRefresh("C:/Users/Bill.S/safety-intelligence-engine/src/components/controls/ControlLibrary.jsx", currentExports);
    import.meta.hot.accept((nextExports) => {
      if (!nextExports) return;
      const invalidateMessage = RefreshRuntime.validateRefreshBoundaryAndEnqueueUpdate("C:/Users/Bill.S/safety-intelligence-engine/src/components/controls/ControlLibrary.jsx", currentExports, nextExports);
      if (invalidateMessage) import.meta.hot.invalidate(invalidateMessage);
    });
  });
}

//# sourceMappingURL=data:application/json;base64,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QUFlLElBQUFMLElBQUFJLEtBQUFZO0FBQUFDLGFBQUFqQixJQUFBO0FBQUFpQixhQUFBYixLQUFBO0FBQUFhLGFBQUFELEtBQUEiLCJuYW1lcyI6WyJSZWFjdCIsInVzZUVmZmVjdCIsInVzZU1lbW8iLCJ1c2VTdGF0ZSIsIlBsdXMiLCJGaWx0ZXIiLCJYIiwiSW1wb3J0IiwiVFlQRV9DT0xPUlMiLCJUcmFpbmluZyIsIkRvY3VtZW50IiwiUFBFIiwiSW5zcGVjdGlvbiIsIkxpY2VuY2UiLCJJbmR1Y3Rpb24iLCJWZXJpZmljYXRpb24iLCJBTExfVFlQRVMiLCJmb3JtYXRWYWxpZGl0eSIsImRheXMiLCJ1bmRlZmluZWQiLCJkIiwiTnVtYmVyIiwiaXNGaW5pdGUiLCJ5ZWFycyIsIm1vbnRocyIsIkNvbnRyb2xMaWJyYXJ5IiwiX3MiLCJjb250cm9scyIsInNldENvbnRyb2xzIiwicSIsInNldFEiLCJ0eXBlRmlsdGVyIiwic2V0VHlwZUZpbHRlciIsInNob3dBZGQiLCJzZXRTaG93QWRkIiwic2hvd0ltcG9ydCIsInNldFNob3dJbXBvcnQiLCJ3aW5kb3ciLCJhcGkiLCJsaXN0Q29udHJvbHMiLCJ0aGVuIiwicm93cyIsImNhdGNoIiwiZmlsdGVyZWQiLCJzIiwidHJpbSIsInRvTG93ZXJDYXNlIiwiZmlsdGVyIiwiYyIsInR5cGVPayIsInR5cGUiLCJ0aXRsZSIsImluY2x1ZGVzIiwiY29kZSIsImRlc2NyaXB0aW9uIiwicmVmZXJlbmNlIiwib25BZGRDb250cm9sIiwiZGF0YSIsImNyZWF0ZWQiLCJjcmVhdGVDb250cm9sIiwicHJldiIsImUiLCJjb25zb2xlIiwiZXJyb3IiLCJhbGVydCIsImltcG9ydFBhY2siLCJraW5kIiwicmVzIiwiaW1wb3J0Q29udHJvbFBhY2siLCJBcnJheSIsImlzQXJyYXkiLCJsZW5ndGgiLCJ0YXJnZXQiLCJ2YWx1ZSIsIm1hcCIsInQiLCJ2IiwidmFsaWRpdHlEYXlzIiwiaWQiLCJfYyIsIlBhY2tCdXR0b24iLCJsYWJlbCIsIm9uQ2xpY2siLCJfYzIiLCJBZGRDb250cm9sTW9kYWwiLCJvbkNsb3NlIiwib25TYXZlIiwiX3MyIiwiZm9ybSIsInNldEZvcm0iLCJzYXZpbmciLCJzZXRTYXZpbmciLCJzZXRGaWVsZCIsImsiLCJzYXZlIiwiX2MzIiwiJFJlZnJlc2hSZWckIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VzIjpbIkNvbnRyb2xMaWJyYXJ5LmpzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJcclxuaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCwgdXNlTWVtbywgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCB7IFBsdXMsIEZpbHRlciwgWCwgSW1wb3J0IH0gZnJvbSAnbHVjaWRlLXJlYWN0JztcclxuXHJcbmNvbnN0IFRZUEVfQ09MT1JTID0ge1xyXG4gIFRyYWluaW5nOiAnYmctYmx1ZS0xMDAgdGV4dC1ibHVlLTgwMCcsXHJcbiAgRG9jdW1lbnQ6ICdiZy1wdXJwbGUtMTAwIHRleHQtcHVycGxlLTgwMCcsXHJcbiAgUFBFOiAnYmctYW1iZXItMTAwIHRleHQtYW1iZXItODAwJyxcclxuICBJbnNwZWN0aW9uOiAnYmctdGVhbC0xMDAgdGV4dC10ZWFsLTgwMCcsXHJcbiAgTGljZW5jZTogJ2JnLXJvc2UtMTAwIHRleHQtcm9zZS04MDAnLFxyXG4gIEluZHVjdGlvbjogJ2JnLXNreS0xMDAgdGV4dC1za3ktODAwJyxcclxuICBWZXJpZmljYXRpb246ICdiZy1ncmVlbi0xMDAgdGV4dC1ncmVlbi04MDAnLFxyXG59O1xyXG5cclxuY29uc3QgQUxMX1RZUEVTID0gWydUcmFpbmluZycsJ0RvY3VtZW50JywnUFBFJywnSW5zcGVjdGlvbicsJ0xpY2VuY2UnLCdJbmR1Y3Rpb24nLCdWZXJpZmljYXRpb24nXTtcclxuXHJcbmZ1bmN0aW9uIGZvcm1hdFZhbGlkaXR5KGRheXMpIHtcclxuICBpZiAoZGF5cyA9PT0gbnVsbCB8fCBkYXlzID09PSB1bmRlZmluZWQpIHJldHVybiAnTi9BJztcclxuICBjb25zdCBkID0gTnVtYmVyKGRheXMpO1xyXG4gIGlmICghTnVtYmVyLmlzRmluaXRlKGQpIHx8IGQgPD0gMCkgcmV0dXJuICdQZXIgdGFzayc7XHJcbiAgaWYgKGQgJSAzNjUgPT09IDApIHtcclxuICAgIGNvbnN0IHllYXJzID0gZCAvIDM2NTtcclxuICAgIHJldHVybiB5ZWFycyA9PT0gMSA/ICcxMiBtb250aHMnIDogYCR7eWVhcnN9IHllYXJzYDtcclxuICB9XHJcbiAgaWYgKGQgJSAzMCA9PT0gMCkge1xyXG4gICAgY29uc3QgbW9udGhzID0gZCAvIDMwO1xyXG4gICAgcmV0dXJuIG1vbnRocyA9PT0gMSA/ICcxIG1vbnRoJyA6IGAke21vbnRoc30gbW9udGhzYDtcclxuICB9XHJcbiAgcmV0dXJuIGAke2R9IGRheXNgO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gQ29udHJvbExpYnJhcnkoKSB7XHJcbiAgY29uc3QgW2NvbnRyb2xzLCBzZXRDb250cm9sc10gPSB1c2VTdGF0ZShbXSk7XHJcbiAgY29uc3QgW3EsIHNldFFdID0gdXNlU3RhdGUoJycpO1xyXG4gIGNvbnN0IFt0eXBlRmlsdGVyLCBzZXRUeXBlRmlsdGVyXSA9IHVzZVN0YXRlKCdBbGwnKTtcclxuICBjb25zdCBbc2hvd0FkZCwgc2V0U2hvd0FkZF0gPSB1c2VTdGF0ZShmYWxzZSk7XHJcbiAgY29uc3QgW3Nob3dJbXBvcnQsIHNldFNob3dJbXBvcnRdID0gdXNlU3RhdGUoZmFsc2UpO1xyXG5cclxuICAvLyBMb2FkIGNvbnRyb2xzIGZyb20gSVBDXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIHdpbmRvdy5hcGk/Lmxpc3RDb250cm9scz8uKClcclxuICAgICAgLnRoZW4oKHJvd3MpID0+IHNldENvbnRyb2xzKHJvd3MgfHwgW10pKVxyXG4gICAgICAuY2F0Y2goKCkgPT4gc2V0Q29udHJvbHMoW10pKTtcclxuICB9LCBbXSk7XHJcblxyXG4gIGNvbnN0IGZpbHRlcmVkID0gdXNlTWVtbygoKSA9PiB7XHJcbiAgICBjb25zdCBzID0gcS50cmltKCkudG9Mb3dlckNhc2UoKTtcclxuICAgIHJldHVybiAoY29udHJvbHMgfHwgW10pLmZpbHRlcigoYykgPT4ge1xyXG4gICAgICBjb25zdCB0eXBlT2sgPSB0eXBlRmlsdGVyID09PSAnQWxsJyB8fCBjLnR5cGUgPT09IHR5cGVGaWx0ZXI7XHJcbiAgICAgIGlmICghcykgcmV0dXJuIHR5cGVPaztcclxuICAgICAgcmV0dXJuIChcclxuICAgICAgICB0eXBlT2sgJiYgKFxyXG4gICAgICAgICAgKGMudGl0bGUgfHwgJycpLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMocykgfHxcclxuICAgICAgICAgIChjLmNvZGUgfHwgJycpLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMocykgfHxcclxuICAgICAgICAgIChjLmRlc2NyaXB0aW9uIHx8ICcnKS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHMpIHx8XHJcbiAgICAgICAgICAoYy5yZWZlcmVuY2UgfHwgJycpLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMocylcclxuICAgICAgICApXHJcbiAgICAgICk7XHJcbiAgICB9KTtcclxuICB9LCBbY29udHJvbHMsIHEsIHR5cGVGaWx0ZXJdKTtcclxuXHJcbiAgYXN5bmMgZnVuY3Rpb24gb25BZGRDb250cm9sKGRhdGEpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IGNyZWF0ZWQgPSBhd2FpdCB3aW5kb3cuYXBpPy5jcmVhdGVDb250cm9sPy4oZGF0YSk7XHJcbiAgICAgIGlmIChjcmVhdGVkKSBzZXRDb250cm9scygocHJldikgPT4gW2NyZWF0ZWQsIC4uLnByZXZdKTtcclxuICAgICAgc2V0U2hvd0FkZChmYWxzZSk7XHJcbiAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ2NyZWF0ZUNvbnRyb2wgZmFpbGVkJywgZSk7XHJcbiAgICAgIGFsZXJ0KCdGYWlsZWQgdG8gY3JlYXRlIGNvbnRyb2wnKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGFzeW5jIGZ1bmN0aW9uIGltcG9ydFBhY2soa2luZCkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgcmVzID0gYXdhaXQgd2luZG93LmFwaT8uaW1wb3J0Q29udHJvbFBhY2s/Lih7IGtpbmQgfSk7XHJcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KHJlcykgJiYgcmVzLmxlbmd0aCkge1xyXG4gICAgICAgIC8vIFByZXBlbmQgbmV3IGl0ZW1zOyBhIHJlYWwgaW1wbCBtYXkgZGUtZHVwZSBjbGllbnQtc2lkZSBpZiBuZWVkZWRcclxuICAgICAgICBzZXRDb250cm9scygocHJldikgPT4gWy4uLnJlcywgLi4ucHJldl0pO1xyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ2ltcG9ydENvbnRyb2xQYWNrIGZhaWxlZCcsIGUpO1xyXG4gICAgICBhbGVydCgnSW1wb3J0IGZhaWxlZCcpO1xyXG4gICAgfSBmaW5hbGx5IHtcclxuICAgICAgc2V0U2hvd0ltcG9ydChmYWxzZSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTZcIj5cclxuICAgICAgey8qIEhlYWRlciAqL31cclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW5cIj5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0zXCI+XHJcbiAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwidGV4dC1sZyBmb250LXNlbWlib2xkXCI+Q29udHJvbCBMaWJyYXJ5PC9oMz5cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVsYXRpdmVcIj5cclxuICAgICAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgICAgdmFsdWU9e3F9XHJcbiAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRRKGUudGFyZ2V0LnZhbHVlKX1cclxuICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlNlYXJjaCBjb2RlLCB0aXRsZSwgcmVm4oCmXCJcclxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJoLTkgdy03MiByb3VuZGVkIGJvcmRlciBweC0zIHRleHQtc20gZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOnJpbmdcIlxyXG4gICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICB7cSAmJiAoXHJcbiAgICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYWJzb2x1dGUgcmlnaHQtMiB0b3AtMS41IHRleHQtZ3JheS00MDAgaG92ZXI6dGV4dC1ncmF5LTYwMFwiXHJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRRKCcnKX1cclxuICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICA8WCBzaXplPXsxNn0gLz5cclxuICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgKX1cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxyXG4gICAgICAgICAgICA8RmlsdGVyIHNpemU9ezE2fSBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNDAwXCIgLz5cclxuICAgICAgICAgICAgPHNlbGVjdFxyXG4gICAgICAgICAgICAgIHZhbHVlPXt0eXBlRmlsdGVyfVxyXG4gICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0VHlwZUZpbHRlcihlLnRhcmdldC52YWx1ZSl9XHJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiaC05IHJvdW5kZWQgYm9yZGVyIHB4LTIgdGV4dC1zbVwiXHJcbiAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICA8b3B0aW9uPkFsbDwvb3B0aW9uPlxyXG4gICAgICAgICAgICAgIHtBTExfVFlQRVMubWFwKCh0KSA9PiAoXHJcbiAgICAgICAgICAgICAgICA8b3B0aW9uIGtleT17dH0+e3R9PC9vcHRpb24+XHJcbiAgICAgICAgICAgICAgKSl9XHJcbiAgICAgICAgICAgIDwvc2VsZWN0PlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxyXG4gICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRTaG93SW1wb3J0KCh2KSA9PiAhdil9XHJcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHB4LTMgcHktMiBib3JkZXIgcm91bmRlZC1sZyBob3ZlcjpiZy1ncmF5LTUwXCJcclxuICAgICAgICAgID5cclxuICAgICAgICAgICAgPEltcG9ydCBzaXplPXsxOH0gLz4gSW1wb3J0IFBhY2tcclxuICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRTaG93QWRkKHRydWUpfVxyXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiBweC00IHB5LTIgYmctYmx1ZS02MDAgdGV4dC13aGl0ZSByb3VuZGVkLWxnIGhvdmVyOmJnLWJsdWUtNzAwXCJcclxuICAgICAgICAgID5cclxuICAgICAgICAgICAgPFBsdXMgc2l6ZT17MjB9IC8+IEFkZCBDb250cm9sXHJcbiAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9kaXY+XHJcblxyXG4gICAgICB7c2hvd0ltcG9ydCAmJiAoXHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy13aGl0ZSBib3JkZXIgcm91bmRlZC1sZyBwLTQgZmxleCBmbGV4LXdyYXAgZ2FwLTNcIj5cclxuICAgICAgICAgIDxQYWNrQnV0dG9uIGxhYmVsPVwiSW5kdXN0cnlcIiBvbkNsaWNrPXsoKSA9PiBpbXBvcnRQYWNrKCdpbmR1c3RyeScpfSAvPlxyXG4gICAgICAgICAgPFBhY2tCdXR0b24gbGFiZWw9XCJXb3JrIE1ldGhvZFwiIG9uQ2xpY2s9eygpID0+IGltcG9ydFBhY2soJ3dvcmtNZXRob2QnKX0gLz5cclxuICAgICAgICAgIDxQYWNrQnV0dG9uIGxhYmVsPVwiSnVyaXNkaWN0aW9uXCIgb25DbGljaz17KCkgPT4gaW1wb3J0UGFjaygnanVyaXNkaWN0aW9uJyl9IC8+XHJcbiAgICAgICAgICA8UGFja0J1dHRvbiBsYWJlbD1cIklTTyA0NTAwMSBBZGQtb25zXCIgb25DbGljaz17KCkgPT4gaW1wb3J0UGFjaygnaXNvNDUwMDEnKX0gLz5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgKX1cclxuXHJcbiAgICAgIHsvKiBUYWJsZSAqL31cclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy13aGl0ZSByb3VuZGVkLWxnIHNoYWRvdyBvdmVyZmxvdy1oaWRkZW5cIj5cclxuICAgICAgICA8dGFibGUgY2xhc3NOYW1lPVwibWluLXctZnVsbCBkaXZpZGUteSBkaXZpZGUtZ3JheS0yMDBcIj5cclxuICAgICAgICAgIDx0aGVhZCBjbGFzc05hbWU9XCJiZy1ncmF5LTUwXCI+XHJcbiAgICAgICAgICAgIDx0cj5cclxuICAgICAgICAgICAgICA8dGggY2xhc3NOYW1lPVwicHgtNiBweS0zIHRleHQtbGVmdCB0ZXh0LXhzIGZvbnQtbWVkaXVtIHRleHQtZ3JheS01MDAgdXBwZXJjYXNlXCI+Q29udHJvbDwvdGg+XHJcbiAgICAgICAgICAgICAgPHRoIGNsYXNzTmFtZT1cInB4LTYgcHktMyB0ZXh0LWxlZnQgdGV4dC14cyBmb250LW1lZGl1bSB0ZXh0LWdyYXktNTAwIHVwcGVyY2FzZVwiPlR5cGU8L3RoPlxyXG4gICAgICAgICAgICAgIDx0aCBjbGFzc05hbWU9XCJweC02IHB5LTMgdGV4dC1sZWZ0IHRleHQteHMgZm9udC1tZWRpdW0gdGV4dC1ncmF5LTUwMCB1cHBlcmNhc2VcIj5SZWZlcmVuY2U8L3RoPlxyXG4gICAgICAgICAgICAgIDx0aCBjbGFzc05hbWU9XCJweC02IHB5LTMgdGV4dC1sZWZ0IHRleHQteHMgZm9udC1tZWRpdW0gdGV4dC1ncmF5LTUwMCB1cHBlcmNhc2VcIj5WYWxpZGl0eTwvdGg+XHJcbiAgICAgICAgICAgIDwvdHI+XHJcbiAgICAgICAgICA8L3RoZWFkPlxyXG4gICAgICAgICAgPHRib2R5IGNsYXNzTmFtZT1cImJnLXdoaXRlIGRpdmlkZS15IGRpdmlkZS1ncmF5LTIwMFwiPlxyXG4gICAgICAgICAgICB7ZmlsdGVyZWQubGVuZ3RoID09PSAwID8gKFxyXG4gICAgICAgICAgICAgIDx0cj5cclxuICAgICAgICAgICAgICAgIDx0ZCBjbGFzc05hbWU9XCJweC02IHB5LTEwIHRleHQtY2VudGVyIHRleHQtZ3JheS01MDBcIiBjb2xTcGFuPXs0fT5cclxuICAgICAgICAgICAgICAgICAgTm8gY29udHJvbHMgZm91bmQuXHJcbiAgICAgICAgICAgICAgICA8L3RkPlxyXG4gICAgICAgICAgICAgIDwvdHI+XHJcbiAgICAgICAgICAgICkgOiAoXHJcbiAgICAgICAgICAgICAgZmlsdGVyZWQubWFwKChjKSA9PiAoXHJcbiAgICAgICAgICAgICAgICA8dHIga2V5PXtjLmlkIHx8IGMuY29kZX0gY2xhc3NOYW1lPVwiaG92ZXI6YmctZ3JheS01MFwiPlxyXG4gICAgICAgICAgICAgICAgICA8dGQgY2xhc3NOYW1lPVwicHgtNiBweS00XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb250LW1lZGl1bSB0ZXh0LWdyYXktOTAwXCI+e2MudGl0bGV9PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS01MDAgZm9udC1tb25vXCI+e2MuY29kZX08L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgPC90ZD5cclxuICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cInB4LTYgcHktNFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT17YHB4LTIgcHktMSB0ZXh0LXhzIHJvdW5kZWQgJHtUWVBFX0NPTE9SU1tjLnR5cGVdIHx8ICdiZy1ncmF5LTEwMCB0ZXh0LWdyYXktODAwJ31gfT5cclxuICAgICAgICAgICAgICAgICAgICAgIHtjLnR5cGV9XHJcbiAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICA8L3RkPlxyXG4gICAgICAgICAgICAgICAgICA8dGQgY2xhc3NOYW1lPVwicHgtNiBweS00IHRleHQtc20gdGV4dC1ncmF5LTUwMFwiPntjLnJlZmVyZW5jZSB8fCAn4oCUJ308L3RkPlxyXG4gICAgICAgICAgICAgICAgICA8dGQgY2xhc3NOYW1lPVwicHgtNiBweS00IHRleHQtc20gdGV4dC1ncmF5LTUwMFwiPntmb3JtYXRWYWxpZGl0eShjLnZhbGlkaXR5RGF5cyl9PC90ZD5cclxuICAgICAgICAgICAgICAgIDwvdHI+XHJcbiAgICAgICAgICAgICAgKSlcclxuICAgICAgICAgICAgKX1cclxuICAgICAgICAgIDwvdGJvZHk+XHJcbiAgICAgICAgPC90YWJsZT5cclxuICAgICAgPC9kaXY+XHJcblxyXG4gICAgICB7c2hvd0FkZCAmJiAoXHJcbiAgICAgICAgPEFkZENvbnRyb2xNb2RhbFxyXG4gICAgICAgICAgb25DbG9zZT17KCkgPT4gc2V0U2hvd0FkZChmYWxzZSl9XHJcbiAgICAgICAgICBvblNhdmU9e29uQWRkQ29udHJvbH1cclxuICAgICAgICAvPlxyXG4gICAgICApfVxyXG4gICAgPC9kaXY+XHJcbiAgKTtcclxufVxyXG5cclxuZnVuY3Rpb24gUGFja0J1dHRvbih7IGxhYmVsLCBvbkNsaWNrIH0pIHtcclxuICByZXR1cm4gKFxyXG4gICAgPGJ1dHRvbiBvbkNsaWNrPXtvbkNsaWNrfSBjbGFzc05hbWU9XCJweC0zIHB5LTIgdGV4dC1zbSBib3JkZXIgcm91bmRlZCBob3ZlcjpiZy1ncmF5LTUwXCI+XHJcbiAgICAgIHtsYWJlbH1cclxuICAgIDwvYnV0dG9uPlxyXG4gICk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIEFkZENvbnRyb2xNb2RhbCh7IG9uQ2xvc2UsIG9uU2F2ZSB9KSB7XHJcbiAgY29uc3QgW2Zvcm0sIHNldEZvcm1dID0gdXNlU3RhdGUoe1xyXG4gICAgY29kZTogJycsXHJcbiAgICB0aXRsZTogJycsXHJcbiAgICB0eXBlOiAnVHJhaW5pbmcnLFxyXG4gICAgZGVzY3JpcHRpb246ICcnLFxyXG4gICAgcmVmZXJlbmNlOiAnJyxcclxuICAgIHZhbGlkaXR5RGF5czogMzY1LFxyXG4gIH0pO1xyXG4gIGNvbnN0IFtzYXZpbmcsIHNldFNhdmluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XHJcblxyXG4gIGNvbnN0IHNldEZpZWxkID0gKGssIHYpID0+IHNldEZvcm0oKHByZXYpID0+ICh7IC4uLnByZXYsIFtrXTogdiB9KSk7XHJcblxyXG4gIGFzeW5jIGZ1bmN0aW9uIHNhdmUoKSB7XHJcbiAgICBpZiAoIWZvcm0uY29kZS50cmltKCkgfHwgIWZvcm0udGl0bGUudHJpbSgpKSB7XHJcbiAgICAgIGFsZXJ0KCdDb2RlIGFuZCBUaXRsZSBhcmUgcmVxdWlyZWQnKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgc2V0U2F2aW5nKHRydWUpO1xyXG4gICAgdHJ5IHtcclxuICAgICAgYXdhaXQgb25TYXZlKHtcclxuICAgICAgICBjb2RlOiBmb3JtLmNvZGUudHJpbSgpLFxyXG4gICAgICAgIHRpdGxlOiBmb3JtLnRpdGxlLnRyaW0oKSxcclxuICAgICAgICB0eXBlOiBmb3JtLnR5cGUsXHJcbiAgICAgICAgZGVzY3JpcHRpb246IGZvcm0uZGVzY3JpcHRpb24gfHwgdW5kZWZpbmVkLFxyXG4gICAgICAgIHJlZmVyZW5jZTogZm9ybS5yZWZlcmVuY2UgfHwgdW5kZWZpbmVkLFxyXG4gICAgICAgIHZhbGlkaXR5RGF5czogZm9ybS52YWxpZGl0eURheXMgPT09ICcnID8gbnVsbCA6IE51bWJlcihmb3JtLnZhbGlkaXR5RGF5cyksXHJcbiAgICAgIH0pO1xyXG4gICAgfSBmaW5hbGx5IHtcclxuICAgICAgc2V0U2F2aW5nKGZhbHNlKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImZpeGVkIGluc2V0LTAgYmctYmxhY2svMzAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgei01MFwiPlxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXdoaXRlIHJvdW5kZWQtbGcgc2hhZG93IHctWzU2MHB4XSBwLTUgc3BhY2UteS0zXCI+XHJcbiAgICAgICAgPGgzIGNsYXNzTmFtZT1cInRleHQtbGcgZm9udC1zZW1pYm9sZFwiPkFkZCBDb250cm9sPC9oMz5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTIgZ2FwLTNcIj5cclxuICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJibG9jayB0ZXh0LXhzIHRleHQtZ3JheS02MDBcIj5Db2RlPC9sYWJlbD5cclxuICAgICAgICAgICAgPGlucHV0IGNsYXNzTmFtZT1cInctZnVsbCBib3JkZXIgcm91bmRlZCBweC0yIHB5LTEuNVwiIHZhbHVlPXtmb3JtLmNvZGV9IG9uQ2hhbmdlPXsoZSk9PnNldEZpZWxkKCdjb2RlJywgZS50YXJnZXQudmFsdWUpfSAvPlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiYmxvY2sgdGV4dC14cyB0ZXh0LWdyYXktNjAwXCI+VGl0bGU8L2xhYmVsPlxyXG4gICAgICAgICAgICA8aW5wdXQgY2xhc3NOYW1lPVwidy1mdWxsIGJvcmRlciByb3VuZGVkIHB4LTIgcHktMS41XCIgdmFsdWU9e2Zvcm0udGl0bGV9IG9uQ2hhbmdlPXsoZSk9PnNldEZpZWxkKCd0aXRsZScsIGUudGFyZ2V0LnZhbHVlKX0gLz5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImJsb2NrIHRleHQteHMgdGV4dC1ncmF5LTYwMFwiPlR5cGU8L2xhYmVsPlxyXG4gICAgICAgICAgICA8c2VsZWN0IGNsYXNzTmFtZT1cInctZnVsbCBib3JkZXIgcm91bmRlZCBweC0yIHB5LTEuNVwiIHZhbHVlPXtmb3JtLnR5cGV9IG9uQ2hhbmdlPXsoZSk9PnNldEZpZWxkKCd0eXBlJywgZS50YXJnZXQudmFsdWUpfT5cclxuICAgICAgICAgICAgICB7QUxMX1RZUEVTLm1hcCgodCkgPT4gPG9wdGlvbiBrZXk9e3R9Pnt0fTwvb3B0aW9uPil9XHJcbiAgICAgICAgICAgIDwvc2VsZWN0PlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiYmxvY2sgdGV4dC14cyB0ZXh0LWdyYXktNjAwXCI+VmFsaWRpdHk8L2xhYmVsPlxyXG4gICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICB0eXBlPVwibnVtYmVyXCJcclxuICAgICAgICAgICAgICBtaW49ezB9XHJcbiAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJEYXlzICgwIG9yIGJsYW5rID0gUGVyIHRhc2spXCJcclxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgYm9yZGVyIHJvdW5kZWQgcHgtMiBweS0xLjVcIlxyXG4gICAgICAgICAgICAgIHZhbHVlPXtmb3JtLnZhbGlkaXR5RGF5c31cclxuICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpPT5zZXRGaWVsZCgndmFsaWRpdHlEYXlzJywgZS50YXJnZXQudmFsdWUgPT09ICcnID8gJycgOiBOdW1iZXIoZS50YXJnZXQudmFsdWUpKX1cclxuICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1bMTFweF0gdGV4dC1ncmF5LTUwMCBtdC0xXCI+VXNlIGRheXMgKGUuZy4sIDM2NSA9IDEyIG1vbnRocykuIExlYXZlIGJsYW5rIGZvciBOL0EsIDAgZm9yIHBlci10YXNrLjwvcD5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDxkaXY+XHJcbiAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiYmxvY2sgdGV4dC14cyB0ZXh0LWdyYXktNjAwXCI+UmVmZXJlbmNlPC9sYWJlbD5cclxuICAgICAgICAgIDxpbnB1dCBjbGFzc05hbWU9XCJ3LWZ1bGwgYm9yZGVyIHJvdW5kZWQgcHgtMiBweS0xLjVcIiB2YWx1ZT17Zm9ybS5yZWZlcmVuY2V9IG9uQ2hhbmdlPXsoZSk9PnNldEZpZWxkKCdyZWZlcmVuY2UnLCBlLnRhcmdldC52YWx1ZSl9IC8+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPGRpdj5cclxuICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJibG9jayB0ZXh0LXhzIHRleHQtZ3JheS02MDBcIj5EZXNjcmlwdGlvbjwvbGFiZWw+XHJcbiAgICAgICAgICA8dGV4dGFyZWEgcm93cz17M30gY2xhc3NOYW1lPVwidy1mdWxsIGJvcmRlciByb3VuZGVkIHB4LTIgcHktMS41XCIgdmFsdWU9e2Zvcm0uZGVzY3JpcHRpb259IG9uQ2hhbmdlPXsoZSk9PnNldEZpZWxkKCdkZXNjcmlwdGlvbicsIGUudGFyZ2V0LnZhbHVlKX0gLz5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1lbmQgZ2FwLTIgcHQtMlwiPlxyXG4gICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJweC0zIHB5LTEuNSBib3JkZXIgcm91bmRlZFwiIG9uQ2xpY2s9e29uQ2xvc2V9PkNhbmNlbDwvYnV0dG9uPlxyXG4gICAgICAgICAgPGJ1dHRvbiBkaXNhYmxlZD17c2F2aW5nfSBjbGFzc05hbWU9XCJweC0zIHB5LTEuNSBiZy1ibGFjayB0ZXh0LXdoaXRlIHJvdW5kZWRcIiBvbkNsaWNrPXtzYXZlfT57c2F2aW5nID8gJ1NhdmluZ+KApicgOiAnU2F2ZSd9PC9idXR0b24+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgPC9kaXY+XHJcbiAgKTtcclxufVxyXG4iXSwiZmlsZSI6IkM6L1VzZXJzL0JpbGwuUy9zYWZldHktaW50ZWxsaWdlbmNlLWVuZ2luZS9zcmMvY29tcG9uZW50cy9jb250cm9scy9Db250cm9sTGlicmFyeS5qc3gifQ==