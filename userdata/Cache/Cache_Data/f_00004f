import { createHotContext as __vite__createHotContext } from "/@vite/client";import.meta.hot = __vite__createHotContext("/src/components/roles/RoleLibrary.tsx");import __vite__cjsImport0_react_jsxDevRuntime from "/node_modules/.vite/deps/react_jsx-dev-runtime.js?v=2c4c02a3"; const jsxDEV = __vite__cjsImport0_react_jsxDevRuntime["jsxDEV"];
import * as RefreshRuntime from "/@react-refresh";
const inWebWorker = typeof WorkerGlobalScope !== "undefined" && self instanceof WorkerGlobalScope;
let prevRefreshReg;
let prevRefreshSig;
if (import.meta.hot && !inWebWorker) {
  if (!window.$RefreshReg$) {
    throw new Error(
      "@vitejs/plugin-react can't detect preamble. Something is wrong."
    );
  }
  prevRefreshReg = window.$RefreshReg$;
  prevRefreshSig = window.$RefreshSig$;
  window.$RefreshReg$ = RefreshRuntime.getRefreshReg("C:/Users/Bill.S/safety-intelligence-engine/src/components/roles/RoleLibrary.tsx");
  window.$RefreshSig$ = RefreshRuntime.createSignatureFunctionForTransform;
}
var _s = $RefreshSig$(), _s2 = $RefreshSig$();
import __vite__cjsImport3_react from "/node_modules/.vite/deps/react.js?v=2c4c02a3"; const useState = __vite__cjsImport3_react["useState"]; const useEffect = __vite__cjsImport3_react["useEffect"]; const useMemo = __vite__cjsImport3_react["useMemo"];
import { Plus, Search, X, Briefcase, Edit2, Trash2 } from "/node_modules/.vite/deps/lucide-react.js?v=2c4c02a3";
const AVAILABLE_CATEGORIES = [
  "Electrical",
  "Heights",
  "Confined Space",
  "Manual Handling",
  "Structural",
  "Management",
  "General",
  "Hot Work",
  "PPE",
  "Vehicle",
  "Chemical",
  "Noise",
  "Radiation",
  "Biological"
];
export function RoleLibrary() {
  _s();
  const [roles, setRoles] = useState([]);
  const [loading, setLoading] = useState(true);
  const [searchTerm, setSearchTerm] = useState("");
  const [showAddModal, setShowAddModal] = useState(false);
  const [editingRole, setEditingRole] = useState(null);
  const [showDeleteConfirm, setShowDeleteConfirm] = useState(null);
  useEffect(() => {
    loadRoles();
  }, []);
  const loadRoles = async () => {
    setLoading(true);
    try {
      const data = await window.api?.listRoles?.();
      setRoles(data || []);
    } catch (error) {
      console.error("Failed to load roles:", error);
    } finally {
      setLoading(false);
    }
  };
  const filteredRoles = useMemo(() => {
    const search = searchTerm.toLowerCase().trim();
    if (!search) return roles;
    return roles.filter((r) => {
      const name = (r.name || "").toLowerCase();
      const desc = (r.description || "").toLowerCase();
      return name.includes(search) || desc.includes(search);
    });
  }, [roles, searchTerm]);
  const handleDelete = async (roleId) => {
    try {
      await window.api?.deleteRole?.(roleId);
      setRoles((prev) => prev.filter((r) => r.id !== roleId));
      setShowDeleteConfirm(null);
    } catch (error) {
      console.error("Failed to delete role:", error);
      alert("Failed to delete role. It may be in use by workers.");
    }
  };
  return /* @__PURE__ */ jsxDEV("div", { className: "space-y-6", children: [
    /* @__PURE__ */ jsxDEV("div", { className: "flex items-center justify-between", children: [
      /* @__PURE__ */ jsxDEV("div", { children: [
        /* @__PURE__ */ jsxDEV("h1", { className: "text-2xl font-bold text-gray-900", children: "Roles & Positions" }, void 0, false, {
          fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/roles/RoleLibrary.tsx",
          lineNumber: 103,
          columnNumber: 11
        }, this),
        /* @__PURE__ */ jsxDEV("p", { className: "text-gray-500 mt-1", children: "Manage worker roles and their hazard assignments" }, void 0, false, {
          fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/roles/RoleLibrary.tsx",
          lineNumber: 104,
          columnNumber: 11
        }, this)
      ] }, void 0, true, {
        fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/roles/RoleLibrary.tsx",
        lineNumber: 102,
        columnNumber: 9
      }, this),
      /* @__PURE__ */ jsxDEV(
        "button",
        {
          onClick: () => setShowAddModal(true),
          className: "flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",
          children: [
            /* @__PURE__ */ jsxDEV(Plus, { size: 20 }, void 0, false, {
              fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/roles/RoleLibrary.tsx",
              lineNumber: 110,
              columnNumber: 11
            }, this),
            /* @__PURE__ */ jsxDEV("span", { children: "Add Role" }, void 0, false, {
              fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/roles/RoleLibrary.tsx",
              lineNumber: 111,
              columnNumber: 11
            }, this)
          ]
        },
        void 0,
        true,
        {
          fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/roles/RoleLibrary.tsx",
          lineNumber: 106,
          columnNumber: 9
        },
        this
      )
    ] }, void 0, true, {
      fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/roles/RoleLibrary.tsx",
      lineNumber: 101,
      columnNumber: 7
    }, this),
    /* @__PURE__ */ jsxDEV("div", { className: "bg-white rounded-lg shadow p-4", children: /* @__PURE__ */ jsxDEV("div", { className: "relative", children: [
      /* @__PURE__ */ jsxDEV(Search, { className: "absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400", size: 20 }, void 0, false, {
        fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/roles/RoleLibrary.tsx",
        lineNumber: 118,
        columnNumber: 11
      }, this),
      /* @__PURE__ */ jsxDEV(
        "input",
        {
          type: "text",
          placeholder: "Search roles by name or description...",
          value: searchTerm,
          onChange: (e) => setSearchTerm(e.target.value),
          className: "w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
        },
        void 0,
        false,
        {
          fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/roles/RoleLibrary.tsx",
          lineNumber: 119,
          columnNumber: 11
        },
        this
      )
    ] }, void 0, true, {
      fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/roles/RoleLibrary.tsx",
      lineNumber: 117,
      columnNumber: 9
    }, this) }, void 0, false, {
      fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/roles/RoleLibrary.tsx",
      lineNumber: 116,
      columnNumber: 7
    }, this),
    /* @__PURE__ */ jsxDEV("div", { className: "bg-white rounded-lg shadow overflow-hidden", children: loading ? /* @__PURE__ */ jsxDEV("div", { className: "p-8 text-center text-gray-500", children: "Loading roles..." }, void 0, false, {
      fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/roles/RoleLibrary.tsx",
      lineNumber: 132,
      columnNumber: 9
    }, this) : filteredRoles.length === 0 ? /* @__PURE__ */ jsxDEV("div", { className: "p-8 text-center text-gray-500", children: searchTerm ? "No roles found matching your search" : 'No roles yet. Click "Add Role" to create one.' }, void 0, false, {
      fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/roles/RoleLibrary.tsx",
      lineNumber: 134,
      columnNumber: 9
    }, this) : /* @__PURE__ */ jsxDEV("div", { className: "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 p-6", children: filteredRoles.map(
      (role) => /* @__PURE__ */ jsxDEV(
        RoleCard,
        {
          role,
          onEdit: () => setEditingRole(role),
          onDelete: () => setShowDeleteConfirm(role.id)
        },
        role.id,
        false,
        {
          fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/roles/RoleLibrary.tsx",
          lineNumber: 140,
          columnNumber: 11
        },
        this
      )
    ) }, void 0, false, {
      fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/roles/RoleLibrary.tsx",
      lineNumber: 138,
      columnNumber: 9
    }, this) }, void 0, false, {
      fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/roles/RoleLibrary.tsx",
      lineNumber: 130,
      columnNumber: 7
    }, this),
    (showAddModal || editingRole) && /* @__PURE__ */ jsxDEV(
      RoleModal,
      {
        role: editingRole,
        onClose: () => {
          setShowAddModal(false);
          setEditingRole(null);
        },
        onSuccess: () => {
          setShowAddModal(false);
          setEditingRole(null);
          loadRoles();
        }
      },
      void 0,
      false,
      {
        fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/roles/RoleLibrary.tsx",
        lineNumber: 153,
        columnNumber: 7
      },
      this
    ),
    showDeleteConfirm && /* @__PURE__ */ jsxDEV("div", { className: "fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50", children: /* @__PURE__ */ jsxDEV("div", { className: "bg-white rounded-lg shadow-lg max-w-md w-full p-6", children: [
      /* @__PURE__ */ jsxDEV("h3", { className: "text-lg font-semibold mb-4", children: "Delete Role" }, void 0, false, {
        fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/roles/RoleLibrary.tsx",
        lineNumber: 171,
        columnNumber: 13
      }, this),
      /* @__PURE__ */ jsxDEV("p", { className: "text-gray-600 mb-6", children: "Are you sure you want to delete this role? This action cannot be undone. Workers assigned to this role will need to be reassigned." }, void 0, false, {
        fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/roles/RoleLibrary.tsx",
        lineNumber: 172,
        columnNumber: 13
      }, this),
      /* @__PURE__ */ jsxDEV("div", { className: "flex justify-end space-x-3", children: [
        /* @__PURE__ */ jsxDEV(
          "button",
          {
            onClick: () => setShowDeleteConfirm(null),
            className: "px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",
            children: "Cancel"
          },
          void 0,
          false,
          {
            fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/roles/RoleLibrary.tsx",
            lineNumber: 177,
            columnNumber: 15
          },
          this
        ),
        /* @__PURE__ */ jsxDEV(
          "button",
          {
            onClick: () => handleDelete(showDeleteConfirm),
            className: "px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",
            children: "Delete"
          },
          void 0,
          false,
          {
            fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/roles/RoleLibrary.tsx",
            lineNumber: 183,
            columnNumber: 15
          },
          this
        )
      ] }, void 0, true, {
        fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/roles/RoleLibrary.tsx",
        lineNumber: 176,
        columnNumber: 13
      }, this)
    ] }, void 0, true, {
      fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/roles/RoleLibrary.tsx",
      lineNumber: 170,
      columnNumber: 11
    }, this) }, void 0, false, {
      fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/roles/RoleLibrary.tsx",
      lineNumber: 169,
      columnNumber: 7
    }, this)
  ] }, void 0, true, {
    fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/roles/RoleLibrary.tsx",
    lineNumber: 99,
    columnNumber: 5
  }, this);
}
_s(RoleLibrary, "+2mw9OsixtQsd+efnryzj2KHehA=");
_c = RoleLibrary;
function RoleCard({ role, onEdit, onDelete }) {
  const activityPackage = role.activityPackage ? JSON.parse(role.activityPackage) : null;
  const categories = activityPackage?.hazardCategories || [];
  return /* @__PURE__ */ jsxDEV("div", { className: "border border-gray-200 rounded-lg p-5 hover:shadow-md transition-shadow", children: [
    /* @__PURE__ */ jsxDEV("div", { className: "flex items-start justify-between mb-3", children: /* @__PURE__ */ jsxDEV("div", { className: "flex items-center space-x-3", children: [
      /* @__PURE__ */ jsxDEV("div", { className: "w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center", children: /* @__PURE__ */ jsxDEV(Briefcase, { className: "text-blue-600", size: 20 }, void 0, false, {
        fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/roles/RoleLibrary.tsx",
        lineNumber: 206,
        columnNumber: 13
      }, this) }, void 0, false, {
        fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/roles/RoleLibrary.tsx",
        lineNumber: 205,
        columnNumber: 11
      }, this),
      /* @__PURE__ */ jsxDEV("div", { children: /* @__PURE__ */ jsxDEV("h3", { className: "font-semibold text-gray-900", children: role.name }, void 0, false, {
        fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/roles/RoleLibrary.tsx",
        lineNumber: 209,
        columnNumber: 13
      }, this) }, void 0, false, {
        fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/roles/RoleLibrary.tsx",
        lineNumber: 208,
        columnNumber: 11
      }, this)
    ] }, void 0, true, {
      fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/roles/RoleLibrary.tsx",
      lineNumber: 204,
      columnNumber: 9
    }, this) }, void 0, false, {
      fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/roles/RoleLibrary.tsx",
      lineNumber: 203,
      columnNumber: 7
    }, this),
    role.description && /* @__PURE__ */ jsxDEV("p", { className: "text-sm text-gray-600 mb-3 line-clamp-2", children: role.description }, void 0, false, {
      fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/roles/RoleLibrary.tsx",
      lineNumber: 215,
      columnNumber: 7
    }, this),
    /* @__PURE__ */ jsxDEV("div", { className: "mb-4", children: [
      /* @__PURE__ */ jsxDEV("p", { className: "text-xs font-medium text-gray-500 uppercase mb-2", children: "Hazard Categories" }, void 0, false, {
        fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/roles/RoleLibrary.tsx",
        lineNumber: 220,
        columnNumber: 9
      }, this),
      categories.length > 0 ? /* @__PURE__ */ jsxDEV("div", { className: "flex flex-wrap gap-1", children: categories.map(
        (cat) => /* @__PURE__ */ jsxDEV(
          "span",
          {
            className: "px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded",
            children: cat
          },
          cat,
          false,
          {
            fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/roles/RoleLibrary.tsx",
            lineNumber: 224,
            columnNumber: 11
          },
          this
        )
      ) }, void 0, false, {
        fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/roles/RoleLibrary.tsx",
        lineNumber: 222,
        columnNumber: 9
      }, this) : /* @__PURE__ */ jsxDEV("p", { className: "text-xs text-gray-400 italic", children: "No categories assigned" }, void 0, false, {
        fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/roles/RoleLibrary.tsx",
        lineNumber: 233,
        columnNumber: 9
      }, this)
    ] }, void 0, true, {
      fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/roles/RoleLibrary.tsx",
      lineNumber: 219,
      columnNumber: 7
    }, this),
    /* @__PURE__ */ jsxDEV("div", { className: "flex items-center justify-end space-x-2 pt-3 border-t border-gray-100", children: [
      /* @__PURE__ */ jsxDEV(
        "button",
        {
          onClick: onEdit,
          className: "flex items-center space-x-1 px-3 py-1.5 text-sm text-blue-600 hover:bg-blue-50 rounded transition-colors",
          children: [
            /* @__PURE__ */ jsxDEV(Edit2, { size: 14 }, void 0, false, {
              fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/roles/RoleLibrary.tsx",
              lineNumber: 243,
              columnNumber: 11
            }, this),
            /* @__PURE__ */ jsxDEV("span", { children: "Edit" }, void 0, false, {
              fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/roles/RoleLibrary.tsx",
              lineNumber: 244,
              columnNumber: 11
            }, this)
          ]
        },
        void 0,
        true,
        {
          fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/roles/RoleLibrary.tsx",
          lineNumber: 239,
          columnNumber: 9
        },
        this
      ),
      /* @__PURE__ */ jsxDEV(
        "button",
        {
          onClick: onDelete,
          className: "flex items-center space-x-1 px-3 py-1.5 text-sm text-red-600 hover:bg-red-50 rounded transition-colors",
          children: [
            /* @__PURE__ */ jsxDEV(Trash2, { size: 14 }, void 0, false, {
              fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/roles/RoleLibrary.tsx",
              lineNumber: 250,
              columnNumber: 11
            }, this),
            /* @__PURE__ */ jsxDEV("span", { children: "Delete" }, void 0, false, {
              fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/roles/RoleLibrary.tsx",
              lineNumber: 251,
              columnNumber: 11
            }, this)
          ]
        },
        void 0,
        true,
        {
          fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/roles/RoleLibrary.tsx",
          lineNumber: 246,
          columnNumber: 9
        },
        this
      )
    ] }, void 0, true, {
      fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/roles/RoleLibrary.tsx",
      lineNumber: 238,
      columnNumber: 7
    }, this)
  ] }, void 0, true, {
    fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/roles/RoleLibrary.tsx",
    lineNumber: 202,
    columnNumber: 5
  }, this);
}
_c2 = RoleCard;
function RoleModal({
  role,
  onClose,
  onSuccess
}) {
  _s2();
  const [name, setName] = useState(role?.name || "");
  const [description, setDescription] = useState(role?.description || "");
  const [selectedCategories, setSelectedCategories] = useState(() => {
    if (role?.activityPackage) {
      try {
        const pkg = JSON.parse(role.activityPackage);
        return pkg.hazardCategories || [];
      } catch {
        return [];
      }
    }
    return [];
  });
  const [loading, setLoading] = useState(false);
  const [error, setError] = useState(null);
  const toggleCategory = (category) => {
    setSelectedCategories(
      (prev) => prev.includes(category) ? prev.filter((c) => c !== category) : [...prev, category]
    );
  };
  const handleSubmit = async (e) => {
    e.preventDefault();
    if (!name.trim()) {
      setError("Role name is required");
      return;
    }
    setLoading(true);
    setError(null);
    try {
      const activityPackage = JSON.stringify({
        hazardCategories: selectedCategories
      });
      if (role) {
        await window.api.updateRole({
          id: role.id,
          name: name.trim(),
          description: description.trim() || null,
          activityPackage
        });
      } else {
        await window.api.createRole({
          name: name.trim(),
          description: description.trim() || null,
          activityPackage
        });
      }
      onSuccess();
    } catch (err) {
      console.error("Failed to save role:", err);
      setError(err?.message || "Failed to save role");
    } finally {
      setLoading(false);
    }
  };
  return /* @__PURE__ */ jsxDEV("div", { className: "fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50", children: /* @__PURE__ */ jsxDEV("div", { className: "bg-white rounded-lg shadow-lg max-w-2xl w-full p-6 max-h-[90vh] overflow-y-auto", children: [
    /* @__PURE__ */ jsxDEV("div", { className: "flex items-center justify-between mb-6", children: [
      /* @__PURE__ */ jsxDEV("h2", { className: "text-xl font-semibold", children: role ? "Edit Role" : "Add New Role" }, void 0, false, {
        fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/roles/RoleLibrary.tsx",
        lineNumber: 337,
        columnNumber: 11
      }, this),
      /* @__PURE__ */ jsxDEV(
        "button",
        {
          onClick: onClose,
          className: "p-2 hover:bg-gray-100 rounded-full transition-colors",
          children: /* @__PURE__ */ jsxDEV(X, { size: 20 }, void 0, false, {
            fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/roles/RoleLibrary.tsx",
            lineNumber: 342,
            columnNumber: 13
          }, this)
        },
        void 0,
        false,
        {
          fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/roles/RoleLibrary.tsx",
          lineNumber: 338,
          columnNumber: 11
        },
        this
      )
    ] }, void 0, true, {
      fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/roles/RoleLibrary.tsx",
      lineNumber: 336,
      columnNumber: 9
    }, this),
    /* @__PURE__ */ jsxDEV("form", { onSubmit: handleSubmit, className: "space-y-5", children: [
      /* @__PURE__ */ jsxDEV("div", { children: [
        /* @__PURE__ */ jsxDEV("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: [
          "Role Name ",
          /* @__PURE__ */ jsxDEV("span", { className: "text-red-500", children: "*" }, void 0, false, {
            fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/roles/RoleLibrary.tsx",
            lineNumber: 350,
            columnNumber: 25
          }, this)
        ] }, void 0, true, {
          fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/roles/RoleLibrary.tsx",
          lineNumber: 349,
          columnNumber: 13
        }, this),
        /* @__PURE__ */ jsxDEV(
          "input",
          {
            type: "text",
            value: name,
            onChange: (e) => setName(e.target.value),
            placeholder: "e.g., Electrician, Scaffolder, Supervisor",
            className: "w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",
            disabled: loading,
            required: true
          },
          void 0,
          false,
          {
            fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/roles/RoleLibrary.tsx",
            lineNumber: 352,
            columnNumber: 13
          },
          this
        )
      ] }, void 0, true, {
        fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/roles/RoleLibrary.tsx",
        lineNumber: 348,
        columnNumber: 11
      }, this),
      /* @__PURE__ */ jsxDEV("div", { children: [
        /* @__PURE__ */ jsxDEV("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: "Description" }, void 0, false, {
          fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/roles/RoleLibrary.tsx",
          lineNumber: 365,
          columnNumber: 13
        }, this),
        /* @__PURE__ */ jsxDEV(
          "textarea",
          {
            value: description,
            onChange: (e) => setDescription(e.target.value),
            placeholder: "Brief description of this role and its responsibilities",
            rows: 3,
            className: "w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",
            disabled: loading
          },
          void 0,
          false,
          {
            fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/roles/RoleLibrary.tsx",
            lineNumber: 368,
            columnNumber: 13
          },
          this
        )
      ] }, void 0, true, {
        fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/roles/RoleLibrary.tsx",
        lineNumber: 364,
        columnNumber: 11
      }, this),
      /* @__PURE__ */ jsxDEV("div", { children: [
        /* @__PURE__ */ jsxDEV("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: "Hazard Categories" }, void 0, false, {
          fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/roles/RoleLibrary.tsx",
          lineNumber: 380,
          columnNumber: 13
        }, this),
        /* @__PURE__ */ jsxDEV("p", { className: "text-xs text-gray-500 mb-3", children: "Select which hazard categories apply to this role. Workers in this role will automatically receive controls for hazards in these categories." }, void 0, false, {
          fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/roles/RoleLibrary.tsx",
          lineNumber: 383,
          columnNumber: 13
        }, this),
        /* @__PURE__ */ jsxDEV("div", { className: "border border-gray-300 rounded-lg p-4 max-h-64 overflow-y-auto", children: /* @__PURE__ */ jsxDEV("div", { className: "grid grid-cols-2 gap-3", children: AVAILABLE_CATEGORIES.map(
          (category) => /* @__PURE__ */ jsxDEV(
            "label",
            {
              className: "flex items-center space-x-2 cursor-pointer hover:bg-gray-50 p-2 rounded",
              children: [
                /* @__PURE__ */ jsxDEV(
                  "input",
                  {
                    type: "checkbox",
                    checked: selectedCategories.includes(category),
                    onChange: () => toggleCategory(category),
                    disabled: loading,
                    className: "rounded border-gray-300 text-blue-600 focus:ring-blue-500"
                  },
                  void 0,
                  false,
                  {
                    fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/roles/RoleLibrary.tsx",
                    lineNumber: 393,
                    columnNumber: 21
                  },
                  this
                ),
                /* @__PURE__ */ jsxDEV("span", { className: "text-sm text-gray-700", children: category }, void 0, false, {
                  fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/roles/RoleLibrary.tsx",
                  lineNumber: 400,
                  columnNumber: 21
                }, this)
              ]
            },
            category,
            true,
            {
              fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/roles/RoleLibrary.tsx",
              lineNumber: 389,
              columnNumber: 17
            },
            this
          )
        ) }, void 0, false, {
          fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/roles/RoleLibrary.tsx",
          lineNumber: 387,
          columnNumber: 15
        }, this) }, void 0, false, {
          fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/roles/RoleLibrary.tsx",
          lineNumber: 386,
          columnNumber: 13
        }, this),
        selectedCategories.length > 0 && /* @__PURE__ */ jsxDEV("div", { className: "mt-2 flex flex-wrap gap-1", children: selectedCategories.map(
          (cat) => /* @__PURE__ */ jsxDEV(
            "span",
            {
              className: "px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded",
              children: cat
            },
            cat,
            false,
            {
              fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/roles/RoleLibrary.tsx",
              lineNumber: 408,
              columnNumber: 15
            },
            this
          )
        ) }, void 0, false, {
          fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/roles/RoleLibrary.tsx",
          lineNumber: 406,
          columnNumber: 13
        }, this)
      ] }, void 0, true, {
        fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/roles/RoleLibrary.tsx",
        lineNumber: 379,
        columnNumber: 11
      }, this),
      error && /* @__PURE__ */ jsxDEV("div", { className: "text-red-600 text-sm bg-red-50 border border-red-200 rounded p-3", children: error }, void 0, false, {
        fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/roles/RoleLibrary.tsx",
        lineNumber: 420,
        columnNumber: 11
      }, this),
      /* @__PURE__ */ jsxDEV("div", { className: "flex justify-end space-x-3 pt-4 border-t", children: [
        /* @__PURE__ */ jsxDEV(
          "button",
          {
            type: "button",
            onClick: onClose,
            disabled: loading,
            className: "px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",
            children: "Cancel"
          },
          void 0,
          false,
          {
            fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/roles/RoleLibrary.tsx",
            lineNumber: 427,
            columnNumber: 13
          },
          this
        ),
        /* @__PURE__ */ jsxDEV(
          "button",
          {
            type: "submit",
            disabled: loading,
            className: "px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",
            children: loading ? "Saving..." : role ? "Update Role" : "Create Role"
          },
          void 0,
          false,
          {
            fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/roles/RoleLibrary.tsx",
            lineNumber: 435,
            columnNumber: 13
          },
          this
        )
      ] }, void 0, true, {
        fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/roles/RoleLibrary.tsx",
        lineNumber: 426,
        columnNumber: 11
      }, this)
    ] }, void 0, true, {
      fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/roles/RoleLibrary.tsx",
      lineNumber: 346,
      columnNumber: 9
    }, this)
  ] }, void 0, true, {
    fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/roles/RoleLibrary.tsx",
    lineNumber: 335,
    columnNumber: 7
  }, this) }, void 0, false, {
    fileName: "C:/Users/Bill.S/safety-intelligence-engine/src/components/roles/RoleLibrary.tsx",
    lineNumber: 334,
    columnNumber: 5
  }, this);
}
_s2(RoleModal, "HwJ9Xdhvjtm6pQ57ADfjhbpYf5s=");
_c3 = RoleModal;
var _c, _c2, _c3;
$RefreshReg$(_c, "RoleLibrary");
$RefreshReg$(_c2, "RoleCard");
$RefreshReg$(_c3, "RoleModal");
if (import.meta.hot && !inWebWorker) {
  window.$RefreshReg$ = prevRefreshReg;
  window.$RefreshSig$ = prevRefreshSig;
}
if (import.meta.hot && !inWebWorker) {
  RefreshRuntime.__hmr_import(import.meta.url).then((currentExports) => {
    RefreshRuntime.registerExportsForReactRefresh("C:/Users/Bill.S/safety-intelligence-engine/src/components/roles/RoleLibrary.tsx", currentExports);
    import.meta.hot.accept((nextExports) => {
      if (!nextExports) return;
      const invalidateMessage = RefreshRuntime.validateRefreshBoundaryAndEnqueueUpdate("C:/Users/Bill.S/safety-intelligence-engine/src/components/roles/RoleLibrary.tsx", currentExports, nextExports);
      if (invalidateMessage) import.meta.hot.invalidate(invalidateMessage);
    });
  });
}

//# sourceMappingURL=data:application/json;base64,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QSxtQkFESDtBQUFBO0FBQUE7QUFBQTtBQUFBLGFBRUE7QUFBQSxNQUlGLHVCQUFDLFNBQUksV0FBVSw0Q0FDYjtBQUFBO0FBQUEsVUFBQztBQUFBO0FBQUEsWUFDQyxNQUFLO0FBQUEsWUFDTCxTQUFTb0M7QUFBQUEsWUFDVCxVQUFVbkQ7QUFBQUEsWUFDVixXQUFVO0FBQUEsWUFBZ0Y7QUFBQTtBQUFBLFVBSjVGO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxRQU9BO0FBQUEsUUFDQTtBQUFBLFVBQUM7QUFBQTtBQUFBLFlBQ0MsTUFBSztBQUFBLFlBQ0wsVUFBVUE7QUFBQUEsWUFDVixXQUFVO0FBQUEsWUFFVEEsb0JBQVUsY0FBY3NDLE9BQU8sZ0JBQWdCO0FBQUE7QUFBQSxVQUxsRDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsUUFNQTtBQUFBLFdBZkY7QUFBQTtBQUFBO0FBQUE7QUFBQSxhQWdCQTtBQUFBLFNBaEdGO0FBQUE7QUFBQTtBQUFBO0FBQUEsV0FpR0E7QUFBQSxPQTVHRjtBQUFBO0FBQUE7QUFBQTtBQUFBLFNBNkdBLEtBOUdGO0FBQUE7QUFBQTtBQUFBO0FBQUEsU0ErR0E7QUFFSjtBQUFDZSxJQTdMUUgsV0FBUztBQUFBb0IsTUFBVHBCO0FBQVMsSUFBQVgsSUFBQVUsS0FBQXFCO0FBQUFDLGFBQUFoQyxJQUFBO0FBQUFnQyxhQUFBdEIsS0FBQTtBQUFBc0IsYUFBQUQsS0FBQSIsIm5hbWVzIjpbInVzZVN0YXRlIiwidXNlRWZmZWN0IiwidXNlTWVtbyIsIlBsdXMiLCJTZWFyY2giLCJYIiwiQnJpZWZjYXNlIiwiRWRpdDIiLCJUcmFzaDIiLCJBVkFJTEFCTEVfQ0FURUdPUklFUyIsIlJvbGVMaWJyYXJ5IiwiX3MiLCJyb2xlcyIsInNldFJvbGVzIiwibG9hZGluZyIsInNldExvYWRpbmciLCJzZWFyY2hUZXJtIiwic2V0U2VhcmNoVGVybSIsInNob3dBZGRNb2RhbCIsInNldFNob3dBZGRNb2RhbCIsImVkaXRpbmdSb2xlIiwic2V0RWRpdGluZ1JvbGUiLCJzaG93RGVsZXRlQ29uZmlybSIsInNldFNob3dEZWxldGVDb25maXJtIiwibG9hZFJvbGVzIiwiZGF0YSIsIndpbmRvdyIsImFwaSIsImxpc3RSb2xlcyIsImVycm9yIiwiY29uc29sZSIsImZpbHRlcmVkUm9sZXMiLCJzZWFyY2giLCJ0b0xvd2VyQ2FzZSIsInRyaW0iLCJmaWx0ZXIiLCJyIiwibmFtZSIsImRlc2MiLCJkZXNjcmlwdGlvbiIsImluY2x1ZGVzIiwiaGFuZGxlRGVsZXRlIiwicm9sZUlkIiwiZGVsZXRlUm9sZSIsInByZXYiLCJpZCIsImFsZXJ0IiwiZSIsInRhcmdldCIsInZhbHVlIiwibGVuZ3RoIiwibWFwIiwicm9sZSIsIl9jIiwiUm9sZUNhcmQiLCJvbkVkaXQiLCJvbkRlbGV0ZSIsImFjdGl2aXR5UGFja2FnZSIsIkpTT04iLCJwYXJzZSIsImNhdGVnb3JpZXMiLCJoYXphcmRDYXRlZ29yaWVzIiwiY2F0IiwiX2MyIiwiUm9sZU1vZGFsIiwib25DbG9zZSIsIm9uU3VjY2VzcyIsIl9zMiIsInNldE5hbWUiLCJzZXREZXNjcmlwdGlvbiIsInNlbGVjdGVkQ2F0ZWdvcmllcyIsInNldFNlbGVjdGVkQ2F0ZWdvcmllcyIsInBrZyIsInNldEVycm9yIiwidG9nZ2xlQ2F0ZWdvcnkiLCJjYXRlZ29yeSIsImMiLCJoYW5kbGVTdWJtaXQiLCJwcmV2ZW50RGVmYXVsdCIsInN0cmluZ2lmeSIsInVwZGF0ZVJvbGUiLCJjcmVhdGVSb2xlIiwiZXJyIiwibWVzc2FnZSIsIl9jMyIsIiRSZWZyZXNoUmVnJCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlcyI6WyJSb2xlTGlicmFyeS50c3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZU1lbW8gfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBQbHVzLCBTZWFyY2gsIFgsIFVzZXJzLCBCcmllZmNhc2UsIEVkaXQyLCBUcmFzaDIgfSBmcm9tICdsdWNpZGUtcmVhY3QnO1xuXG50eXBlIFJvbGUgPSB7XG4gIGlkOiBzdHJpbmc7XG4gIG5hbWU6IHN0cmluZztcbiAgZGVzY3JpcHRpb24/OiBzdHJpbmcgfCBudWxsO1xuICBhY3Rpdml0eVBhY2thZ2U/OiBzdHJpbmcgfCBudWxsO1xuICBjcmVhdGVkQXQ6IERhdGUgfCBzdHJpbmc7XG59O1xuXG50eXBlIEhhemFyZENhdGVnb3J5ID0ge1xuICBjYXRlZ29yeTogc3RyaW5nO1xuICBjb3VudDogbnVtYmVyO1xufTtcblxuY29uc3QgQVZBSUxBQkxFX0NBVEVHT1JJRVMgPSBbXG4gICdFbGVjdHJpY2FsJyxcbiAgJ0hlaWdodHMnLFxuICAnQ29uZmluZWQgU3BhY2UnLFxuICAnTWFudWFsIEhhbmRsaW5nJyxcbiAgJ1N0cnVjdHVyYWwnLFxuICAnTWFuYWdlbWVudCcsXG4gICdHZW5lcmFsJyxcbiAgJ0hvdCBXb3JrJyxcbiAgJ1BQRScsXG4gICdWZWhpY2xlJyxcbiAgJ0NoZW1pY2FsJyxcbiAgJ05vaXNlJyxcbiAgJ1JhZGlhdGlvbicsXG4gICdCaW9sb2dpY2FsJyxcbl07XG5cbmV4cG9ydCBmdW5jdGlvbiBSb2xlTGlicmFyeSgpIHtcbiAgY29uc3QgW3JvbGVzLCBzZXRSb2xlc10gPSB1c2VTdGF0ZTxSb2xlW10+KFtdKTtcbiAgY29uc3QgW2xvYWRpbmcsIHNldExvYWRpbmddID0gdXNlU3RhdGUodHJ1ZSk7XG4gIGNvbnN0IFtzZWFyY2hUZXJtLCBzZXRTZWFyY2hUZXJtXSA9IHVzZVN0YXRlKCcnKTtcbiAgY29uc3QgW3Nob3dBZGRNb2RhbCwgc2V0U2hvd0FkZE1vZGFsXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2VkaXRpbmdSb2xlLCBzZXRFZGl0aW5nUm9sZV0gPSB1c2VTdGF0ZTxSb2xlIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtzaG93RGVsZXRlQ29uZmlybSwgc2V0U2hvd0RlbGV0ZUNvbmZpcm1dID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBsb2FkUm9sZXMoKTtcbiAgfSwgW10pO1xuXG4gIGNvbnN0IGxvYWRSb2xlcyA9IGFzeW5jICgpID0+IHtcbiAgICBzZXRMb2FkaW5nKHRydWUpO1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgd2luZG93LmFwaT8ubGlzdFJvbGVzPy4oKTtcbiAgICAgIHNldFJvbGVzKGRhdGEgfHwgW10pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gbG9hZCByb2xlczonLCBlcnJvcik7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBmaWx0ZXJlZFJvbGVzID0gdXNlTWVtbygoKSA9PiB7XG4gICAgY29uc3Qgc2VhcmNoID0gc2VhcmNoVGVybS50b0xvd2VyQ2FzZSgpLnRyaW0oKTtcbiAgICBpZiAoIXNlYXJjaCkgcmV0dXJuIHJvbGVzO1xuICAgIHJldHVybiByb2xlcy5maWx0ZXIoKHIpID0+IHtcbiAgICAgIGNvbnN0IG5hbWUgPSAoci5uYW1lIHx8ICcnKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgY29uc3QgZGVzYyA9IChyLmRlc2NyaXB0aW9uIHx8ICcnKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgcmV0dXJuIG5hbWUuaW5jbHVkZXMoc2VhcmNoKSB8fCBkZXNjLmluY2x1ZGVzKHNlYXJjaCk7XG4gICAgfSk7XG4gIH0sIFtyb2xlcywgc2VhcmNoVGVybV0pO1xuXG4gIGNvbnN0IGhhbmRsZURlbGV0ZSA9IGFzeW5jIChyb2xlSWQ6IHN0cmluZykgPT4ge1xuICAgIHRyeSB7XG4gICAgICBhd2FpdCB3aW5kb3cuYXBpPy5kZWxldGVSb2xlPy4ocm9sZUlkKTtcbiAgICAgIHNldFJvbGVzKChwcmV2KSA9PiBwcmV2LmZpbHRlcigocikgPT4gci5pZCAhPT0gcm9sZUlkKSk7XG4gICAgICBzZXRTaG93RGVsZXRlQ29uZmlybShudWxsKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGRlbGV0ZSByb2xlOicsIGVycm9yKTtcbiAgICAgIGFsZXJ0KCdGYWlsZWQgdG8gZGVsZXRlIHJvbGUuIEl0IG1heSBiZSBpbiB1c2UgYnkgd29ya2Vycy4nKTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktNlwiPlxuICAgICAgey8qIEhlYWRlciAqL31cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuXCI+XG4gICAgICAgIDxkaXY+XG4gICAgICAgICAgPGgxIGNsYXNzTmFtZT1cInRleHQtMnhsIGZvbnQtYm9sZCB0ZXh0LWdyYXktOTAwXCI+Um9sZXMgJiBQb3NpdGlvbnM8L2gxPlxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtZ3JheS01MDAgbXQtMVwiPk1hbmFnZSB3b3JrZXIgcm9sZXMgYW5kIHRoZWlyIGhhemFyZCBhc3NpZ25tZW50czwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRTaG93QWRkTW9kYWwodHJ1ZSl9XG4gICAgICAgICAgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC0yIHB4LTQgcHktMiBiZy1ibHVlLTYwMCB0ZXh0LXdoaXRlIHJvdW5kZWQtbGcgaG92ZXI6YmctYmx1ZS03MDAgdHJhbnNpdGlvbi1jb2xvcnNcIlxuICAgICAgICA+XG4gICAgICAgICAgPFBsdXMgc2l6ZT17MjB9IC8+XG4gICAgICAgICAgPHNwYW4+QWRkIFJvbGU8L3NwYW4+XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9kaXY+XG5cbiAgICAgIHsvKiBTZWFyY2ggKi99XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXdoaXRlIHJvdW5kZWQtbGcgc2hhZG93IHAtNFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlXCI+XG4gICAgICAgICAgPFNlYXJjaCBjbGFzc05hbWU9XCJhYnNvbHV0ZSBsZWZ0LTMgdG9wLTEvMiB0cmFuc2Zvcm0gLXRyYW5zbGF0ZS15LTEvMiB0ZXh0LWdyYXktNDAwXCIgc2l6ZT17MjB9IC8+XG4gICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlNlYXJjaCByb2xlcyBieSBuYW1lIG9yIGRlc2NyaXB0aW9uLi4uXCJcbiAgICAgICAgICAgIHZhbHVlPXtzZWFyY2hUZXJtfVxuICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRTZWFyY2hUZXJtKGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBwbC0xMCBwci00IHB5LTIgYm9yZGVyIGJvcmRlci1ncmF5LTMwMCByb3VuZGVkLWxnIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLWJsdWUtNTAwIGZvY3VzOmJvcmRlci10cmFuc3BhcmVudFwiXG4gICAgICAgICAgLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cblxuICAgICAgey8qIFJvbGVzIEdyaWQgKi99XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXdoaXRlIHJvdW5kZWQtbGcgc2hhZG93IG92ZXJmbG93LWhpZGRlblwiPlxuICAgICAgICB7bG9hZGluZyA/IChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtOCB0ZXh0LWNlbnRlciB0ZXh0LWdyYXktNTAwXCI+TG9hZGluZyByb2xlcy4uLjwvZGl2PlxuICAgICAgICApIDogZmlsdGVyZWRSb2xlcy5sZW5ndGggPT09IDAgPyAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTggdGV4dC1jZW50ZXIgdGV4dC1ncmF5LTUwMFwiPlxuICAgICAgICAgICAge3NlYXJjaFRlcm0gPyAnTm8gcm9sZXMgZm91bmQgbWF0Y2hpbmcgeW91ciBzZWFyY2gnIDogJ05vIHJvbGVzIHlldC4gQ2xpY2sgXCJBZGQgUm9sZVwiIHRvIGNyZWF0ZSBvbmUuJ31cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKSA6IChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTEgbWQ6Z3JpZC1jb2xzLTIgbGc6Z3JpZC1jb2xzLTMgZ2FwLTYgcC02XCI+XG4gICAgICAgICAgICB7ZmlsdGVyZWRSb2xlcy5tYXAoKHJvbGUpID0+IChcbiAgICAgICAgICAgICAgPFJvbGVDYXJkXG4gICAgICAgICAgICAgICAga2V5PXtyb2xlLmlkfVxuICAgICAgICAgICAgICAgIHJvbGU9e3JvbGV9XG4gICAgICAgICAgICAgICAgb25FZGl0PXsoKSA9PiBzZXRFZGl0aW5nUm9sZShyb2xlKX1cbiAgICAgICAgICAgICAgICBvbkRlbGV0ZT17KCkgPT4gc2V0U2hvd0RlbGV0ZUNvbmZpcm0ocm9sZS5pZCl9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICApKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cbiAgICAgIDwvZGl2PlxuXG4gICAgICB7LyogQWRkL0VkaXQgTW9kYWwgKi99XG4gICAgICB7KHNob3dBZGRNb2RhbCB8fCBlZGl0aW5nUm9sZSkgJiYgKFxuICAgICAgICA8Um9sZU1vZGFsXG4gICAgICAgICAgcm9sZT17ZWRpdGluZ1JvbGV9XG4gICAgICAgICAgb25DbG9zZT17KCkgPT4ge1xuICAgICAgICAgICAgc2V0U2hvd0FkZE1vZGFsKGZhbHNlKTtcbiAgICAgICAgICAgIHNldEVkaXRpbmdSb2xlKG51bGwpO1xuICAgICAgICAgIH19XG4gICAgICAgICAgb25TdWNjZXNzPXsoKSA9PiB7XG4gICAgICAgICAgICBzZXRTaG93QWRkTW9kYWwoZmFsc2UpO1xuICAgICAgICAgICAgc2V0RWRpdGluZ1JvbGUobnVsbCk7XG4gICAgICAgICAgICBsb2FkUm9sZXMoKTtcbiAgICAgICAgICB9fVxuICAgICAgICAvPlxuICAgICAgKX1cblxuICAgICAgey8qIERlbGV0ZSBDb25maXJtYXRpb24gKi99XG4gICAgICB7c2hvd0RlbGV0ZUNvbmZpcm0gJiYgKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZpeGVkIGluc2V0LTAgYmctYmxhY2sgYmctb3BhY2l0eS01MCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciB6LTUwXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy13aGl0ZSByb3VuZGVkLWxnIHNoYWRvdy1sZyBtYXgtdy1tZCB3LWZ1bGwgcC02XCI+XG4gICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwidGV4dC1sZyBmb250LXNlbWlib2xkIG1iLTRcIj5EZWxldGUgUm9sZTwvaDM+XG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNjAwIG1iLTZcIj5cbiAgICAgICAgICAgICAgQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRlbGV0ZSB0aGlzIHJvbGU/IFRoaXMgYWN0aW9uIGNhbm5vdCBiZSB1bmRvbmUuXG4gICAgICAgICAgICAgIFdvcmtlcnMgYXNzaWduZWQgdG8gdGhpcyByb2xlIHdpbGwgbmVlZCB0byBiZSByZWFzc2lnbmVkLlxuICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktZW5kIHNwYWNlLXgtM1wiPlxuICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0U2hvd0RlbGV0ZUNvbmZpcm0obnVsbCl9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtNCBweS0yIGJvcmRlciBib3JkZXItZ3JheS0zMDAgcm91bmRlZC1sZyBob3ZlcjpiZy1ncmF5LTUwXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIENhbmNlbFxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGhhbmRsZURlbGV0ZShzaG93RGVsZXRlQ29uZmlybSl9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtNCBweS0yIGJnLXJlZC02MDAgdGV4dC13aGl0ZSByb3VuZGVkLWxnIGhvdmVyOmJnLXJlZC03MDBcIlxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgRGVsZXRlXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuZnVuY3Rpb24gUm9sZUNhcmQoeyByb2xlLCBvbkVkaXQsIG9uRGVsZXRlIH06IHsgcm9sZTogUm9sZTsgb25FZGl0OiAoKSA9PiB2b2lkOyBvbkRlbGV0ZTogKCkgPT4gdm9pZCB9KSB7XG4gIGNvbnN0IGFjdGl2aXR5UGFja2FnZSA9IHJvbGUuYWN0aXZpdHlQYWNrYWdlID8gSlNPTi5wYXJzZShyb2xlLmFjdGl2aXR5UGFja2FnZSkgOiBudWxsO1xuICBjb25zdCBjYXRlZ29yaWVzID0gYWN0aXZpdHlQYWNrYWdlPy5oYXphcmRDYXRlZ29yaWVzIHx8IFtdO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJib3JkZXIgYm9yZGVyLWdyYXktMjAwIHJvdW5kZWQtbGcgcC01IGhvdmVyOnNoYWRvdy1tZCB0cmFuc2l0aW9uLXNoYWRvd1wiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLXN0YXJ0IGp1c3RpZnktYmV0d2VlbiBtYi0zXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC0zXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTEwIGgtMTAgYmctYmx1ZS0xMDAgcm91bmRlZC1mdWxsIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgICAgICA8QnJpZWZjYXNlIGNsYXNzTmFtZT1cInRleHQtYmx1ZS02MDBcIiBzaXplPXsyMH0gLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgdGV4dC1ncmF5LTkwMFwiPntyb2xlLm5hbWV9PC9oMz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cblxuICAgICAge3JvbGUuZGVzY3JpcHRpb24gJiYgKFxuICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS02MDAgbWItMyBsaW5lLWNsYW1wLTJcIj57cm9sZS5kZXNjcmlwdGlvbn08L3A+XG4gICAgICApfVxuXG4gICAgICB7LyogSGF6YXJkIENhdGVnb3JpZXMgKi99XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1iLTRcIj5cbiAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyBmb250LW1lZGl1bSB0ZXh0LWdyYXktNTAwIHVwcGVyY2FzZSBtYi0yXCI+SGF6YXJkIENhdGVnb3JpZXM8L3A+XG4gICAgICAgIHtjYXRlZ29yaWVzLmxlbmd0aCA+IDAgPyAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtd3JhcCBnYXAtMVwiPlxuICAgICAgICAgICAge2NhdGVnb3JpZXMubWFwKChjYXQ6IHN0cmluZykgPT4gKFxuICAgICAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgICAgIGtleT17Y2F0fVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTIgcHktMSBiZy1ncmF5LTEwMCB0ZXh0LWdyYXktNzAwIHRleHQteHMgcm91bmRlZFwiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB7Y2F0fVxuICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICApKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKSA6IChcbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS00MDAgaXRhbGljXCI+Tm8gY2F0ZWdvcmllcyBhc3NpZ25lZDwvcD5cbiAgICAgICAgKX1cbiAgICAgIDwvZGl2PlxuXG4gICAgICB7LyogQWN0aW9ucyAqL31cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1lbmQgc3BhY2UteC0yIHB0LTMgYm9yZGVyLXQgYm9yZGVyLWdyYXktMTAwXCI+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBvbkNsaWNrPXtvbkVkaXR9XG4gICAgICAgICAgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC0xIHB4LTMgcHktMS41IHRleHQtc20gdGV4dC1ibHVlLTYwMCBob3ZlcjpiZy1ibHVlLTUwIHJvdW5kZWQgdHJhbnNpdGlvbi1jb2xvcnNcIlxuICAgICAgICA+XG4gICAgICAgICAgPEVkaXQyIHNpemU9ezE0fSAvPlxuICAgICAgICAgIDxzcGFuPkVkaXQ8L3NwYW4+XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgb25DbGljaz17b25EZWxldGV9XG4gICAgICAgICAgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC0xIHB4LTMgcHktMS41IHRleHQtc20gdGV4dC1yZWQtNjAwIGhvdmVyOmJnLXJlZC01MCByb3VuZGVkIHRyYW5zaXRpb24tY29sb3JzXCJcbiAgICAgICAgPlxuICAgICAgICAgIDxUcmFzaDIgc2l6ZT17MTR9IC8+XG4gICAgICAgICAgPHNwYW4+RGVsZXRlPC9zcGFuPlxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufVxuXG5mdW5jdGlvbiBSb2xlTW9kYWwoe1xuICByb2xlLFxuICBvbkNsb3NlLFxuICBvblN1Y2Nlc3MsXG59OiB7XG4gIHJvbGU/OiBSb2xlIHwgbnVsbDtcbiAgb25DbG9zZTogKCkgPT4gdm9pZDtcbiAgb25TdWNjZXNzOiAoKSA9PiB2b2lkO1xufSkge1xuICBjb25zdCBbbmFtZSwgc2V0TmFtZV0gPSB1c2VTdGF0ZShyb2xlPy5uYW1lIHx8ICcnKTtcbiAgY29uc3QgW2Rlc2NyaXB0aW9uLCBzZXREZXNjcmlwdGlvbl0gPSB1c2VTdGF0ZShyb2xlPy5kZXNjcmlwdGlvbiB8fCAnJyk7XG4gIGNvbnN0IFtzZWxlY3RlZENhdGVnb3JpZXMsIHNldFNlbGVjdGVkQ2F0ZWdvcmllc10gPSB1c2VTdGF0ZTxzdHJpbmdbXT4oKCkgPT4ge1xuICAgIGlmIChyb2xlPy5hY3Rpdml0eVBhY2thZ2UpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHBrZyA9IEpTT04ucGFyc2Uocm9sZS5hY3Rpdml0eVBhY2thZ2UpO1xuICAgICAgICByZXR1cm4gcGtnLmhhemFyZENhdGVnb3JpZXMgfHwgW107XG4gICAgICB9IGNhdGNoIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gW107XG4gIH0pO1xuICBjb25zdCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG5cbiAgY29uc3QgdG9nZ2xlQ2F0ZWdvcnkgPSAoY2F0ZWdvcnk6IHN0cmluZykgPT4ge1xuICAgIHNldFNlbGVjdGVkQ2F0ZWdvcmllcygocHJldikgPT5cbiAgICAgIHByZXYuaW5jbHVkZXMoY2F0ZWdvcnkpXG4gICAgICAgID8gcHJldi5maWx0ZXIoKGMpID0+IGMgIT09IGNhdGVnb3J5KVxuICAgICAgICA6IFsuLi5wcmV2LCBjYXRlZ29yeV1cbiAgICApO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZVN1Ym1pdCA9IGFzeW5jIChlOiBSZWFjdC5Gb3JtRXZlbnQpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICBpZiAoIW5hbWUudHJpbSgpKSB7XG4gICAgICBzZXRFcnJvcignUm9sZSBuYW1lIGlzIHJlcXVpcmVkJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgc2V0TG9hZGluZyh0cnVlKTtcbiAgICBzZXRFcnJvcihudWxsKTtcblxuICAgIHRyeSB7XG4gICAgICBjb25zdCBhY3Rpdml0eVBhY2thZ2UgPSBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIGhhemFyZENhdGVnb3JpZXM6IHNlbGVjdGVkQ2F0ZWdvcmllcyxcbiAgICAgIH0pO1xuXG4gICAgICBpZiAocm9sZSkge1xuICAgICAgICAvLyBVcGRhdGUgZXhpc3Rpbmcgcm9sZVxuICAgICAgICBhd2FpdCB3aW5kb3cuYXBpLnVwZGF0ZVJvbGUoe1xuICAgICAgICAgIGlkOiByb2xlLmlkLFxuICAgICAgICAgIG5hbWU6IG5hbWUudHJpbSgpLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiBkZXNjcmlwdGlvbi50cmltKCkgfHwgbnVsbCxcbiAgICAgICAgICBhY3Rpdml0eVBhY2thZ2UsXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gQ3JlYXRlIG5ldyByb2xlXG4gICAgICAgIGF3YWl0IHdpbmRvdy5hcGkuY3JlYXRlUm9sZSh7XG4gICAgICAgICAgbmFtZTogbmFtZS50cmltKCksXG4gICAgICAgICAgZGVzY3JpcHRpb246IGRlc2NyaXB0aW9uLnRyaW0oKSB8fCBudWxsLFxuICAgICAgICAgIGFjdGl2aXR5UGFja2FnZSxcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIG9uU3VjY2VzcygpO1xuICAgIH0gY2F0Y2ggKGVycjogYW55KSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gc2F2ZSByb2xlOicsIGVycik7XG4gICAgICBzZXRFcnJvcihlcnI/Lm1lc3NhZ2UgfHwgJ0ZhaWxlZCB0byBzYXZlIHJvbGUnKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJmaXhlZCBpbnNldC0wIGJnLWJsYWNrIGJnLW9wYWNpdHktNTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgei01MFwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy13aGl0ZSByb3VuZGVkLWxnIHNoYWRvdy1sZyBtYXgtdy0yeGwgdy1mdWxsIHAtNiBtYXgtaC1bOTB2aF0gb3ZlcmZsb3cteS1hdXRvXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIG1iLTZcIj5cbiAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwidGV4dC14bCBmb250LXNlbWlib2xkXCI+e3JvbGUgPyAnRWRpdCBSb2xlJyA6ICdBZGQgTmV3IFJvbGUnfTwvaDI+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgb25DbGljaz17b25DbG9zZX1cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInAtMiBob3ZlcjpiZy1ncmF5LTEwMCByb3VuZGVkLWZ1bGwgdHJhbnNpdGlvbi1jb2xvcnNcIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxYIHNpemU9ezIwfSAvPlxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8Zm9ybSBvblN1Ym1pdD17aGFuZGxlU3VibWl0fSBjbGFzc05hbWU9XCJzcGFjZS15LTVcIj5cbiAgICAgICAgICB7LyogTmFtZSAqL31cbiAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImJsb2NrIHRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1ncmF5LTcwMCBtYi0yXCI+XG4gICAgICAgICAgICAgIFJvbGUgTmFtZSA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXJlZC01MDBcIj4qPC9zcGFuPlxuICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgIHZhbHVlPXtuYW1lfVxuICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldE5hbWUoZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cImUuZy4sIEVsZWN0cmljaWFuLCBTY2FmZm9sZGVyLCBTdXBlcnZpc29yXCJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHB4LTMgcHktMiBib3JkZXIgYm9yZGVyLWdyYXktMzAwIHJvdW5kZWQtbGcgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctYmx1ZS01MDAgZm9jdXM6Ym9yZGVyLXRyYW5zcGFyZW50XCJcbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e2xvYWRpbmd9XG4gICAgICAgICAgICAgIHJlcXVpcmVkXG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgey8qIERlc2NyaXB0aW9uICovfVxuICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiYmxvY2sgdGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktNzAwIG1iLTJcIj5cbiAgICAgICAgICAgICAgRGVzY3JpcHRpb25cbiAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICA8dGV4dGFyZWFcbiAgICAgICAgICAgICAgdmFsdWU9e2Rlc2NyaXB0aW9ufVxuICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldERlc2NyaXB0aW9uKGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJCcmllZiBkZXNjcmlwdGlvbiBvZiB0aGlzIHJvbGUgYW5kIGl0cyByZXNwb25zaWJpbGl0aWVzXCJcbiAgICAgICAgICAgICAgcm93cz17M31cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHB4LTMgcHktMiBib3JkZXIgYm9yZGVyLWdyYXktMzAwIHJvdW5kZWQtbGcgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctYmx1ZS01MDAgZm9jdXM6Ym9yZGVyLXRyYW5zcGFyZW50XCJcbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e2xvYWRpbmd9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgey8qIEhhemFyZCBDYXRlZ29yaWVzICovfVxuICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiYmxvY2sgdGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktNzAwIG1iLTJcIj5cbiAgICAgICAgICAgICAgSGF6YXJkIENhdGVnb3JpZXNcbiAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS01MDAgbWItM1wiPlxuICAgICAgICAgICAgICBTZWxlY3Qgd2hpY2ggaGF6YXJkIGNhdGVnb3JpZXMgYXBwbHkgdG8gdGhpcyByb2xlLiBXb3JrZXJzIGluIHRoaXMgcm9sZSB3aWxsIGF1dG9tYXRpY2FsbHkgcmVjZWl2ZSBjb250cm9scyBmb3IgaGF6YXJkcyBpbiB0aGVzZSBjYXRlZ29yaWVzLlxuICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJib3JkZXIgYm9yZGVyLWdyYXktMzAwIHJvdW5kZWQtbGcgcC00IG1heC1oLTY0IG92ZXJmbG93LXktYXV0b1wiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTIgZ2FwLTNcIj5cbiAgICAgICAgICAgICAgICB7QVZBSUxBQkxFX0NBVEVHT1JJRVMubWFwKChjYXRlZ29yeSkgPT4gKFxuICAgICAgICAgICAgICAgICAgPGxhYmVsXG4gICAgICAgICAgICAgICAgICAgIGtleT17Y2F0ZWdvcnl9XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtMiBjdXJzb3ItcG9pbnRlciBob3ZlcjpiZy1ncmF5LTUwIHAtMiByb3VuZGVkXCJcbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgdHlwZT1cImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtzZWxlY3RlZENhdGVnb3JpZXMuaW5jbHVkZXMoY2F0ZWdvcnkpfVxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoKSA9PiB0b2dnbGVDYXRlZ29yeShjYXRlZ29yeSl9XG4gICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2xvYWRpbmd9XG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZCBib3JkZXItZ3JheS0zMDAgdGV4dC1ibHVlLTYwMCBmb2N1czpyaW5nLWJsdWUtNTAwXCJcbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktNzAwXCI+e2NhdGVnb3J5fTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICB7c2VsZWN0ZWRDYXRlZ29yaWVzLmxlbmd0aCA+IDAgJiYgKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTIgZmxleCBmbGV4LXdyYXAgZ2FwLTFcIj5cbiAgICAgICAgICAgICAgICB7c2VsZWN0ZWRDYXRlZ29yaWVzLm1hcCgoY2F0KSA9PiAoXG4gICAgICAgICAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgICAgICAgICBrZXk9e2NhdH1cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtMiBweS0xIGJnLWJsdWUtMTAwIHRleHQtYmx1ZS03MDAgdGV4dC14cyByb3VuZGVkXCJcbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAge2NhdH1cbiAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAge2Vycm9yICYmIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1yZWQtNjAwIHRleHQtc20gYmctcmVkLTUwIGJvcmRlciBib3JkZXItcmVkLTIwMCByb3VuZGVkIHAtM1wiPlxuICAgICAgICAgICAgICB7ZXJyb3J9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApfVxuXG4gICAgICAgICAgey8qIEFjdGlvbnMgKi99XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktZW5kIHNwYWNlLXgtMyBwdC00IGJvcmRlci10XCI+XG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICBvbkNsaWNrPXtvbkNsb3NlfVxuICAgICAgICAgICAgICBkaXNhYmxlZD17bG9hZGluZ31cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtNCBweS0yIGJvcmRlciBib3JkZXItZ3JheS0zMDAgcm91bmRlZC1sZyBob3ZlcjpiZy1ncmF5LTUwIHRyYW5zaXRpb24tY29sb3JzXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgQ2FuY2VsXG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgdHlwZT1cInN1Ym1pdFwiXG4gICAgICAgICAgICAgIGRpc2FibGVkPXtsb2FkaW5nfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJweC00IHB5LTIgYmctYmx1ZS02MDAgdGV4dC13aGl0ZSByb3VuZGVkLWxnIGhvdmVyOmJnLWJsdWUtNzAwIHRyYW5zaXRpb24tY29sb3JzIGRpc2FibGVkOm9wYWNpdHktNTBcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICB7bG9hZGluZyA/ICdTYXZpbmcuLi4nIDogcm9sZSA/ICdVcGRhdGUgUm9sZScgOiAnQ3JlYXRlIFJvbGUnfVxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZm9ybT5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufVxuIl0sImZpbGUiOiJDOi9Vc2Vycy9CaWxsLlMvc2FmZXR5LWludGVsbGlnZW5jZS1lbmdpbmUvc3JjL2NvbXBvbmVudHMvcm9sZXMvUm9sZUxpYnJhcnkudHN4In0=